"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/chevrotain";
exports.ids = ["vendor-chunks/chevrotain"];
exports.modules = {

/***/ "(ssr)/./node_modules/chevrotain/lib/src/api.js":
/*!************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/api.js ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Alternation: () => (/* reexport safe */ _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__.Alternation),\n/* harmony export */   Alternative: () => (/* reexport safe */ _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__.Alternative),\n/* harmony export */   CstParser: () => (/* reexport safe */ _parse_parser_parser_js__WEBPACK_IMPORTED_MODULE_1__.CstParser),\n/* harmony export */   EMPTY_ALT: () => (/* reexport safe */ _parse_parser_parser_js__WEBPACK_IMPORTED_MODULE_1__.EMPTY_ALT),\n/* harmony export */   EOF: () => (/* reexport safe */ _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_3__.EOF),\n/* harmony export */   EarlyExitException: () => (/* reexport safe */ _parse_exceptions_public_js__WEBPACK_IMPORTED_MODULE_7__.EarlyExitException),\n/* harmony export */   EmbeddedActionsParser: () => (/* reexport safe */ _parse_parser_parser_js__WEBPACK_IMPORTED_MODULE_1__.EmbeddedActionsParser),\n/* harmony export */   GAstVisitor: () => (/* reexport safe */ _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__.GAstVisitor),\n/* harmony export */   LLkLookaheadStrategy: () => (/* reexport safe */ _parse_grammar_llk_lookahead_js__WEBPACK_IMPORTED_MODULE_5__.LLkLookaheadStrategy),\n/* harmony export */   Lexer: () => (/* reexport safe */ _scan_lexer_public_js__WEBPACK_IMPORTED_MODULE_2__.Lexer),\n/* harmony export */   LexerDefinitionErrorType: () => (/* reexport safe */ _scan_lexer_public_js__WEBPACK_IMPORTED_MODULE_2__.LexerDefinitionErrorType),\n/* harmony export */   MismatchedTokenException: () => (/* reexport safe */ _parse_exceptions_public_js__WEBPACK_IMPORTED_MODULE_7__.MismatchedTokenException),\n/* harmony export */   NoViableAltException: () => (/* reexport safe */ _parse_exceptions_public_js__WEBPACK_IMPORTED_MODULE_7__.NoViableAltException),\n/* harmony export */   NonTerminal: () => (/* reexport safe */ _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__.NonTerminal),\n/* harmony export */   NotAllInputParsedException: () => (/* reexport safe */ _parse_exceptions_public_js__WEBPACK_IMPORTED_MODULE_7__.NotAllInputParsedException),\n/* harmony export */   Option: () => (/* reexport safe */ _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__.Option),\n/* harmony export */   Parser: () => (/* binding */ Parser),\n/* harmony export */   ParserDefinitionErrorType: () => (/* reexport safe */ _parse_parser_parser_js__WEBPACK_IMPORTED_MODULE_1__.ParserDefinitionErrorType),\n/* harmony export */   Repetition: () => (/* reexport safe */ _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__.Repetition),\n/* harmony export */   RepetitionMandatory: () => (/* reexport safe */ _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__.RepetitionMandatory),\n/* harmony export */   RepetitionMandatoryWithSeparator: () => (/* reexport safe */ _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__.RepetitionMandatoryWithSeparator),\n/* harmony export */   RepetitionWithSeparator: () => (/* reexport safe */ _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__.RepetitionWithSeparator),\n/* harmony export */   Rule: () => (/* reexport safe */ _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__.Rule),\n/* harmony export */   Terminal: () => (/* reexport safe */ _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__.Terminal),\n/* harmony export */   VERSION: () => (/* reexport safe */ _version_js__WEBPACK_IMPORTED_MODULE_0__.VERSION),\n/* harmony export */   clearCache: () => (/* binding */ clearCache),\n/* harmony export */   createSyntaxDiagramsCode: () => (/* reexport safe */ _diagrams_render_public_js__WEBPACK_IMPORTED_MODULE_11__.createSyntaxDiagramsCode),\n/* harmony export */   createToken: () => (/* reexport safe */ _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_3__.createToken),\n/* harmony export */   createTokenInstance: () => (/* reexport safe */ _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_3__.createTokenInstance),\n/* harmony export */   defaultLexerErrorProvider: () => (/* reexport safe */ _scan_lexer_errors_public_js__WEBPACK_IMPORTED_MODULE_8__.defaultLexerErrorProvider),\n/* harmony export */   defaultParserErrorProvider: () => (/* reexport safe */ _parse_errors_public_js__WEBPACK_IMPORTED_MODULE_6__.defaultParserErrorProvider),\n/* harmony export */   generateCstDts: () => (/* reexport safe */ _chevrotain_cst_dts_gen__WEBPACK_IMPORTED_MODULE_10__.generateCstDts),\n/* harmony export */   getLookaheadPaths: () => (/* reexport safe */ _parse_grammar_lookahead_js__WEBPACK_IMPORTED_MODULE_4__.getLookaheadPaths),\n/* harmony export */   isRecognitionException: () => (/* reexport safe */ _parse_exceptions_public_js__WEBPACK_IMPORTED_MODULE_7__.isRecognitionException),\n/* harmony export */   serializeGrammar: () => (/* reexport safe */ _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__.serializeGrammar),\n/* harmony export */   serializeProduction: () => (/* reexport safe */ _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__.serializeProduction),\n/* harmony export */   tokenLabel: () => (/* reexport safe */ _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_3__.tokenLabel),\n/* harmony export */   tokenMatcher: () => (/* reexport safe */ _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_3__.tokenMatcher),\n/* harmony export */   tokenName: () => (/* reexport safe */ _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_3__.tokenName)\n/* harmony export */ });\n/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./version.js */ \"(ssr)/./node_modules/chevrotain/lib/src/version.js\");\n/* harmony import */ var _parse_parser_parser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parse/parser/parser.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/parser/parser.js\");\n/* harmony import */ var _scan_lexer_public_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scan/lexer_public.js */ \"(ssr)/./node_modules/chevrotain/lib/src/scan/lexer_public.js\");\n/* harmony import */ var _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./scan/tokens_public.js */ \"(ssr)/./node_modules/chevrotain/lib/src/scan/tokens_public.js\");\n/* harmony import */ var _parse_grammar_lookahead_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./parse/grammar/lookahead.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/lookahead.js\");\n/* harmony import */ var _parse_grammar_llk_lookahead_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./parse/grammar/llk_lookahead.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/llk_lookahead.js\");\n/* harmony import */ var _parse_errors_public_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./parse/errors_public.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/errors_public.js\");\n/* harmony import */ var _parse_exceptions_public_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./parse/exceptions_public.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/exceptions_public.js\");\n/* harmony import */ var _scan_lexer_errors_public_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./scan/lexer_errors_public.js */ \"(ssr)/./node_modules/chevrotain/lib/src/scan/lexer_errors_public.js\");\n/* harmony import */ var _chevrotain_gast__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @chevrotain/gast */ \"(ssr)/./node_modules/@chevrotain/gast/lib/src/api.js\");\n/* harmony import */ var _chevrotain_cst_dts_gen__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @chevrotain/cst-dts-gen */ \"(ssr)/./node_modules/@chevrotain/cst-dts-gen/lib/src/api.js\");\n/* harmony import */ var _diagrams_render_public_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./diagrams/render_public.js */ \"(ssr)/./node_modules/chevrotain/lib/src/diagrams/render_public.js\");\n/* istanbul ignore file - tricky to import some things from this module during testing */\n// semantic version\n\n\n\n// Tokens utilities\n\n// Lookahead\n\n\n// Other Utilities\n\n\n\n// grammar reflection API\n\n// GAST Utilities\n\n\n/* istanbul ignore next */\nfunction clearCache() {\n    console.warn(\"The clearCache function was 'soft' removed from the Chevrotain API.\" +\n        \"\\n\\t It performs no action other than printing this message.\" +\n        \"\\n\\t Please avoid using it as it will be completely removed in the future\");\n}\n\nclass Parser {\n    constructor() {\n        throw new Error(\"The Parser class has been deprecated, use CstParser or EmbeddedActionsParser instead.\\t\\n\" +\n            \"See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_7-0-0\");\n    }\n}\n//# sourceMappingURL=api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL2FwaS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ3VDO0FBQzRFO0FBQzFDO0FBQ3pFO0FBQ3NIO0FBQ3RIO0FBQ2lFO0FBQ087QUFDeEU7QUFDc0U7QUFDaUc7QUFDN0Y7QUFDMUU7QUFDOEw7QUFDOUw7QUFDdUY7QUFDOUI7QUFDekQ7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ3VFO0FBQ2hFO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVybWFpZC1kaWFncmFtLWVkaXRvci8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvYXBpLmpzPzZiOWUiXSwic291cmNlc0NvbnRlbnQiOlsiLyogaXN0YW5idWwgaWdub3JlIGZpbGUgLSB0cmlja3kgdG8gaW1wb3J0IHNvbWUgdGhpbmdzIGZyb20gdGhpcyBtb2R1bGUgZHVyaW5nIHRlc3RpbmcgKi9cbi8vIHNlbWFudGljIHZlcnNpb25cbmV4cG9ydCB7IFZFUlNJT04gfSBmcm9tIFwiLi92ZXJzaW9uLmpzXCI7XG5leHBvcnQgeyBDc3RQYXJzZXIsIEVtYmVkZGVkQWN0aW9uc1BhcnNlciwgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZSwgRU1QVFlfQUxULCB9IGZyb20gXCIuL3BhcnNlL3BhcnNlci9wYXJzZXIuanNcIjtcbmV4cG9ydCB7IExleGVyLCBMZXhlckRlZmluaXRpb25FcnJvclR5cGUgfSBmcm9tIFwiLi9zY2FuL2xleGVyX3B1YmxpYy5qc1wiO1xuLy8gVG9rZW5zIHV0aWxpdGllc1xuZXhwb3J0IHsgY3JlYXRlVG9rZW4sIGNyZWF0ZVRva2VuSW5zdGFuY2UsIEVPRiwgdG9rZW5MYWJlbCwgdG9rZW5NYXRjaGVyLCB0b2tlbk5hbWUsIH0gZnJvbSBcIi4vc2Nhbi90b2tlbnNfcHVibGljLmpzXCI7XG4vLyBMb29rYWhlYWRcbmV4cG9ydCB7IGdldExvb2thaGVhZFBhdGhzIH0gZnJvbSBcIi4vcGFyc2UvZ3JhbW1hci9sb29rYWhlYWQuanNcIjtcbmV4cG9ydCB7IExMa0xvb2thaGVhZFN0cmF0ZWd5IH0gZnJvbSBcIi4vcGFyc2UvZ3JhbW1hci9sbGtfbG9va2FoZWFkLmpzXCI7XG4vLyBPdGhlciBVdGlsaXRpZXNcbmV4cG9ydCB7IGRlZmF1bHRQYXJzZXJFcnJvclByb3ZpZGVyIH0gZnJvbSBcIi4vcGFyc2UvZXJyb3JzX3B1YmxpYy5qc1wiO1xuZXhwb3J0IHsgRWFybHlFeGl0RXhjZXB0aW9uLCBpc1JlY29nbml0aW9uRXhjZXB0aW9uLCBNaXNtYXRjaGVkVG9rZW5FeGNlcHRpb24sIE5vdEFsbElucHV0UGFyc2VkRXhjZXB0aW9uLCBOb1ZpYWJsZUFsdEV4Y2VwdGlvbiwgfSBmcm9tIFwiLi9wYXJzZS9leGNlcHRpb25zX3B1YmxpYy5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdExleGVyRXJyb3JQcm92aWRlciB9IGZyb20gXCIuL3NjYW4vbGV4ZXJfZXJyb3JzX3B1YmxpYy5qc1wiO1xuLy8gZ3JhbW1hciByZWZsZWN0aW9uIEFQSVxuZXhwb3J0IHsgQWx0ZXJuYXRpb24sIEFsdGVybmF0aXZlLCBOb25UZXJtaW5hbCwgT3B0aW9uLCBSZXBldGl0aW9uLCBSZXBldGl0aW9uTWFuZGF0b3J5LCBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciwgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IsIFJ1bGUsIFRlcm1pbmFsLCB9IGZyb20gXCJAY2hldnJvdGFpbi9nYXN0XCI7XG4vLyBHQVNUIFV0aWxpdGllc1xuZXhwb3J0IHsgc2VyaWFsaXplR3JhbW1hciwgc2VyaWFsaXplUHJvZHVjdGlvbiwgR0FzdFZpc2l0b3IsIH0gZnJvbSBcIkBjaGV2cm90YWluL2dhc3RcIjtcbmV4cG9ydCB7IGdlbmVyYXRlQ3N0RHRzIH0gZnJvbSBcIkBjaGV2cm90YWluL2NzdC1kdHMtZ2VuXCI7XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQ2FjaGUoKSB7XG4gICAgY29uc29sZS53YXJuKFwiVGhlIGNsZWFyQ2FjaGUgZnVuY3Rpb24gd2FzICdzb2Z0JyByZW1vdmVkIGZyb20gdGhlIENoZXZyb3RhaW4gQVBJLlwiICtcbiAgICAgICAgXCJcXG5cXHQgSXQgcGVyZm9ybXMgbm8gYWN0aW9uIG90aGVyIHRoYW4gcHJpbnRpbmcgdGhpcyBtZXNzYWdlLlwiICtcbiAgICAgICAgXCJcXG5cXHQgUGxlYXNlIGF2b2lkIHVzaW5nIGl0IGFzIGl0IHdpbGwgYmUgY29tcGxldGVseSByZW1vdmVkIGluIHRoZSBmdXR1cmVcIik7XG59XG5leHBvcnQgeyBjcmVhdGVTeW50YXhEaWFncmFtc0NvZGUgfSBmcm9tIFwiLi9kaWFncmFtcy9yZW5kZXJfcHVibGljLmpzXCI7XG5leHBvcnQgY2xhc3MgUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIFBhcnNlciBjbGFzcyBoYXMgYmVlbiBkZXByZWNhdGVkLCB1c2UgQ3N0UGFyc2VyIG9yIEVtYmVkZGVkQWN0aW9uc1BhcnNlciBpbnN0ZWFkLlxcdFxcblwiICtcbiAgICAgICAgICAgIFwiU2VlOiBodHRwczovL2NoZXZyb3RhaW4uaW8vZG9jcy9jaGFuZ2VzL0JSRUFLSU5HX0NIQU5HRVMuaHRtbCNfNy0wLTBcIik7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/api.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/diagrams/render_public.js":
/*!*******************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/diagrams/render_public.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSyntaxDiagramsCode: () => (/* binding */ createSyntaxDiagramsCode)\n/* harmony export */ });\n/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../version.js */ \"(ssr)/./node_modules/chevrotain/lib/src/version.js\");\n\nfunction createSyntaxDiagramsCode(grammar, { resourceBase = `https://unpkg.com/chevrotain@${_version_js__WEBPACK_IMPORTED_MODULE_0__.VERSION}/diagrams/`, css = `https://unpkg.com/chevrotain@${_version_js__WEBPACK_IMPORTED_MODULE_0__.VERSION}/diagrams/diagrams.css`, } = {}) {\n    const header = `\n<!-- This is a generated file -->\n<!DOCTYPE html>\n<meta charset=\"utf-8\">\n<style>\n  body {\n    background-color: hsl(30, 20%, 95%)\n  }\n</style>\n\n`;\n    const cssHtml = `\n<link rel='stylesheet' href='${css}'>\n`;\n    const scripts = `\n<script src='${resourceBase}vendor/railroad-diagrams.js'></script>\n<script src='${resourceBase}src/diagrams_builder.js'></script>\n<script src='${resourceBase}src/diagrams_behavior.js'></script>\n<script src='${resourceBase}src/main.js'></script>\n`;\n    const diagramsDiv = `\n<div id=\"diagrams\" align=\"center\"></div>    \n`;\n    const serializedGrammar = `\n<script>\n    window.serializedGrammar = ${JSON.stringify(grammar, null, \"  \")};\n</script>\n`;\n    const initLogic = `\n<script>\n    var diagramsDiv = document.getElementById(\"diagrams\");\n    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);\n</script>\n`;\n    return (header + cssHtml + scripts + diagramsDiv + serializedGrammar + initLogic);\n}\n//# sourceMappingURL=render_public.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL2RpYWdyYW1zL3JlbmRlcl9wdWJsaWMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBd0M7QUFDakMsNkNBQTZDLCtDQUErQyxnREFBTyxDQUFDLG1EQUFtRCxnREFBTyxDQUFDLDJCQUEyQixJQUFJO0FBQ3JNO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0JBQStCLElBQUk7QUFDbkM7QUFDQTtBQUNBLGVBQWUsYUFBYTtBQUM1QixlQUFlLGFBQWE7QUFDNUIsZUFBZSxhQUFhO0FBQzVCLGVBQWUsYUFBYTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL21lcm1haWQtZGlhZ3JhbS1lZGl0b3IvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL2RpYWdyYW1zL3JlbmRlcl9wdWJsaWMuanM/Y2UxMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSBcIi4uL3ZlcnNpb24uanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTeW50YXhEaWFncmFtc0NvZGUoZ3JhbW1hciwgeyByZXNvdXJjZUJhc2UgPSBgaHR0cHM6Ly91bnBrZy5jb20vY2hldnJvdGFpbkAke1ZFUlNJT059L2RpYWdyYW1zL2AsIGNzcyA9IGBodHRwczovL3VucGtnLmNvbS9jaGV2cm90YWluQCR7VkVSU0lPTn0vZGlhZ3JhbXMvZGlhZ3JhbXMuY3NzYCwgfSA9IHt9KSB7XG4gICAgY29uc3QgaGVhZGVyID0gYFxuPCEtLSBUaGlzIGlzIGEgZ2VuZXJhdGVkIGZpbGUgLS0+XG48IURPQ1RZUEUgaHRtbD5cbjxtZXRhIGNoYXJzZXQ9XCJ1dGYtOFwiPlxuPHN0eWxlPlxuICBib2R5IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBoc2woMzAsIDIwJSwgOTUlKVxuICB9XG48L3N0eWxlPlxuXG5gO1xuICAgIGNvbnN0IGNzc0h0bWwgPSBgXG48bGluayByZWw9J3N0eWxlc2hlZXQnIGhyZWY9JyR7Y3NzfSc+XG5gO1xuICAgIGNvbnN0IHNjcmlwdHMgPSBgXG48c2NyaXB0IHNyYz0nJHtyZXNvdXJjZUJhc2V9dmVuZG9yL3JhaWxyb2FkLWRpYWdyYW1zLmpzJz48L3NjcmlwdD5cbjxzY3JpcHQgc3JjPScke3Jlc291cmNlQmFzZX1zcmMvZGlhZ3JhbXNfYnVpbGRlci5qcyc+PC9zY3JpcHQ+XG48c2NyaXB0IHNyYz0nJHtyZXNvdXJjZUJhc2V9c3JjL2RpYWdyYW1zX2JlaGF2aW9yLmpzJz48L3NjcmlwdD5cbjxzY3JpcHQgc3JjPScke3Jlc291cmNlQmFzZX1zcmMvbWFpbi5qcyc+PC9zY3JpcHQ+XG5gO1xuICAgIGNvbnN0IGRpYWdyYW1zRGl2ID0gYFxuPGRpdiBpZD1cImRpYWdyYW1zXCIgYWxpZ249XCJjZW50ZXJcIj48L2Rpdj4gICAgXG5gO1xuICAgIGNvbnN0IHNlcmlhbGl6ZWRHcmFtbWFyID0gYFxuPHNjcmlwdD5cbiAgICB3aW5kb3cuc2VyaWFsaXplZEdyYW1tYXIgPSAke0pTT04uc3RyaW5naWZ5KGdyYW1tYXIsIG51bGwsIFwiICBcIil9O1xuPC9zY3JpcHQ+XG5gO1xuICAgIGNvbnN0IGluaXRMb2dpYyA9IGBcbjxzY3JpcHQ+XG4gICAgdmFyIGRpYWdyYW1zRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkaWFncmFtc1wiKTtcbiAgICBtYWluLmRyYXdEaWFncmFtc0Zyb21TZXJpYWxpemVkR3JhbW1hcihzZXJpYWxpemVkR3JhbW1hciwgZGlhZ3JhbXNEaXYpO1xuPC9zY3JpcHQ+XG5gO1xuICAgIHJldHVybiAoaGVhZGVyICsgY3NzSHRtbCArIHNjcmlwdHMgKyBkaWFncmFtc0RpdiArIHNlcmlhbGl6ZWRHcmFtbWFyICsgaW5pdExvZ2ljKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlbmRlcl9wdWJsaWMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/diagrams/render_public.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/lang/lang_extensions.js":
/*!*****************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/lang/lang_extensions.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defineNameProp: () => (/* binding */ defineNameProp)\n/* harmony export */ });\nconst NAME = \"name\";\nfunction defineNameProp(obj, nameValue) {\n    Object.defineProperty(obj, NAME, {\n        enumerable: false,\n        configurable: true,\n        writable: false,\n        value: nameValue,\n    });\n}\n//# sourceMappingURL=lang_extensions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL2xhbmcvbGFuZ19leHRlbnNpb25zLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVybWFpZC1kaWFncmFtLWVkaXRvci8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvbGFuZy9sYW5nX2V4dGVuc2lvbnMuanM/MWI2MSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBOQU1FID0gXCJuYW1lXCI7XG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lTmFtZVByb3Aob2JqLCBuYW1lVmFsdWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBOQU1FLCB7XG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgdmFsdWU6IG5hbWVWYWx1ZSxcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxhbmdfZXh0ZW5zaW9ucy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/lang/lang_extensions.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/parse/constants.js":
/*!************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/parse/constants.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IN: () => (/* binding */ IN)\n/* harmony export */ });\n// TODO: can this be removed? where is it used?\nconst IN = \"_~IN~_\";\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL2NvbnN0YW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDTztBQUNQIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVybWFpZC1kaWFncmFtLWVkaXRvci8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvY29uc3RhbnRzLmpzPzhlMzYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVE9ETzogY2FuIHRoaXMgYmUgcmVtb3ZlZD8gd2hlcmUgaXMgaXQgdXNlZD9cbmV4cG9ydCBjb25zdCBJTiA9IFwiX35JTn5fXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/parse/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/parse/cst/cst.js":
/*!**********************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/parse/cst/cst.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addNoneTerminalToCst: () => (/* binding */ addNoneTerminalToCst),\n/* harmony export */   addTerminalToCst: () => (/* binding */ addTerminalToCst),\n/* harmony export */   setNodeLocationFull: () => (/* binding */ setNodeLocationFull),\n/* harmony export */   setNodeLocationOnlyOffset: () => (/* binding */ setNodeLocationOnlyOffset)\n/* harmony export */ });\n/**\n * This nodeLocation tracking is not efficient and should only be used\n * when error recovery is enabled or the Token Vector contains virtual Tokens\n * (e.g, Python Indent/Outdent)\n * As it executes the calculation for every single terminal/nonTerminal\n * and does not rely on the fact the token vector is **sorted**\n */\nfunction setNodeLocationOnlyOffset(currNodeLocation, newLocationInfo) {\n    // First (valid) update for this cst node\n    if (isNaN(currNodeLocation.startOffset) === true) {\n        // assumption1: Token location information is either NaN or a valid number\n        // assumption2: Token location information is fully valid if it exist\n        // (both start/end offsets exist and are numbers).\n        currNodeLocation.startOffset = newLocationInfo.startOffset;\n        currNodeLocation.endOffset = newLocationInfo.endOffset;\n    }\n    // Once the startOffset has been updated with a valid number it should never receive\n    // any farther updates as the Token vector is sorted.\n    // We still have to check this this condition for every new possible location info\n    // because with error recovery enabled we may encounter invalid tokens (NaN location props)\n    else if (currNodeLocation.endOffset < newLocationInfo.endOffset === true) {\n        currNodeLocation.endOffset = newLocationInfo.endOffset;\n    }\n}\n/**\n * This nodeLocation tracking is not efficient and should only be used\n * when error recovery is enabled or the Token Vector contains virtual Tokens\n * (e.g, Python Indent/Outdent)\n * As it executes the calculation for every single terminal/nonTerminal\n * and does not rely on the fact the token vector is **sorted**\n */\nfunction setNodeLocationFull(currNodeLocation, newLocationInfo) {\n    // First (valid) update for this cst node\n    if (isNaN(currNodeLocation.startOffset) === true) {\n        // assumption1: Token location information is either NaN or a valid number\n        // assumption2: Token location information is fully valid if it exist\n        // (all start/end props exist and are numbers).\n        currNodeLocation.startOffset = newLocationInfo.startOffset;\n        currNodeLocation.startColumn = newLocationInfo.startColumn;\n        currNodeLocation.startLine = newLocationInfo.startLine;\n        currNodeLocation.endOffset = newLocationInfo.endOffset;\n        currNodeLocation.endColumn = newLocationInfo.endColumn;\n        currNodeLocation.endLine = newLocationInfo.endLine;\n    }\n    // Once the start props has been updated with a valid number it should never receive\n    // any farther updates as the Token vector is sorted.\n    // We still have to check this this condition for every new possible location info\n    // because with error recovery enabled we may encounter invalid tokens (NaN location props)\n    else if (currNodeLocation.endOffset < newLocationInfo.endOffset === true) {\n        currNodeLocation.endOffset = newLocationInfo.endOffset;\n        currNodeLocation.endColumn = newLocationInfo.endColumn;\n        currNodeLocation.endLine = newLocationInfo.endLine;\n    }\n}\nfunction addTerminalToCst(node, token, tokenTypeName) {\n    if (node.children[tokenTypeName] === undefined) {\n        node.children[tokenTypeName] = [token];\n    }\n    else {\n        node.children[tokenTypeName].push(token);\n    }\n}\nfunction addNoneTerminalToCst(node, ruleName, ruleResult) {\n    if (node.children[ruleName] === undefined) {\n        node.children[ruleName] = [ruleResult];\n    }\n    else {\n        node.children[ruleName].push(ruleResult);\n    }\n}\n//# sourceMappingURL=cst.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL2NzdC9jc3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXJtYWlkLWRpYWdyYW0tZWRpdG9yLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy9wYXJzZS9jc3QvY3N0LmpzP2IyZDQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGlzIG5vZGVMb2NhdGlvbiB0cmFja2luZyBpcyBub3QgZWZmaWNpZW50IGFuZCBzaG91bGQgb25seSBiZSB1c2VkXG4gKiB3aGVuIGVycm9yIHJlY292ZXJ5IGlzIGVuYWJsZWQgb3IgdGhlIFRva2VuIFZlY3RvciBjb250YWlucyB2aXJ0dWFsIFRva2Vuc1xuICogKGUuZywgUHl0aG9uIEluZGVudC9PdXRkZW50KVxuICogQXMgaXQgZXhlY3V0ZXMgdGhlIGNhbGN1bGF0aW9uIGZvciBldmVyeSBzaW5nbGUgdGVybWluYWwvbm9uVGVybWluYWxcbiAqIGFuZCBkb2VzIG5vdCByZWx5IG9uIHRoZSBmYWN0IHRoZSB0b2tlbiB2ZWN0b3IgaXMgKipzb3J0ZWQqKlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0Tm9kZUxvY2F0aW9uT25seU9mZnNldChjdXJyTm9kZUxvY2F0aW9uLCBuZXdMb2NhdGlvbkluZm8pIHtcbiAgICAvLyBGaXJzdCAodmFsaWQpIHVwZGF0ZSBmb3IgdGhpcyBjc3Qgbm9kZVxuICAgIGlmIChpc05hTihjdXJyTm9kZUxvY2F0aW9uLnN0YXJ0T2Zmc2V0KSA9PT0gdHJ1ZSkge1xuICAgICAgICAvLyBhc3N1bXB0aW9uMTogVG9rZW4gbG9jYXRpb24gaW5mb3JtYXRpb24gaXMgZWl0aGVyIE5hTiBvciBhIHZhbGlkIG51bWJlclxuICAgICAgICAvLyBhc3N1bXB0aW9uMjogVG9rZW4gbG9jYXRpb24gaW5mb3JtYXRpb24gaXMgZnVsbHkgdmFsaWQgaWYgaXQgZXhpc3RcbiAgICAgICAgLy8gKGJvdGggc3RhcnQvZW5kIG9mZnNldHMgZXhpc3QgYW5kIGFyZSBudW1iZXJzKS5cbiAgICAgICAgY3Vyck5vZGVMb2NhdGlvbi5zdGFydE9mZnNldCA9IG5ld0xvY2F0aW9uSW5mby5zdGFydE9mZnNldDtcbiAgICAgICAgY3Vyck5vZGVMb2NhdGlvbi5lbmRPZmZzZXQgPSBuZXdMb2NhdGlvbkluZm8uZW5kT2Zmc2V0O1xuICAgIH1cbiAgICAvLyBPbmNlIHRoZSBzdGFydE9mZnNldCBoYXMgYmVlbiB1cGRhdGVkIHdpdGggYSB2YWxpZCBudW1iZXIgaXQgc2hvdWxkIG5ldmVyIHJlY2VpdmVcbiAgICAvLyBhbnkgZmFydGhlciB1cGRhdGVzIGFzIHRoZSBUb2tlbiB2ZWN0b3IgaXMgc29ydGVkLlxuICAgIC8vIFdlIHN0aWxsIGhhdmUgdG8gY2hlY2sgdGhpcyB0aGlzIGNvbmRpdGlvbiBmb3IgZXZlcnkgbmV3IHBvc3NpYmxlIGxvY2F0aW9uIGluZm9cbiAgICAvLyBiZWNhdXNlIHdpdGggZXJyb3IgcmVjb3ZlcnkgZW5hYmxlZCB3ZSBtYXkgZW5jb3VudGVyIGludmFsaWQgdG9rZW5zIChOYU4gbG9jYXRpb24gcHJvcHMpXG4gICAgZWxzZSBpZiAoY3Vyck5vZGVMb2NhdGlvbi5lbmRPZmZzZXQgPCBuZXdMb2NhdGlvbkluZm8uZW5kT2Zmc2V0ID09PSB0cnVlKSB7XG4gICAgICAgIGN1cnJOb2RlTG9jYXRpb24uZW5kT2Zmc2V0ID0gbmV3TG9jYXRpb25JbmZvLmVuZE9mZnNldDtcbiAgICB9XG59XG4vKipcbiAqIFRoaXMgbm9kZUxvY2F0aW9uIHRyYWNraW5nIGlzIG5vdCBlZmZpY2llbnQgYW5kIHNob3VsZCBvbmx5IGJlIHVzZWRcbiAqIHdoZW4gZXJyb3IgcmVjb3ZlcnkgaXMgZW5hYmxlZCBvciB0aGUgVG9rZW4gVmVjdG9yIGNvbnRhaW5zIHZpcnR1YWwgVG9rZW5zXG4gKiAoZS5nLCBQeXRob24gSW5kZW50L091dGRlbnQpXG4gKiBBcyBpdCBleGVjdXRlcyB0aGUgY2FsY3VsYXRpb24gZm9yIGV2ZXJ5IHNpbmdsZSB0ZXJtaW5hbC9ub25UZXJtaW5hbFxuICogYW5kIGRvZXMgbm90IHJlbHkgb24gdGhlIGZhY3QgdGhlIHRva2VuIHZlY3RvciBpcyAqKnNvcnRlZCoqXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXROb2RlTG9jYXRpb25GdWxsKGN1cnJOb2RlTG9jYXRpb24sIG5ld0xvY2F0aW9uSW5mbykge1xuICAgIC8vIEZpcnN0ICh2YWxpZCkgdXBkYXRlIGZvciB0aGlzIGNzdCBub2RlXG4gICAgaWYgKGlzTmFOKGN1cnJOb2RlTG9jYXRpb24uc3RhcnRPZmZzZXQpID09PSB0cnVlKSB7XG4gICAgICAgIC8vIGFzc3VtcHRpb24xOiBUb2tlbiBsb2NhdGlvbiBpbmZvcm1hdGlvbiBpcyBlaXRoZXIgTmFOIG9yIGEgdmFsaWQgbnVtYmVyXG4gICAgICAgIC8vIGFzc3VtcHRpb24yOiBUb2tlbiBsb2NhdGlvbiBpbmZvcm1hdGlvbiBpcyBmdWxseSB2YWxpZCBpZiBpdCBleGlzdFxuICAgICAgICAvLyAoYWxsIHN0YXJ0L2VuZCBwcm9wcyBleGlzdCBhbmQgYXJlIG51bWJlcnMpLlxuICAgICAgICBjdXJyTm9kZUxvY2F0aW9uLnN0YXJ0T2Zmc2V0ID0gbmV3TG9jYXRpb25JbmZvLnN0YXJ0T2Zmc2V0O1xuICAgICAgICBjdXJyTm9kZUxvY2F0aW9uLnN0YXJ0Q29sdW1uID0gbmV3TG9jYXRpb25JbmZvLnN0YXJ0Q29sdW1uO1xuICAgICAgICBjdXJyTm9kZUxvY2F0aW9uLnN0YXJ0TGluZSA9IG5ld0xvY2F0aW9uSW5mby5zdGFydExpbmU7XG4gICAgICAgIGN1cnJOb2RlTG9jYXRpb24uZW5kT2Zmc2V0ID0gbmV3TG9jYXRpb25JbmZvLmVuZE9mZnNldDtcbiAgICAgICAgY3Vyck5vZGVMb2NhdGlvbi5lbmRDb2x1bW4gPSBuZXdMb2NhdGlvbkluZm8uZW5kQ29sdW1uO1xuICAgICAgICBjdXJyTm9kZUxvY2F0aW9uLmVuZExpbmUgPSBuZXdMb2NhdGlvbkluZm8uZW5kTGluZTtcbiAgICB9XG4gICAgLy8gT25jZSB0aGUgc3RhcnQgcHJvcHMgaGFzIGJlZW4gdXBkYXRlZCB3aXRoIGEgdmFsaWQgbnVtYmVyIGl0IHNob3VsZCBuZXZlciByZWNlaXZlXG4gICAgLy8gYW55IGZhcnRoZXIgdXBkYXRlcyBhcyB0aGUgVG9rZW4gdmVjdG9yIGlzIHNvcnRlZC5cbiAgICAvLyBXZSBzdGlsbCBoYXZlIHRvIGNoZWNrIHRoaXMgdGhpcyBjb25kaXRpb24gZm9yIGV2ZXJ5IG5ldyBwb3NzaWJsZSBsb2NhdGlvbiBpbmZvXG4gICAgLy8gYmVjYXVzZSB3aXRoIGVycm9yIHJlY292ZXJ5IGVuYWJsZWQgd2UgbWF5IGVuY291bnRlciBpbnZhbGlkIHRva2VucyAoTmFOIGxvY2F0aW9uIHByb3BzKVxuICAgIGVsc2UgaWYgKGN1cnJOb2RlTG9jYXRpb24uZW5kT2Zmc2V0IDwgbmV3TG9jYXRpb25JbmZvLmVuZE9mZnNldCA9PT0gdHJ1ZSkge1xuICAgICAgICBjdXJyTm9kZUxvY2F0aW9uLmVuZE9mZnNldCA9IG5ld0xvY2F0aW9uSW5mby5lbmRPZmZzZXQ7XG4gICAgICAgIGN1cnJOb2RlTG9jYXRpb24uZW5kQ29sdW1uID0gbmV3TG9jYXRpb25JbmZvLmVuZENvbHVtbjtcbiAgICAgICAgY3Vyck5vZGVMb2NhdGlvbi5lbmRMaW5lID0gbmV3TG9jYXRpb25JbmZvLmVuZExpbmU7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGFkZFRlcm1pbmFsVG9Dc3Qobm9kZSwgdG9rZW4sIHRva2VuVHlwZU5hbWUpIHtcbiAgICBpZiAobm9kZS5jaGlsZHJlblt0b2tlblR5cGVOYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG5vZGUuY2hpbGRyZW5bdG9rZW5UeXBlTmFtZV0gPSBbdG9rZW5dO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbm9kZS5jaGlsZHJlblt0b2tlblR5cGVOYW1lXS5wdXNoKHRva2VuKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gYWRkTm9uZVRlcm1pbmFsVG9Dc3Qobm9kZSwgcnVsZU5hbWUsIHJ1bGVSZXN1bHQpIHtcbiAgICBpZiAobm9kZS5jaGlsZHJlbltydWxlTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBub2RlLmNoaWxkcmVuW3J1bGVOYW1lXSA9IFtydWxlUmVzdWx0XTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5vZGUuY2hpbGRyZW5bcnVsZU5hbWVdLnB1c2gocnVsZVJlc3VsdCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3N0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/parse/cst/cst.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/parse/cst/cst_visitor.js":
/*!******************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/parse/cst/cst_visitor.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CstVisitorDefinitionError: () => (/* binding */ CstVisitorDefinitionError),\n/* harmony export */   createBaseSemanticVisitorConstructor: () => (/* binding */ createBaseSemanticVisitorConstructor),\n/* harmony export */   createBaseVisitorConstructorWithDefaults: () => (/* binding */ createBaseVisitorConstructorWithDefaults),\n/* harmony export */   defaultVisit: () => (/* binding */ defaultVisit),\n/* harmony export */   validateMissingCstMethods: () => (/* binding */ validateMissingCstMethods),\n/* harmony export */   validateVisitor: () => (/* binding */ validateVisitor)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/keys.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isArray.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isUndefined.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isEmpty.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/map.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/forEach.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/filter.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isFunction.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/compact.js\");\n/* harmony import */ var _lang_lang_extensions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lang/lang_extensions.js */ \"(ssr)/./node_modules/chevrotain/lib/src/lang/lang_extensions.js\");\n\n\nfunction defaultVisit(ctx, param) {\n    const childrenNames = (0,lodash_es__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(ctx);\n    const childrenNamesLength = childrenNames.length;\n    for (let i = 0; i < childrenNamesLength; i++) {\n        const currChildName = childrenNames[i];\n        const currChildArray = ctx[currChildName];\n        const currChildArrayLength = currChildArray.length;\n        for (let j = 0; j < currChildArrayLength; j++) {\n            const currChild = currChildArray[j];\n            // distinction between Tokens Children and CstNode children\n            if (currChild.tokenTypeIdx === undefined) {\n                this[currChild.name](currChild.children, param);\n            }\n        }\n    }\n    // defaultVisit does not support generic out param\n}\nfunction createBaseSemanticVisitorConstructor(grammarName, ruleNames) {\n    const derivedConstructor = function () { };\n    // can be overwritten according to:\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/\n    // name?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FFunction%2Fname\n    (0,_lang_lang_extensions_js__WEBPACK_IMPORTED_MODULE_0__.defineNameProp)(derivedConstructor, grammarName + \"BaseSemantics\");\n    const semanticProto = {\n        visit: function (cstNode, param) {\n            // enables writing more concise visitor methods when CstNode has only a single child\n            if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(cstNode)) {\n                // A CST Node's children dictionary can never have empty arrays as values\n                // If a key is defined there will be at least one element in the corresponding value array.\n                cstNode = cstNode[0];\n            }\n            // enables passing optional CstNodes concisely.\n            if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(cstNode)) {\n                return undefined;\n            }\n            return this[cstNode.name](cstNode.children, param);\n        },\n        validateVisitor: function () {\n            const semanticDefinitionErrors = validateVisitor(this, ruleNames);\n            if (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(semanticDefinitionErrors)) {\n                const errorMessages = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(semanticDefinitionErrors, (currDefError) => currDefError.msg);\n                throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:\\n\\t` +\n                    `${errorMessages.join(\"\\n\\n\").replace(/\\n/g, \"\\n\\t\")}`);\n            }\n        },\n    };\n    derivedConstructor.prototype = semanticProto;\n    derivedConstructor.prototype.constructor = derivedConstructor;\n    derivedConstructor._RULE_NAMES = ruleNames;\n    return derivedConstructor;\n}\nfunction createBaseVisitorConstructorWithDefaults(grammarName, ruleNames, baseConstructor) {\n    const derivedConstructor = function () { };\n    // can be overwritten according to:\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/\n    // name?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FFunction%2Fname\n    (0,_lang_lang_extensions_js__WEBPACK_IMPORTED_MODULE_0__.defineNameProp)(derivedConstructor, grammarName + \"BaseSemanticsWithDefaults\");\n    const withDefaultsProto = Object.create(baseConstructor.prototype);\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(ruleNames, (ruleName) => {\n        withDefaultsProto[ruleName] = defaultVisit;\n    });\n    derivedConstructor.prototype = withDefaultsProto;\n    derivedConstructor.prototype.constructor = derivedConstructor;\n    return derivedConstructor;\n}\nvar CstVisitorDefinitionError;\n(function (CstVisitorDefinitionError) {\n    CstVisitorDefinitionError[CstVisitorDefinitionError[\"REDUNDANT_METHOD\"] = 0] = \"REDUNDANT_METHOD\";\n    CstVisitorDefinitionError[CstVisitorDefinitionError[\"MISSING_METHOD\"] = 1] = \"MISSING_METHOD\";\n})(CstVisitorDefinitionError || (CstVisitorDefinitionError = {}));\nfunction validateVisitor(visitorInstance, ruleNames) {\n    const missingErrors = validateMissingCstMethods(visitorInstance, ruleNames);\n    return missingErrors;\n}\nfunction validateMissingCstMethods(visitorInstance, ruleNames) {\n    const missingRuleNames = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(ruleNames, (currRuleName) => {\n        return (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(visitorInstance[currRuleName]) === false;\n    });\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(missingRuleNames, (currRuleName) => {\n        return {\n            msg: `Missing visitor method: <${currRuleName}> on ${(visitorInstance.constructor.name)} CST Visitor.`,\n            type: CstVisitorDefinitionError.MISSING_METHOD,\n            methodName: currRuleName,\n        };\n    });\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(errors);\n}\n//# sourceMappingURL=cst_visitor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL2NzdC9jc3RfdmlzaXRvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTRHO0FBQzdDO0FBQ3hEO0FBQ1AsMEJBQTBCLHFEQUFJO0FBQzlCO0FBQ0Esb0JBQW9CLHlCQUF5QjtBQUM3QztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMEJBQTBCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHdFQUFjO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxREFBTztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHFEQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsaUJBQWlCLHFEQUFPO0FBQ3hCLHNDQUFzQyxxREFBRztBQUN6QywrREFBK0Qsc0JBQXNCO0FBQ3JGLHVCQUF1QixrREFBa0Q7QUFDekU7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksd0VBQWM7QUFDbEI7QUFDQSxJQUFJLHFEQUFPO0FBQ1g7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLENBQUMsOERBQThEO0FBQ3hEO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUCw2QkFBNkIscURBQU07QUFDbkMsZUFBZSxxREFBVTtBQUN6QixLQUFLO0FBQ0wsbUJBQW1CLHFEQUFHO0FBQ3RCO0FBQ0EsNkNBQTZDLGFBQWEsT0FBTyxvQ0FBb0M7QUFDckc7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFdBQVcscURBQU87QUFDbEI7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL21lcm1haWQtZGlhZ3JhbS1lZGl0b3IvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL2NzdC9jc3RfdmlzaXRvci5qcz84ZDE2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbXBhY3QsIGZpbHRlciwgZm9yRWFjaCwgaXNBcnJheSwgaXNFbXB0eSwgaXNGdW5jdGlvbiwgaXNVbmRlZmluZWQsIGtleXMsIG1hcCwgfSBmcm9tIFwibG9kYXNoLWVzXCI7XG5pbXBvcnQgeyBkZWZpbmVOYW1lUHJvcCB9IGZyb20gXCIuLi8uLi9sYW5nL2xhbmdfZXh0ZW5zaW9ucy5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRWaXNpdChjdHgsIHBhcmFtKSB7XG4gICAgY29uc3QgY2hpbGRyZW5OYW1lcyA9IGtleXMoY3R4KTtcbiAgICBjb25zdCBjaGlsZHJlbk5hbWVzTGVuZ3RoID0gY2hpbGRyZW5OYW1lcy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbk5hbWVzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY3VyckNoaWxkTmFtZSA9IGNoaWxkcmVuTmFtZXNbaV07XG4gICAgICAgIGNvbnN0IGN1cnJDaGlsZEFycmF5ID0gY3R4W2N1cnJDaGlsZE5hbWVdO1xuICAgICAgICBjb25zdCBjdXJyQ2hpbGRBcnJheUxlbmd0aCA9IGN1cnJDaGlsZEFycmF5Lmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjdXJyQ2hpbGRBcnJheUxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyQ2hpbGQgPSBjdXJyQ2hpbGRBcnJheVtqXTtcbiAgICAgICAgICAgIC8vIGRpc3RpbmN0aW9uIGJldHdlZW4gVG9rZW5zIENoaWxkcmVuIGFuZCBDc3ROb2RlIGNoaWxkcmVuXG4gICAgICAgICAgICBpZiAoY3VyckNoaWxkLnRva2VuVHlwZUlkeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpc1tjdXJyQ2hpbGQubmFtZV0oY3VyckNoaWxkLmNoaWxkcmVuLCBwYXJhbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gZGVmYXVsdFZpc2l0IGRvZXMgbm90IHN1cHBvcnQgZ2VuZXJpYyBvdXQgcGFyYW1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCYXNlU2VtYW50aWNWaXNpdG9yQ29uc3RydWN0b3IoZ3JhbW1hck5hbWUsIHJ1bGVOYW1lcykge1xuICAgIGNvbnN0IGRlcml2ZWRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAvLyBjYW4gYmUgb3ZlcndyaXR0ZW4gYWNjb3JkaW5nIHRvOlxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0Z1bmN0aW9uL1xuICAgIC8vIG5hbWU/cmVkaXJlY3Rsb2NhbGU9ZW4tVVMmcmVkaXJlY3RzbHVnPUphdmFTY3JpcHQlMkZSZWZlcmVuY2UlMkZHbG9iYWxfT2JqZWN0cyUyRkZ1bmN0aW9uJTJGbmFtZVxuICAgIGRlZmluZU5hbWVQcm9wKGRlcml2ZWRDb25zdHJ1Y3RvciwgZ3JhbW1hck5hbWUgKyBcIkJhc2VTZW1hbnRpY3NcIik7XG4gICAgY29uc3Qgc2VtYW50aWNQcm90byA9IHtcbiAgICAgICAgdmlzaXQ6IGZ1bmN0aW9uIChjc3ROb2RlLCBwYXJhbSkge1xuICAgICAgICAgICAgLy8gZW5hYmxlcyB3cml0aW5nIG1vcmUgY29uY2lzZSB2aXNpdG9yIG1ldGhvZHMgd2hlbiBDc3ROb2RlIGhhcyBvbmx5IGEgc2luZ2xlIGNoaWxkXG4gICAgICAgICAgICBpZiAoaXNBcnJheShjc3ROb2RlKSkge1xuICAgICAgICAgICAgICAgIC8vIEEgQ1NUIE5vZGUncyBjaGlsZHJlbiBkaWN0aW9uYXJ5IGNhbiBuZXZlciBoYXZlIGVtcHR5IGFycmF5cyBhcyB2YWx1ZXNcbiAgICAgICAgICAgICAgICAvLyBJZiBhIGtleSBpcyBkZWZpbmVkIHRoZXJlIHdpbGwgYmUgYXQgbGVhc3Qgb25lIGVsZW1lbnQgaW4gdGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUgYXJyYXkuXG4gICAgICAgICAgICAgICAgY3N0Tm9kZSA9IGNzdE5vZGVbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlbmFibGVzIHBhc3Npbmcgb3B0aW9uYWwgQ3N0Tm9kZXMgY29uY2lzZWx5LlxuICAgICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKGNzdE5vZGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzW2NzdE5vZGUubmFtZV0oY3N0Tm9kZS5jaGlsZHJlbiwgcGFyYW0pO1xuICAgICAgICB9LFxuICAgICAgICB2YWxpZGF0ZVZpc2l0b3I6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlbWFudGljRGVmaW5pdGlvbkVycm9ycyA9IHZhbGlkYXRlVmlzaXRvcih0aGlzLCBydWxlTmFtZXMpO1xuICAgICAgICAgICAgaWYgKCFpc0VtcHR5KHNlbWFudGljRGVmaW5pdGlvbkVycm9ycykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2VzID0gbWFwKHNlbWFudGljRGVmaW5pdGlvbkVycm9ycywgKGN1cnJEZWZFcnJvcikgPT4gY3VyckRlZkVycm9yLm1zZyk7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoYEVycm9ycyBEZXRlY3RlZCBpbiBDU1QgVmlzaXRvciA8JHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9PjpcXG5cXHRgICtcbiAgICAgICAgICAgICAgICAgICAgYCR7ZXJyb3JNZXNzYWdlcy5qb2luKFwiXFxuXFxuXCIpLnJlcGxhY2UoL1xcbi9nLCBcIlxcblxcdFwiKX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9O1xuICAgIGRlcml2ZWRDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBzZW1hbnRpY1Byb3RvO1xuICAgIGRlcml2ZWRDb25zdHJ1Y3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBkZXJpdmVkQ29uc3RydWN0b3I7XG4gICAgZGVyaXZlZENvbnN0cnVjdG9yLl9SVUxFX05BTUVTID0gcnVsZU5hbWVzO1xuICAgIHJldHVybiBkZXJpdmVkQ29uc3RydWN0b3I7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQmFzZVZpc2l0b3JDb25zdHJ1Y3RvcldpdGhEZWZhdWx0cyhncmFtbWFyTmFtZSwgcnVsZU5hbWVzLCBiYXNlQ29uc3RydWN0b3IpIHtcbiAgICBjb25zdCBkZXJpdmVkQ29uc3RydWN0b3IgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLy8gY2FuIGJlIG92ZXJ3cml0dGVuIGFjY29yZGluZyB0bzpcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9GdW5jdGlvbi9cbiAgICAvLyBuYW1lP3JlZGlyZWN0bG9jYWxlPWVuLVVTJnJlZGlyZWN0c2x1Zz1KYXZhU2NyaXB0JTJGUmVmZXJlbmNlJTJGR2xvYmFsX09iamVjdHMlMkZGdW5jdGlvbiUyRm5hbWVcbiAgICBkZWZpbmVOYW1lUHJvcChkZXJpdmVkQ29uc3RydWN0b3IsIGdyYW1tYXJOYW1lICsgXCJCYXNlU2VtYW50aWNzV2l0aERlZmF1bHRzXCIpO1xuICAgIGNvbnN0IHdpdGhEZWZhdWx0c1Byb3RvID0gT2JqZWN0LmNyZWF0ZShiYXNlQ29uc3RydWN0b3IucHJvdG90eXBlKTtcbiAgICBmb3JFYWNoKHJ1bGVOYW1lcywgKHJ1bGVOYW1lKSA9PiB7XG4gICAgICAgIHdpdGhEZWZhdWx0c1Byb3RvW3J1bGVOYW1lXSA9IGRlZmF1bHRWaXNpdDtcbiAgICB9KTtcbiAgICBkZXJpdmVkQ29uc3RydWN0b3IucHJvdG90eXBlID0gd2l0aERlZmF1bHRzUHJvdG87XG4gICAgZGVyaXZlZENvbnN0cnVjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGRlcml2ZWRDb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gZGVyaXZlZENvbnN0cnVjdG9yO1xufVxuZXhwb3J0IHZhciBDc3RWaXNpdG9yRGVmaW5pdGlvbkVycm9yO1xuKGZ1bmN0aW9uIChDc3RWaXNpdG9yRGVmaW5pdGlvbkVycm9yKSB7XG4gICAgQ3N0VmlzaXRvckRlZmluaXRpb25FcnJvcltDc3RWaXNpdG9yRGVmaW5pdGlvbkVycm9yW1wiUkVEVU5EQU5UX01FVEhPRFwiXSA9IDBdID0gXCJSRURVTkRBTlRfTUVUSE9EXCI7XG4gICAgQ3N0VmlzaXRvckRlZmluaXRpb25FcnJvcltDc3RWaXNpdG9yRGVmaW5pdGlvbkVycm9yW1wiTUlTU0lOR19NRVRIT0RcIl0gPSAxXSA9IFwiTUlTU0lOR19NRVRIT0RcIjtcbn0pKENzdFZpc2l0b3JEZWZpbml0aW9uRXJyb3IgfHwgKENzdFZpc2l0b3JEZWZpbml0aW9uRXJyb3IgPSB7fSkpO1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlVmlzaXRvcih2aXNpdG9ySW5zdGFuY2UsIHJ1bGVOYW1lcykge1xuICAgIGNvbnN0IG1pc3NpbmdFcnJvcnMgPSB2YWxpZGF0ZU1pc3NpbmdDc3RNZXRob2RzKHZpc2l0b3JJbnN0YW5jZSwgcnVsZU5hbWVzKTtcbiAgICByZXR1cm4gbWlzc2luZ0Vycm9ycztcbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZU1pc3NpbmdDc3RNZXRob2RzKHZpc2l0b3JJbnN0YW5jZSwgcnVsZU5hbWVzKSB7XG4gICAgY29uc3QgbWlzc2luZ1J1bGVOYW1lcyA9IGZpbHRlcihydWxlTmFtZXMsIChjdXJyUnVsZU5hbWUpID0+IHtcbiAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24odmlzaXRvckluc3RhbmNlW2N1cnJSdWxlTmFtZV0pID09PSBmYWxzZTtcbiAgICB9KTtcbiAgICBjb25zdCBlcnJvcnMgPSBtYXAobWlzc2luZ1J1bGVOYW1lcywgKGN1cnJSdWxlTmFtZSkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbXNnOiBgTWlzc2luZyB2aXNpdG9yIG1ldGhvZDogPCR7Y3VyclJ1bGVOYW1lfT4gb24gJHsodmlzaXRvckluc3RhbmNlLmNvbnN0cnVjdG9yLm5hbWUpfSBDU1QgVmlzaXRvci5gLFxuICAgICAgICAgICAgdHlwZTogQ3N0VmlzaXRvckRlZmluaXRpb25FcnJvci5NSVNTSU5HX01FVEhPRCxcbiAgICAgICAgICAgIG1ldGhvZE5hbWU6IGN1cnJSdWxlTmFtZSxcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gY29tcGFjdChlcnJvcnMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3N0X3Zpc2l0b3IuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/parse/cst/cst_visitor.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/parse/errors_public.js":
/*!****************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/parse/errors_public.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultGrammarResolverErrorProvider: () => (/* binding */ defaultGrammarResolverErrorProvider),\n/* harmony export */   defaultGrammarValidatorErrorProvider: () => (/* binding */ defaultGrammarValidatorErrorProvider),\n/* harmony export */   defaultParserErrorProvider: () => (/* binding */ defaultParserErrorProvider)\n/* harmony export */ });\n/* harmony import */ var _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scan/tokens_public.js */ \"(ssr)/./node_modules/chevrotain/lib/src/scan/tokens_public.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/head.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/reduce.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/map.js\");\n/* harmony import */ var _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chevrotain/gast */ \"(ssr)/./node_modules/@chevrotain/gast/lib/src/api.js\");\n\n\n\nconst defaultParserErrorProvider = {\n    buildMismatchTokenMessage({ expected, actual, previous, ruleName }) {\n        const hasLabel = (0,_scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_0__.hasTokenLabel)(expected);\n        const expectedMsg = hasLabel\n            ? `--> ${(0,_scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_0__.tokenLabel)(expected)} <--`\n            : `token of type --> ${expected.name} <--`;\n        const msg = `Expecting ${expectedMsg} but found --> '${actual.image}' <--`;\n        return msg;\n    },\n    buildNotAllInputParsedMessage({ firstRedundant, ruleName }) {\n        return \"Redundant input, expecting EOF but found: \" + firstRedundant.image;\n    },\n    buildNoViableAltMessage({ expectedPathsPerAlt, actual, previous, customUserDescription, ruleName, }) {\n        const errPrefix = \"Expecting: \";\n        // TODO: issue: No Viable Alternative Error may have incomplete details. #502\n        const actualText = (0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(actual).image;\n        const errSuffix = \"\\nbut found: '\" + actualText + \"'\";\n        if (customUserDescription) {\n            return errPrefix + customUserDescription + errSuffix;\n        }\n        else {\n            const allLookAheadPaths = (0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(expectedPathsPerAlt, (result, currAltPaths) => result.concat(currAltPaths), []);\n            const nextValidTokenSequences = (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(allLookAheadPaths, (currPath) => `[${(0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(currPath, (currTokenType) => (0,_scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_0__.tokenLabel)(currTokenType)).join(\", \")}]`);\n            const nextValidSequenceItems = (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(nextValidTokenSequences, (itemMsg, idx) => `  ${idx + 1}. ${itemMsg}`);\n            const calculatedDescription = `one of these possible Token sequences:\\n${nextValidSequenceItems.join(\"\\n\")}`;\n            return errPrefix + calculatedDescription + errSuffix;\n        }\n    },\n    buildEarlyExitMessage({ expectedIterationPaths, actual, customUserDescription, ruleName, }) {\n        const errPrefix = \"Expecting: \";\n        // TODO: issue: No Viable Alternative Error may have incomplete details. #502\n        const actualText = (0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(actual).image;\n        const errSuffix = \"\\nbut found: '\" + actualText + \"'\";\n        if (customUserDescription) {\n            return errPrefix + customUserDescription + errSuffix;\n        }\n        else {\n            const nextValidTokenSequences = (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(expectedIterationPaths, (currPath) => `[${(0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(currPath, (currTokenType) => (0,_scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_0__.tokenLabel)(currTokenType)).join(\",\")}]`);\n            const calculatedDescription = `expecting at least one iteration which starts with one of these possible Token sequences::\\n  ` +\n                `<${nextValidTokenSequences.join(\" ,\")}>`;\n            return errPrefix + calculatedDescription + errSuffix;\n        }\n    },\n};\nObject.freeze(defaultParserErrorProvider);\nconst defaultGrammarResolverErrorProvider = {\n    buildRuleNotFoundError(topLevelRule, undefinedRule) {\n        const msg = \"Invalid grammar, reference to a rule which is not defined: ->\" +\n            undefinedRule.nonTerminalName +\n            \"<-\\n\" +\n            \"inside top level rule: ->\" +\n            topLevelRule.name +\n            \"<-\";\n        return msg;\n    },\n};\nconst defaultGrammarValidatorErrorProvider = {\n    buildDuplicateFoundError(topLevelRule, duplicateProds) {\n        function getExtraProductionArgument(prod) {\n            if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.Terminal) {\n                return prod.terminalType.name;\n            }\n            else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.NonTerminal) {\n                return prod.nonTerminalName;\n            }\n            else {\n                return \"\";\n            }\n        }\n        const topLevelName = topLevelRule.name;\n        const duplicateProd = (0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(duplicateProds);\n        const index = duplicateProd.idx;\n        const dslName = (0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.getProductionDslName)(duplicateProd);\n        const extraArgument = getExtraProductionArgument(duplicateProd);\n        const hasExplicitIndex = index > 0;\n        let msg = `->${dslName}${hasExplicitIndex ? index : \"\"}<- ${extraArgument ? `with argument: ->${extraArgument}<-` : \"\"}\n                  appears more than once (${duplicateProds.length} times) in the top level rule: ->${topLevelName}<-.                  \n                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  `;\n        // white space trimming time! better to trim afterwards as it allows to use WELL formatted multi line template strings...\n        msg = msg.replace(/[ \\t]+/g, \" \");\n        msg = msg.replace(/\\s\\s+/g, \"\\n\");\n        return msg;\n    },\n    buildNamespaceConflictError(rule) {\n        const errMsg = `Namespace conflict found in grammar.\\n` +\n            `The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${rule.name}>.\\n` +\n            `To resolve this make sure each Terminal and Non-Terminal names are unique\\n` +\n            `This is easy to accomplish by using the convention that Terminal names start with an uppercase letter\\n` +\n            `and Non-Terminal names start with a lower case letter.`;\n        return errMsg;\n    },\n    buildAlternationPrefixAmbiguityError(options) {\n        const pathMsg = (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(options.prefixPath, (currTok) => (0,_scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_0__.tokenLabel)(currTok)).join(\", \");\n        const occurrence = options.alternation.idx === 0 ? \"\" : options.alternation.idx;\n        const errMsg = `Ambiguous alternatives: <${options.ambiguityIndices.join(\" ,\")}> due to common lookahead prefix\\n` +\n            `in <OR${occurrence}> inside <${options.topLevelRule.name}> Rule,\\n` +\n            `<${pathMsg}> may appears as a prefix path in all these alternatives.\\n` +\n            `See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\\n` +\n            `For Further details.`;\n        return errMsg;\n    },\n    buildAlternationAmbiguityError(options) {\n        const pathMsg = (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(options.prefixPath, (currtok) => (0,_scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_0__.tokenLabel)(currtok)).join(\", \");\n        const occurrence = options.alternation.idx === 0 ? \"\" : options.alternation.idx;\n        let currMessage = `Ambiguous Alternatives Detected: <${options.ambiguityIndices.join(\" ,\")}> in <OR${occurrence}>` +\n            ` inside <${options.topLevelRule.name}> Rule,\\n` +\n            `<${pathMsg}> may appears as a prefix path in all these alternatives.\\n`;\n        currMessage =\n            currMessage +\n                `See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\\n` +\n                `For Further details.`;\n        return currMessage;\n    },\n    buildEmptyRepetitionError(options) {\n        let dslName = (0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.getProductionDslName)(options.repetition);\n        if (options.repetition.idx !== 0) {\n            dslName += options.repetition.idx;\n        }\n        const errMsg = `The repetition <${dslName}> within Rule <${options.topLevelRule.name}> can never consume any tokens.\\n` +\n            `This could lead to an infinite loop.`;\n        return errMsg;\n    },\n    // TODO: remove - `errors_public` from nyc.config.js exclude\n    //       once this method is fully removed from this file\n    buildTokenNameError(options) {\n        /* istanbul ignore next */\n        return \"deprecated\";\n    },\n    buildEmptyAlternationError(options) {\n        const errMsg = `Ambiguous empty alternative: <${options.emptyChoiceIdx + 1}>` +\n            ` in <OR${options.alternation.idx}> inside <${options.topLevelRule.name}> Rule.\\n` +\n            `Only the last alternative may be an empty alternative.`;\n        return errMsg;\n    },\n    buildTooManyAlternativesError(options) {\n        const errMsg = `An Alternation cannot have more than 256 alternatives:\\n` +\n            `<OR${options.alternation.idx}> inside <${options.topLevelRule.name}> Rule.\\n has ${options.alternation.definition.length + 1} alternatives.`;\n        return errMsg;\n    },\n    buildLeftRecursionError(options) {\n        const ruleName = options.topLevelRule.name;\n        const pathNames = (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(options.leftRecursionPath, (currRule) => currRule.name);\n        const leftRecursivePath = `${ruleName} --> ${pathNames\n            .concat([ruleName])\n            .join(\" --> \")}`;\n        const errMsg = `Left Recursion found in grammar.\\n` +\n            `rule: <${ruleName}> can be invoked from itself (directly or indirectly)\\n` +\n            `without consuming any Tokens. The grammar path that causes this is: \\n ${leftRecursivePath}\\n` +\n            ` To fix this refactor your grammar to remove the left recursion.\\n` +\n            `see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`;\n        return errMsg;\n    },\n    // TODO: remove - `errors_public` from nyc.config.js exclude\n    //       once this method is fully removed from this file\n    buildInvalidRuleNameError(options) {\n        /* istanbul ignore next */\n        return \"deprecated\";\n    },\n    buildDuplicateRuleNameError(options) {\n        let ruleName;\n        if (options.topLevelRule instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.Rule) {\n            ruleName = options.topLevelRule.name;\n        }\n        else {\n            ruleName = options.topLevelRule;\n        }\n        const errMsg = `Duplicate definition, rule: ->${ruleName}<- is already defined in the grammar: ->${options.grammarName}<-`;\n        return errMsg;\n    },\n};\n//# sourceMappingURL=errors_public.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL2Vycm9yc19wdWJsaWMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBcUU7QUFDdEI7QUFDdUM7QUFDL0U7QUFDUCxnQ0FBZ0Msc0NBQXNDO0FBQ3RFLHlCQUF5QixxRUFBYTtBQUN0QztBQUNBLHFCQUFxQixrRUFBVSxZQUFZO0FBQzNDLG1DQUFtQyxlQUFlO0FBQ2xELGlDQUFpQyxhQUFhLGlCQUFpQixhQUFhO0FBQzVFO0FBQ0EsS0FBSztBQUNMLG9DQUFvQywwQkFBMEI7QUFDOUQ7QUFDQSxLQUFLO0FBQ0wsOEJBQThCLHlFQUF5RTtBQUN2RztBQUNBO0FBQ0EsMkJBQTJCLHFEQUFLO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MscURBQU07QUFDNUMsNENBQTRDLHFEQUFHLHNDQUFzQyxxREFBRyw4QkFBOEIsa0VBQVUsNEJBQTRCO0FBQzVKLDJDQUEyQyxxREFBRyxpREFBaUQsUUFBUSxJQUFJLFFBQVE7QUFDbkgscUZBQXFGLGtDQUFrQztBQUN2SDtBQUNBO0FBQ0EsS0FBSztBQUNMLDRCQUE0QixrRUFBa0U7QUFDOUY7QUFDQTtBQUNBLDJCQUEyQixxREFBSztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLHFEQUFHLDJDQUEyQyxxREFBRyw4QkFBOEIsa0VBQVUsMkJBQTJCO0FBQ2hLO0FBQ0Esb0JBQW9CLG1DQUFtQztBQUN2RDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDTztBQUNQO0FBQ0E7QUFDQSxnQ0FBZ0Msc0RBQVE7QUFDeEM7QUFDQTtBQUNBLHFDQUFxQyx5REFBVztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixxREFBSztBQUNuQztBQUNBLHdCQUF3QixzRUFBb0I7QUFDNUM7QUFDQTtBQUNBLHVCQUF1QixRQUFRLEVBQUUsOEJBQThCLEtBQUssb0NBQW9DLGNBQWM7QUFDdEgsNENBQTRDLHVCQUF1QixrQ0FBa0MsYUFBYTtBQUNsSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHVGQUF1RixVQUFVO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esd0JBQXdCLHFEQUFHLGtDQUFrQyxrRUFBVTtBQUN2RTtBQUNBLG1EQUFtRCxvQ0FBb0M7QUFDdkYscUJBQXFCLFdBQVcsWUFBWSwwQkFBMEI7QUFDdEUsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esd0JBQXdCLHFEQUFHLGtDQUFrQyxrRUFBVTtBQUN2RTtBQUNBLCtEQUErRCxvQ0FBb0MsVUFBVSxXQUFXO0FBQ3hILHdCQUF3QiwwQkFBMEI7QUFDbEQsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHNCQUFzQixzRUFBb0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLFFBQVEsaUJBQWlCLDBCQUEwQjtBQUM3RjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSx3REFBd0QsMkJBQTJCO0FBQ25GLHNCQUFzQix3QkFBd0IsWUFBWSwwQkFBMEI7QUFDcEY7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esa0JBQWtCLHdCQUF3QixZQUFZLDBCQUEwQixnQkFBZ0IsMkNBQTJDO0FBQzNJO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSwwQkFBMEIscURBQUc7QUFDN0IscUNBQXFDLFVBQVUsTUFBTTtBQUNyRDtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBLHNCQUFzQixTQUFTO0FBQy9CLHNGQUFzRixrQkFBa0I7QUFDeEc7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDRDQUE0QyxrREFBSTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELFNBQVMsMENBQTBDLG9CQUFvQjtBQUMvSDtBQUNBLEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVybWFpZC1kaWFncmFtLWVkaXRvci8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvZXJyb3JzX3B1YmxpYy5qcz80ZDM0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGhhc1Rva2VuTGFiZWwsIHRva2VuTGFiZWwgfSBmcm9tIFwiLi4vc2Nhbi90b2tlbnNfcHVibGljLmpzXCI7XG5pbXBvcnQgeyBmaXJzdCwgbWFwLCByZWR1Y2UgfSBmcm9tIFwibG9kYXNoLWVzXCI7XG5pbXBvcnQgeyBnZXRQcm9kdWN0aW9uRHNsTmFtZSwgTm9uVGVybWluYWwsIFJ1bGUsIFRlcm1pbmFsLCB9IGZyb20gXCJAY2hldnJvdGFpbi9nYXN0XCI7XG5leHBvcnQgY29uc3QgZGVmYXVsdFBhcnNlckVycm9yUHJvdmlkZXIgPSB7XG4gICAgYnVpbGRNaXNtYXRjaFRva2VuTWVzc2FnZSh7IGV4cGVjdGVkLCBhY3R1YWwsIHByZXZpb3VzLCBydWxlTmFtZSB9KSB7XG4gICAgICAgIGNvbnN0IGhhc0xhYmVsID0gaGFzVG9rZW5MYWJlbChleHBlY3RlZCk7XG4gICAgICAgIGNvbnN0IGV4cGVjdGVkTXNnID0gaGFzTGFiZWxcbiAgICAgICAgICAgID8gYC0tPiAke3Rva2VuTGFiZWwoZXhwZWN0ZWQpfSA8LS1gXG4gICAgICAgICAgICA6IGB0b2tlbiBvZiB0eXBlIC0tPiAke2V4cGVjdGVkLm5hbWV9IDwtLWA7XG4gICAgICAgIGNvbnN0IG1zZyA9IGBFeHBlY3RpbmcgJHtleHBlY3RlZE1zZ30gYnV0IGZvdW5kIC0tPiAnJHthY3R1YWwuaW1hZ2V9JyA8LS1gO1xuICAgICAgICByZXR1cm4gbXNnO1xuICAgIH0sXG4gICAgYnVpbGROb3RBbGxJbnB1dFBhcnNlZE1lc3NhZ2UoeyBmaXJzdFJlZHVuZGFudCwgcnVsZU5hbWUgfSkge1xuICAgICAgICByZXR1cm4gXCJSZWR1bmRhbnQgaW5wdXQsIGV4cGVjdGluZyBFT0YgYnV0IGZvdW5kOiBcIiArIGZpcnN0UmVkdW5kYW50LmltYWdlO1xuICAgIH0sXG4gICAgYnVpbGROb1ZpYWJsZUFsdE1lc3NhZ2UoeyBleHBlY3RlZFBhdGhzUGVyQWx0LCBhY3R1YWwsIHByZXZpb3VzLCBjdXN0b21Vc2VyRGVzY3JpcHRpb24sIHJ1bGVOYW1lLCB9KSB7XG4gICAgICAgIGNvbnN0IGVyclByZWZpeCA9IFwiRXhwZWN0aW5nOiBcIjtcbiAgICAgICAgLy8gVE9ETzogaXNzdWU6IE5vIFZpYWJsZSBBbHRlcm5hdGl2ZSBFcnJvciBtYXkgaGF2ZSBpbmNvbXBsZXRlIGRldGFpbHMuICM1MDJcbiAgICAgICAgY29uc3QgYWN0dWFsVGV4dCA9IGZpcnN0KGFjdHVhbCkuaW1hZ2U7XG4gICAgICAgIGNvbnN0IGVyclN1ZmZpeCA9IFwiXFxuYnV0IGZvdW5kOiAnXCIgKyBhY3R1YWxUZXh0ICsgXCInXCI7XG4gICAgICAgIGlmIChjdXN0b21Vc2VyRGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJQcmVmaXggKyBjdXN0b21Vc2VyRGVzY3JpcHRpb24gKyBlcnJTdWZmaXg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBhbGxMb29rQWhlYWRQYXRocyA9IHJlZHVjZShleHBlY3RlZFBhdGhzUGVyQWx0LCAocmVzdWx0LCBjdXJyQWx0UGF0aHMpID0+IHJlc3VsdC5jb25jYXQoY3VyckFsdFBhdGhzKSwgW10pO1xuICAgICAgICAgICAgY29uc3QgbmV4dFZhbGlkVG9rZW5TZXF1ZW5jZXMgPSBtYXAoYWxsTG9va0FoZWFkUGF0aHMsIChjdXJyUGF0aCkgPT4gYFske21hcChjdXJyUGF0aCwgKGN1cnJUb2tlblR5cGUpID0+IHRva2VuTGFiZWwoY3VyclRva2VuVHlwZSkpLmpvaW4oXCIsIFwiKX1dYCk7XG4gICAgICAgICAgICBjb25zdCBuZXh0VmFsaWRTZXF1ZW5jZUl0ZW1zID0gbWFwKG5leHRWYWxpZFRva2VuU2VxdWVuY2VzLCAoaXRlbU1zZywgaWR4KSA9PiBgICAke2lkeCArIDF9LiAke2l0ZW1Nc2d9YCk7XG4gICAgICAgICAgICBjb25zdCBjYWxjdWxhdGVkRGVzY3JpcHRpb24gPSBgb25lIG9mIHRoZXNlIHBvc3NpYmxlIFRva2VuIHNlcXVlbmNlczpcXG4ke25leHRWYWxpZFNlcXVlbmNlSXRlbXMuam9pbihcIlxcblwiKX1gO1xuICAgICAgICAgICAgcmV0dXJuIGVyclByZWZpeCArIGNhbGN1bGF0ZWREZXNjcmlwdGlvbiArIGVyclN1ZmZpeDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYnVpbGRFYXJseUV4aXRNZXNzYWdlKHsgZXhwZWN0ZWRJdGVyYXRpb25QYXRocywgYWN0dWFsLCBjdXN0b21Vc2VyRGVzY3JpcHRpb24sIHJ1bGVOYW1lLCB9KSB7XG4gICAgICAgIGNvbnN0IGVyclByZWZpeCA9IFwiRXhwZWN0aW5nOiBcIjtcbiAgICAgICAgLy8gVE9ETzogaXNzdWU6IE5vIFZpYWJsZSBBbHRlcm5hdGl2ZSBFcnJvciBtYXkgaGF2ZSBpbmNvbXBsZXRlIGRldGFpbHMuICM1MDJcbiAgICAgICAgY29uc3QgYWN0dWFsVGV4dCA9IGZpcnN0KGFjdHVhbCkuaW1hZ2U7XG4gICAgICAgIGNvbnN0IGVyclN1ZmZpeCA9IFwiXFxuYnV0IGZvdW5kOiAnXCIgKyBhY3R1YWxUZXh0ICsgXCInXCI7XG4gICAgICAgIGlmIChjdXN0b21Vc2VyRGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJQcmVmaXggKyBjdXN0b21Vc2VyRGVzY3JpcHRpb24gKyBlcnJTdWZmaXg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0VmFsaWRUb2tlblNlcXVlbmNlcyA9IG1hcChleHBlY3RlZEl0ZXJhdGlvblBhdGhzLCAoY3VyclBhdGgpID0+IGBbJHttYXAoY3VyclBhdGgsIChjdXJyVG9rZW5UeXBlKSA9PiB0b2tlbkxhYmVsKGN1cnJUb2tlblR5cGUpKS5qb2luKFwiLFwiKX1dYCk7XG4gICAgICAgICAgICBjb25zdCBjYWxjdWxhdGVkRGVzY3JpcHRpb24gPSBgZXhwZWN0aW5nIGF0IGxlYXN0IG9uZSBpdGVyYXRpb24gd2hpY2ggc3RhcnRzIHdpdGggb25lIG9mIHRoZXNlIHBvc3NpYmxlIFRva2VuIHNlcXVlbmNlczo6XFxuICBgICtcbiAgICAgICAgICAgICAgICBgPCR7bmV4dFZhbGlkVG9rZW5TZXF1ZW5jZXMuam9pbihcIiAsXCIpfT5gO1xuICAgICAgICAgICAgcmV0dXJuIGVyclByZWZpeCArIGNhbGN1bGF0ZWREZXNjcmlwdGlvbiArIGVyclN1ZmZpeDtcbiAgICAgICAgfVxuICAgIH0sXG59O1xuT2JqZWN0LmZyZWV6ZShkZWZhdWx0UGFyc2VyRXJyb3JQcm92aWRlcik7XG5leHBvcnQgY29uc3QgZGVmYXVsdEdyYW1tYXJSZXNvbHZlckVycm9yUHJvdmlkZXIgPSB7XG4gICAgYnVpbGRSdWxlTm90Rm91bmRFcnJvcih0b3BMZXZlbFJ1bGUsIHVuZGVmaW5lZFJ1bGUpIHtcbiAgICAgICAgY29uc3QgbXNnID0gXCJJbnZhbGlkIGdyYW1tYXIsIHJlZmVyZW5jZSB0byBhIHJ1bGUgd2hpY2ggaXMgbm90IGRlZmluZWQ6IC0+XCIgK1xuICAgICAgICAgICAgdW5kZWZpbmVkUnVsZS5ub25UZXJtaW5hbE5hbWUgK1xuICAgICAgICAgICAgXCI8LVxcblwiICtcbiAgICAgICAgICAgIFwiaW5zaWRlIHRvcCBsZXZlbCBydWxlOiAtPlwiICtcbiAgICAgICAgICAgIHRvcExldmVsUnVsZS5uYW1lICtcbiAgICAgICAgICAgIFwiPC1cIjtcbiAgICAgICAgcmV0dXJuIG1zZztcbiAgICB9LFxufTtcbmV4cG9ydCBjb25zdCBkZWZhdWx0R3JhbW1hclZhbGlkYXRvckVycm9yUHJvdmlkZXIgPSB7XG4gICAgYnVpbGREdXBsaWNhdGVGb3VuZEVycm9yKHRvcExldmVsUnVsZSwgZHVwbGljYXRlUHJvZHMpIHtcbiAgICAgICAgZnVuY3Rpb24gZ2V0RXh0cmFQcm9kdWN0aW9uQXJndW1lbnQocHJvZCkge1xuICAgICAgICAgICAgaWYgKHByb2QgaW5zdGFuY2VvZiBUZXJtaW5hbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9kLnRlcm1pbmFsVHlwZS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIE5vblRlcm1pbmFsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb2Qubm9uVGVybWluYWxOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9wTGV2ZWxOYW1lID0gdG9wTGV2ZWxSdWxlLm5hbWU7XG4gICAgICAgIGNvbnN0IGR1cGxpY2F0ZVByb2QgPSBmaXJzdChkdXBsaWNhdGVQcm9kcyk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gZHVwbGljYXRlUHJvZC5pZHg7XG4gICAgICAgIGNvbnN0IGRzbE5hbWUgPSBnZXRQcm9kdWN0aW9uRHNsTmFtZShkdXBsaWNhdGVQcm9kKTtcbiAgICAgICAgY29uc3QgZXh0cmFBcmd1bWVudCA9IGdldEV4dHJhUHJvZHVjdGlvbkFyZ3VtZW50KGR1cGxpY2F0ZVByb2QpO1xuICAgICAgICBjb25zdCBoYXNFeHBsaWNpdEluZGV4ID0gaW5kZXggPiAwO1xuICAgICAgICBsZXQgbXNnID0gYC0+JHtkc2xOYW1lfSR7aGFzRXhwbGljaXRJbmRleCA/IGluZGV4IDogXCJcIn08LSAke2V4dHJhQXJndW1lbnQgPyBgd2l0aCBhcmd1bWVudDogLT4ke2V4dHJhQXJndW1lbnR9PC1gIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgIGFwcGVhcnMgbW9yZSB0aGFuIG9uY2UgKCR7ZHVwbGljYXRlUHJvZHMubGVuZ3RofSB0aW1lcykgaW4gdGhlIHRvcCBsZXZlbCBydWxlOiAtPiR7dG9wTGV2ZWxOYW1lfTwtLiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgRm9yIGZ1cnRoZXIgZGV0YWlscyBzZWU6IGh0dHBzOi8vY2hldnJvdGFpbi5pby9kb2NzL0ZBUS5odG1sI05VTUVSSUNBTF9TVUZGSVhFUyBcbiAgICAgICAgICAgICAgICAgIGA7XG4gICAgICAgIC8vIHdoaXRlIHNwYWNlIHRyaW1taW5nIHRpbWUhIGJldHRlciB0byB0cmltIGFmdGVyd2FyZHMgYXMgaXQgYWxsb3dzIHRvIHVzZSBXRUxMIGZvcm1hdHRlZCBtdWx0aSBsaW5lIHRlbXBsYXRlIHN0cmluZ3MuLi5cbiAgICAgICAgbXNnID0gbXNnLnJlcGxhY2UoL1sgXFx0XSsvZywgXCIgXCIpO1xuICAgICAgICBtc2cgPSBtc2cucmVwbGFjZSgvXFxzXFxzKy9nLCBcIlxcblwiKTtcbiAgICAgICAgcmV0dXJuIG1zZztcbiAgICB9LFxuICAgIGJ1aWxkTmFtZXNwYWNlQ29uZmxpY3RFcnJvcihydWxlKSB7XG4gICAgICAgIGNvbnN0IGVyck1zZyA9IGBOYW1lc3BhY2UgY29uZmxpY3QgZm91bmQgaW4gZ3JhbW1hci5cXG5gICtcbiAgICAgICAgICAgIGBUaGUgZ3JhbW1hciBoYXMgYm90aCBhIFRlcm1pbmFsKFRva2VuKSBhbmQgYSBOb24tVGVybWluYWwoUnVsZSkgbmFtZWQ6IDwke3J1bGUubmFtZX0+LlxcbmAgK1xuICAgICAgICAgICAgYFRvIHJlc29sdmUgdGhpcyBtYWtlIHN1cmUgZWFjaCBUZXJtaW5hbCBhbmQgTm9uLVRlcm1pbmFsIG5hbWVzIGFyZSB1bmlxdWVcXG5gICtcbiAgICAgICAgICAgIGBUaGlzIGlzIGVhc3kgdG8gYWNjb21wbGlzaCBieSB1c2luZyB0aGUgY29udmVudGlvbiB0aGF0IFRlcm1pbmFsIG5hbWVzIHN0YXJ0IHdpdGggYW4gdXBwZXJjYXNlIGxldHRlclxcbmAgK1xuICAgICAgICAgICAgYGFuZCBOb24tVGVybWluYWwgbmFtZXMgc3RhcnQgd2l0aCBhIGxvd2VyIGNhc2UgbGV0dGVyLmA7XG4gICAgICAgIHJldHVybiBlcnJNc2c7XG4gICAgfSxcbiAgICBidWlsZEFsdGVybmF0aW9uUHJlZml4QW1iaWd1aXR5RXJyb3Iob3B0aW9ucykge1xuICAgICAgICBjb25zdCBwYXRoTXNnID0gbWFwKG9wdGlvbnMucHJlZml4UGF0aCwgKGN1cnJUb2spID0+IHRva2VuTGFiZWwoY3VyclRvaykpLmpvaW4oXCIsIFwiKTtcbiAgICAgICAgY29uc3Qgb2NjdXJyZW5jZSA9IG9wdGlvbnMuYWx0ZXJuYXRpb24uaWR4ID09PSAwID8gXCJcIiA6IG9wdGlvbnMuYWx0ZXJuYXRpb24uaWR4O1xuICAgICAgICBjb25zdCBlcnJNc2cgPSBgQW1iaWd1b3VzIGFsdGVybmF0aXZlczogPCR7b3B0aW9ucy5hbWJpZ3VpdHlJbmRpY2VzLmpvaW4oXCIgLFwiKX0+IGR1ZSB0byBjb21tb24gbG9va2FoZWFkIHByZWZpeFxcbmAgK1xuICAgICAgICAgICAgYGluIDxPUiR7b2NjdXJyZW5jZX0+IGluc2lkZSA8JHtvcHRpb25zLnRvcExldmVsUnVsZS5uYW1lfT4gUnVsZSxcXG5gICtcbiAgICAgICAgICAgIGA8JHtwYXRoTXNnfT4gbWF5IGFwcGVhcnMgYXMgYSBwcmVmaXggcGF0aCBpbiBhbGwgdGhlc2UgYWx0ZXJuYXRpdmVzLlxcbmAgK1xuICAgICAgICAgICAgYFNlZTogaHR0cHM6Ly9jaGV2cm90YWluLmlvL2RvY3MvZ3VpZGUvcmVzb2x2aW5nX2dyYW1tYXJfZXJyb3JzLmh0bWwjQ09NTU9OX1BSRUZJWFxcbmAgK1xuICAgICAgICAgICAgYEZvciBGdXJ0aGVyIGRldGFpbHMuYDtcbiAgICAgICAgcmV0dXJuIGVyck1zZztcbiAgICB9LFxuICAgIGJ1aWxkQWx0ZXJuYXRpb25BbWJpZ3VpdHlFcnJvcihvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHBhdGhNc2cgPSBtYXAob3B0aW9ucy5wcmVmaXhQYXRoLCAoY3VycnRvaykgPT4gdG9rZW5MYWJlbChjdXJydG9rKSkuam9pbihcIiwgXCIpO1xuICAgICAgICBjb25zdCBvY2N1cnJlbmNlID0gb3B0aW9ucy5hbHRlcm5hdGlvbi5pZHggPT09IDAgPyBcIlwiIDogb3B0aW9ucy5hbHRlcm5hdGlvbi5pZHg7XG4gICAgICAgIGxldCBjdXJyTWVzc2FnZSA9IGBBbWJpZ3VvdXMgQWx0ZXJuYXRpdmVzIERldGVjdGVkOiA8JHtvcHRpb25zLmFtYmlndWl0eUluZGljZXMuam9pbihcIiAsXCIpfT4gaW4gPE9SJHtvY2N1cnJlbmNlfT5gICtcbiAgICAgICAgICAgIGAgaW5zaWRlIDwke29wdGlvbnMudG9wTGV2ZWxSdWxlLm5hbWV9PiBSdWxlLFxcbmAgK1xuICAgICAgICAgICAgYDwke3BhdGhNc2d9PiBtYXkgYXBwZWFycyBhcyBhIHByZWZpeCBwYXRoIGluIGFsbCB0aGVzZSBhbHRlcm5hdGl2ZXMuXFxuYDtcbiAgICAgICAgY3Vyck1lc3NhZ2UgPVxuICAgICAgICAgICAgY3Vyck1lc3NhZ2UgK1xuICAgICAgICAgICAgICAgIGBTZWU6IGh0dHBzOi8vY2hldnJvdGFpbi5pby9kb2NzL2d1aWRlL3Jlc29sdmluZ19ncmFtbWFyX2Vycm9ycy5odG1sI0FNQklHVU9VU19BTFRFUk5BVElWRVNcXG5gICtcbiAgICAgICAgICAgICAgICBgRm9yIEZ1cnRoZXIgZGV0YWlscy5gO1xuICAgICAgICByZXR1cm4gY3Vyck1lc3NhZ2U7XG4gICAgfSxcbiAgICBidWlsZEVtcHR5UmVwZXRpdGlvbkVycm9yKG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IGRzbE5hbWUgPSBnZXRQcm9kdWN0aW9uRHNsTmFtZShvcHRpb25zLnJlcGV0aXRpb24pO1xuICAgICAgICBpZiAob3B0aW9ucy5yZXBldGl0aW9uLmlkeCAhPT0gMCkge1xuICAgICAgICAgICAgZHNsTmFtZSArPSBvcHRpb25zLnJlcGV0aXRpb24uaWR4O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVyck1zZyA9IGBUaGUgcmVwZXRpdGlvbiA8JHtkc2xOYW1lfT4gd2l0aGluIFJ1bGUgPCR7b3B0aW9ucy50b3BMZXZlbFJ1bGUubmFtZX0+IGNhbiBuZXZlciBjb25zdW1lIGFueSB0b2tlbnMuXFxuYCArXG4gICAgICAgICAgICBgVGhpcyBjb3VsZCBsZWFkIHRvIGFuIGluZmluaXRlIGxvb3AuYDtcbiAgICAgICAgcmV0dXJuIGVyck1zZztcbiAgICB9LFxuICAgIC8vIFRPRE86IHJlbW92ZSAtIGBlcnJvcnNfcHVibGljYCBmcm9tIG55Yy5jb25maWcuanMgZXhjbHVkZVxuICAgIC8vICAgICAgIG9uY2UgdGhpcyBtZXRob2QgaXMgZnVsbHkgcmVtb3ZlZCBmcm9tIHRoaXMgZmlsZVxuICAgIGJ1aWxkVG9rZW5OYW1lRXJyb3Iob3B0aW9ucykge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICByZXR1cm4gXCJkZXByZWNhdGVkXCI7XG4gICAgfSxcbiAgICBidWlsZEVtcHR5QWx0ZXJuYXRpb25FcnJvcihvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGVyck1zZyA9IGBBbWJpZ3VvdXMgZW1wdHkgYWx0ZXJuYXRpdmU6IDwke29wdGlvbnMuZW1wdHlDaG9pY2VJZHggKyAxfT5gICtcbiAgICAgICAgICAgIGAgaW4gPE9SJHtvcHRpb25zLmFsdGVybmF0aW9uLmlkeH0+IGluc2lkZSA8JHtvcHRpb25zLnRvcExldmVsUnVsZS5uYW1lfT4gUnVsZS5cXG5gICtcbiAgICAgICAgICAgIGBPbmx5IHRoZSBsYXN0IGFsdGVybmF0aXZlIG1heSBiZSBhbiBlbXB0eSBhbHRlcm5hdGl2ZS5gO1xuICAgICAgICByZXR1cm4gZXJyTXNnO1xuICAgIH0sXG4gICAgYnVpbGRUb29NYW55QWx0ZXJuYXRpdmVzRXJyb3Iob3B0aW9ucykge1xuICAgICAgICBjb25zdCBlcnJNc2cgPSBgQW4gQWx0ZXJuYXRpb24gY2Fubm90IGhhdmUgbW9yZSB0aGFuIDI1NiBhbHRlcm5hdGl2ZXM6XFxuYCArXG4gICAgICAgICAgICBgPE9SJHtvcHRpb25zLmFsdGVybmF0aW9uLmlkeH0+IGluc2lkZSA8JHtvcHRpb25zLnRvcExldmVsUnVsZS5uYW1lfT4gUnVsZS5cXG4gaGFzICR7b3B0aW9ucy5hbHRlcm5hdGlvbi5kZWZpbml0aW9uLmxlbmd0aCArIDF9IGFsdGVybmF0aXZlcy5gO1xuICAgICAgICByZXR1cm4gZXJyTXNnO1xuICAgIH0sXG4gICAgYnVpbGRMZWZ0UmVjdXJzaW9uRXJyb3Iob3B0aW9ucykge1xuICAgICAgICBjb25zdCBydWxlTmFtZSA9IG9wdGlvbnMudG9wTGV2ZWxSdWxlLm5hbWU7XG4gICAgICAgIGNvbnN0IHBhdGhOYW1lcyA9IG1hcChvcHRpb25zLmxlZnRSZWN1cnNpb25QYXRoLCAoY3VyclJ1bGUpID0+IGN1cnJSdWxlLm5hbWUpO1xuICAgICAgICBjb25zdCBsZWZ0UmVjdXJzaXZlUGF0aCA9IGAke3J1bGVOYW1lfSAtLT4gJHtwYXRoTmFtZXNcbiAgICAgICAgICAgIC5jb25jYXQoW3J1bGVOYW1lXSlcbiAgICAgICAgICAgIC5qb2luKFwiIC0tPiBcIil9YDtcbiAgICAgICAgY29uc3QgZXJyTXNnID0gYExlZnQgUmVjdXJzaW9uIGZvdW5kIGluIGdyYW1tYXIuXFxuYCArXG4gICAgICAgICAgICBgcnVsZTogPCR7cnVsZU5hbWV9PiBjYW4gYmUgaW52b2tlZCBmcm9tIGl0c2VsZiAoZGlyZWN0bHkgb3IgaW5kaXJlY3RseSlcXG5gICtcbiAgICAgICAgICAgIGB3aXRob3V0IGNvbnN1bWluZyBhbnkgVG9rZW5zLiBUaGUgZ3JhbW1hciBwYXRoIHRoYXQgY2F1c2VzIHRoaXMgaXM6IFxcbiAke2xlZnRSZWN1cnNpdmVQYXRofVxcbmAgK1xuICAgICAgICAgICAgYCBUbyBmaXggdGhpcyByZWZhY3RvciB5b3VyIGdyYW1tYXIgdG8gcmVtb3ZlIHRoZSBsZWZ0IHJlY3Vyc2lvbi5cXG5gICtcbiAgICAgICAgICAgIGBzZWU6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xMX3BhcnNlciNMZWZ0X2ZhY3RvcmluZy5gO1xuICAgICAgICByZXR1cm4gZXJyTXNnO1xuICAgIH0sXG4gICAgLy8gVE9ETzogcmVtb3ZlIC0gYGVycm9yc19wdWJsaWNgIGZyb20gbnljLmNvbmZpZy5qcyBleGNsdWRlXG4gICAgLy8gICAgICAgb25jZSB0aGlzIG1ldGhvZCBpcyBmdWxseSByZW1vdmVkIGZyb20gdGhpcyBmaWxlXG4gICAgYnVpbGRJbnZhbGlkUnVsZU5hbWVFcnJvcihvcHRpb25zKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIHJldHVybiBcImRlcHJlY2F0ZWRcIjtcbiAgICB9LFxuICAgIGJ1aWxkRHVwbGljYXRlUnVsZU5hbWVFcnJvcihvcHRpb25zKSB7XG4gICAgICAgIGxldCBydWxlTmFtZTtcbiAgICAgICAgaWYgKG9wdGlvbnMudG9wTGV2ZWxSdWxlIGluc3RhbmNlb2YgUnVsZSkge1xuICAgICAgICAgICAgcnVsZU5hbWUgPSBvcHRpb25zLnRvcExldmVsUnVsZS5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcnVsZU5hbWUgPSBvcHRpb25zLnRvcExldmVsUnVsZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlcnJNc2cgPSBgRHVwbGljYXRlIGRlZmluaXRpb24sIHJ1bGU6IC0+JHtydWxlTmFtZX08LSBpcyBhbHJlYWR5IGRlZmluZWQgaW4gdGhlIGdyYW1tYXI6IC0+JHtvcHRpb25zLmdyYW1tYXJOYW1lfTwtYDtcbiAgICAgICAgcmV0dXJuIGVyck1zZztcbiAgICB9LFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9yc19wdWJsaWMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/parse/errors_public.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/parse/exceptions_public.js":
/*!********************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/parse/exceptions_public.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EarlyExitException: () => (/* binding */ EarlyExitException),\n/* harmony export */   MismatchedTokenException: () => (/* binding */ MismatchedTokenException),\n/* harmony export */   NoViableAltException: () => (/* binding */ NoViableAltException),\n/* harmony export */   NotAllInputParsedException: () => (/* binding */ NotAllInputParsedException),\n/* harmony export */   isRecognitionException: () => (/* binding */ isRecognitionException)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/includes.js\");\n\nconst MISMATCHED_TOKEN_EXCEPTION = \"MismatchedTokenException\";\nconst NO_VIABLE_ALT_EXCEPTION = \"NoViableAltException\";\nconst EARLY_EXIT_EXCEPTION = \"EarlyExitException\";\nconst NOT_ALL_INPUT_PARSED_EXCEPTION = \"NotAllInputParsedException\";\nconst RECOGNITION_EXCEPTION_NAMES = [\n    MISMATCHED_TOKEN_EXCEPTION,\n    NO_VIABLE_ALT_EXCEPTION,\n    EARLY_EXIT_EXCEPTION,\n    NOT_ALL_INPUT_PARSED_EXCEPTION,\n];\nObject.freeze(RECOGNITION_EXCEPTION_NAMES);\n// hacks to bypass no support for custom Errors in javascript/typescript\nfunction isRecognitionException(error) {\n    // can't do instanceof on hacked custom js exceptions\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(RECOGNITION_EXCEPTION_NAMES, error.name);\n}\nclass RecognitionException extends Error {\n    constructor(message, token) {\n        super(message);\n        this.token = token;\n        this.resyncedTokens = [];\n        // fix prototype chain when typescript target is ES5\n        Object.setPrototypeOf(this, new.target.prototype);\n        /* istanbul ignore next - V8 workaround to remove constructor from stacktrace when typescript target is ES5 */\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        }\n    }\n}\nclass MismatchedTokenException extends RecognitionException {\n    constructor(message, token, previousToken) {\n        super(message, token);\n        this.previousToken = previousToken;\n        this.name = MISMATCHED_TOKEN_EXCEPTION;\n    }\n}\nclass NoViableAltException extends RecognitionException {\n    constructor(message, token, previousToken) {\n        super(message, token);\n        this.previousToken = previousToken;\n        this.name = NO_VIABLE_ALT_EXCEPTION;\n    }\n}\nclass NotAllInputParsedException extends RecognitionException {\n    constructor(message, token) {\n        super(message, token);\n        this.name = NOT_ALL_INPUT_PARSED_EXCEPTION;\n    }\n}\nclass EarlyExitException extends RecognitionException {\n    constructor(message, token, previousToken) {\n        super(message, token);\n        this.previousToken = previousToken;\n        this.name = EARLY_EXIT_EXCEPTION;\n    }\n}\n//# sourceMappingURL=exceptions_public.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL2V4Y2VwdGlvbnNfcHVibGljLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsV0FBVyxxREFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXJtYWlkLWRpYWdyYW0tZWRpdG9yLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy9wYXJzZS9leGNlcHRpb25zX3B1YmxpYy5qcz9iNGY0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGluY2x1ZGVzIH0gZnJvbSBcImxvZGFzaC1lc1wiO1xuY29uc3QgTUlTTUFUQ0hFRF9UT0tFTl9FWENFUFRJT04gPSBcIk1pc21hdGNoZWRUb2tlbkV4Y2VwdGlvblwiO1xuY29uc3QgTk9fVklBQkxFX0FMVF9FWENFUFRJT04gPSBcIk5vVmlhYmxlQWx0RXhjZXB0aW9uXCI7XG5jb25zdCBFQVJMWV9FWElUX0VYQ0VQVElPTiA9IFwiRWFybHlFeGl0RXhjZXB0aW9uXCI7XG5jb25zdCBOT1RfQUxMX0lOUFVUX1BBUlNFRF9FWENFUFRJT04gPSBcIk5vdEFsbElucHV0UGFyc2VkRXhjZXB0aW9uXCI7XG5jb25zdCBSRUNPR05JVElPTl9FWENFUFRJT05fTkFNRVMgPSBbXG4gICAgTUlTTUFUQ0hFRF9UT0tFTl9FWENFUFRJT04sXG4gICAgTk9fVklBQkxFX0FMVF9FWENFUFRJT04sXG4gICAgRUFSTFlfRVhJVF9FWENFUFRJT04sXG4gICAgTk9UX0FMTF9JTlBVVF9QQVJTRURfRVhDRVBUSU9OLFxuXTtcbk9iamVjdC5mcmVlemUoUkVDT0dOSVRJT05fRVhDRVBUSU9OX05BTUVTKTtcbi8vIGhhY2tzIHRvIGJ5cGFzcyBubyBzdXBwb3J0IGZvciBjdXN0b20gRXJyb3JzIGluIGphdmFzY3JpcHQvdHlwZXNjcmlwdFxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVjb2duaXRpb25FeGNlcHRpb24oZXJyb3IpIHtcbiAgICAvLyBjYW4ndCBkbyBpbnN0YW5jZW9mIG9uIGhhY2tlZCBjdXN0b20ganMgZXhjZXB0aW9uc1xuICAgIHJldHVybiBpbmNsdWRlcyhSRUNPR05JVElPTl9FWENFUFRJT05fTkFNRVMsIGVycm9yLm5hbWUpO1xufVxuY2xhc3MgUmVjb2duaXRpb25FeGNlcHRpb24gZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgdG9rZW4pIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMudG9rZW4gPSB0b2tlbjtcbiAgICAgICAgdGhpcy5yZXN5bmNlZFRva2VucyA9IFtdO1xuICAgICAgICAvLyBmaXggcHJvdG90eXBlIGNoYWluIHdoZW4gdHlwZXNjcmlwdCB0YXJnZXQgaXMgRVM1XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBuZXcudGFyZ2V0LnByb3RvdHlwZSk7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0gVjggd29ya2Fyb3VuZCB0byByZW1vdmUgY29uc3RydWN0b3IgZnJvbSBzdGFja3RyYWNlIHdoZW4gdHlwZXNjcmlwdCB0YXJnZXQgaXMgRVM1ICovXG4gICAgICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTWlzbWF0Y2hlZFRva2VuRXhjZXB0aW9uIGV4dGVuZHMgUmVjb2duaXRpb25FeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHRva2VuLCBwcmV2aW91c1Rva2VuKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIHRva2VuKTtcbiAgICAgICAgdGhpcy5wcmV2aW91c1Rva2VuID0gcHJldmlvdXNUb2tlbjtcbiAgICAgICAgdGhpcy5uYW1lID0gTUlTTUFUQ0hFRF9UT0tFTl9FWENFUFRJT047XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE5vVmlhYmxlQWx0RXhjZXB0aW9uIGV4dGVuZHMgUmVjb2duaXRpb25FeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHRva2VuLCBwcmV2aW91c1Rva2VuKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIHRva2VuKTtcbiAgICAgICAgdGhpcy5wcmV2aW91c1Rva2VuID0gcHJldmlvdXNUb2tlbjtcbiAgICAgICAgdGhpcy5uYW1lID0gTk9fVklBQkxFX0FMVF9FWENFUFRJT047XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE5vdEFsbElucHV0UGFyc2VkRXhjZXB0aW9uIGV4dGVuZHMgUmVjb2duaXRpb25FeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHRva2VuKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIHRva2VuKTtcbiAgICAgICAgdGhpcy5uYW1lID0gTk9UX0FMTF9JTlBVVF9QQVJTRURfRVhDRVBUSU9OO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBFYXJseUV4aXRFeGNlcHRpb24gZXh0ZW5kcyBSZWNvZ25pdGlvbkV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgdG9rZW4sIHByZXZpb3VzVG9rZW4pIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSwgdG9rZW4pO1xuICAgICAgICB0aGlzLnByZXZpb3VzVG9rZW4gPSBwcmV2aW91c1Rva2VuO1xuICAgICAgICB0aGlzLm5hbWUgPSBFQVJMWV9FWElUX0VYQ0VQVElPTjtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leGNlcHRpb25zX3B1YmxpYy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/parse/exceptions_public.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/checks.js":
/*!*****************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/parse/grammar/checks.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OccurrenceValidationCollector: () => (/* binding */ OccurrenceValidationCollector),\n/* harmony export */   RepetitionCollector: () => (/* binding */ RepetitionCollector),\n/* harmony export */   checkPrefixAlternativesAmbiguities: () => (/* binding */ checkPrefixAlternativesAmbiguities),\n/* harmony export */   getFirstNoneTerminal: () => (/* binding */ getFirstNoneTerminal),\n/* harmony export */   identifyProductionForDuplicates: () => (/* binding */ identifyProductionForDuplicates),\n/* harmony export */   validateAmbiguousAlternationAlternatives: () => (/* binding */ validateAmbiguousAlternationAlternatives),\n/* harmony export */   validateEmptyOrAlternative: () => (/* binding */ validateEmptyOrAlternative),\n/* harmony export */   validateGrammar: () => (/* binding */ validateGrammar),\n/* harmony export */   validateLookahead: () => (/* binding */ validateLookahead),\n/* harmony export */   validateNoLeftRecursion: () => (/* binding */ validateNoLeftRecursion),\n/* harmony export */   validateRuleDoesNotAlreadyExist: () => (/* binding */ validateRuleDoesNotAlreadyExist),\n/* harmony export */   validateRuleIsOverridden: () => (/* binding */ validateRuleIsOverridden),\n/* harmony export */   validateSomeNonEmptyLookaheadPath: () => (/* binding */ validateSomeNonEmptyLookaheadPath),\n/* harmony export */   validateTooManyAlts: () => (/* binding */ validateTooManyAlts)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/map.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/flatMap.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/groupBy.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/pickBy.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/values.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/head.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/reduce.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/includes.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isEmpty.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/difference.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/clone.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/flatten.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/drop.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/dropRight.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/reject.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/forEach.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/compact.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/filter.js\");\n/* harmony import */ var _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parser/parser.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/parser/parser.js\");\n/* harmony import */ var _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chevrotain/gast */ \"(ssr)/./node_modules/@chevrotain/gast/lib/src/api.js\");\n/* harmony import */ var _lookahead_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lookahead.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/lookahead.js\");\n/* harmony import */ var _interpreter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./interpreter.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/interpreter.js\");\n/* harmony import */ var _scan_tokens_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../scan/tokens.js */ \"(ssr)/./node_modules/chevrotain/lib/src/scan/tokens.js\");\n\n\n\n\n\n\nfunction validateLookahead(options) {\n    const lookaheadValidationErrorMessages = options.lookaheadStrategy.validate({\n        rules: options.rules,\n        tokenTypes: options.tokenTypes,\n        grammarName: options.grammarName,\n    });\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(lookaheadValidationErrorMessages, (errorMessage) => (Object.assign({ type: _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__.ParserDefinitionErrorType.CUSTOM_LOOKAHEAD_VALIDATION }, errorMessage)));\n}\nfunction validateGrammar(topLevels, tokenTypes, errMsgProvider, grammarName) {\n    const duplicateErrors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(topLevels, (currTopLevel) => validateDuplicateProductions(currTopLevel, errMsgProvider));\n    const termsNamespaceConflictErrors = checkTerminalAndNoneTerminalsNameSpace(topLevels, tokenTypes, errMsgProvider);\n    const tooManyAltsErrors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(topLevels, (curRule) => validateTooManyAlts(curRule, errMsgProvider));\n    const duplicateRulesError = (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(topLevels, (curRule) => validateRuleDoesNotAlreadyExist(curRule, topLevels, grammarName, errMsgProvider));\n    return duplicateErrors.concat(termsNamespaceConflictErrors, tooManyAltsErrors, duplicateRulesError);\n}\nfunction validateDuplicateProductions(topLevelRule, errMsgProvider) {\n    const collectorVisitor = new OccurrenceValidationCollector();\n    topLevelRule.accept(collectorVisitor);\n    const allRuleProductions = collectorVisitor.allProductions;\n    const productionGroups = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(allRuleProductions, identifyProductionForDuplicates);\n    const duplicates = (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(productionGroups, (currGroup) => {\n        return currGroup.length > 1;\n    });\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(duplicates), (currDuplicates) => {\n        const firstProd = (0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(currDuplicates);\n        const msg = errMsgProvider.buildDuplicateFoundError(topLevelRule, currDuplicates);\n        const dslName = (0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.getProductionDslName)(firstProd);\n        const defError = {\n            message: msg,\n            type: _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__.ParserDefinitionErrorType.DUPLICATE_PRODUCTIONS,\n            ruleName: topLevelRule.name,\n            dslName: dslName,\n            occurrence: firstProd.idx,\n        };\n        const param = getExtraProductionArgument(firstProd);\n        if (param) {\n            defError.parameter = param;\n        }\n        return defError;\n    });\n    return errors;\n}\nfunction identifyProductionForDuplicates(prod) {\n    return `${(0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.getProductionDslName)(prod)}_#_${prod.idx}_#_${getExtraProductionArgument(prod)}`;\n}\nfunction getExtraProductionArgument(prod) {\n    if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.Terminal) {\n        return prod.terminalType.name;\n    }\n    else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.NonTerminal) {\n        return prod.nonTerminalName;\n    }\n    else {\n        return \"\";\n    }\n}\nclass OccurrenceValidationCollector extends _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.GAstVisitor {\n    constructor() {\n        super(...arguments);\n        this.allProductions = [];\n    }\n    visitNonTerminal(subrule) {\n        this.allProductions.push(subrule);\n    }\n    visitOption(option) {\n        this.allProductions.push(option);\n    }\n    visitRepetitionWithSeparator(manySep) {\n        this.allProductions.push(manySep);\n    }\n    visitRepetitionMandatory(atLeastOne) {\n        this.allProductions.push(atLeastOne);\n    }\n    visitRepetitionMandatoryWithSeparator(atLeastOneSep) {\n        this.allProductions.push(atLeastOneSep);\n    }\n    visitRepetition(many) {\n        this.allProductions.push(many);\n    }\n    visitAlternation(or) {\n        this.allProductions.push(or);\n    }\n    visitTerminal(terminal) {\n        this.allProductions.push(terminal);\n    }\n}\nfunction validateRuleDoesNotAlreadyExist(rule, allRules, className, errMsgProvider) {\n    const errors = [];\n    const occurrences = (0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(allRules, (result, curRule) => {\n        if (curRule.name === rule.name) {\n            return result + 1;\n        }\n        return result;\n    }, 0);\n    if (occurrences > 1) {\n        const errMsg = errMsgProvider.buildDuplicateRuleNameError({\n            topLevelRule: rule,\n            grammarName: className,\n        });\n        errors.push({\n            message: errMsg,\n            type: _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,\n            ruleName: rule.name,\n        });\n    }\n    return errors;\n}\n// TODO: is there anyway to get only the rule names of rules inherited from the super grammars?\n// This is not part of the IGrammarErrorProvider because the validation cannot be performed on\n// The grammar structure, only at runtime.\nfunction validateRuleIsOverridden(ruleName, definedRulesNames, className) {\n    const errors = [];\n    let errMsg;\n    if (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(definedRulesNames, ruleName)) {\n        errMsg =\n            `Invalid rule override, rule: ->${ruleName}<- cannot be overridden in the grammar: ->${className}<-` +\n                `as it is not defined in any of the super grammars `;\n        errors.push({\n            message: errMsg,\n            type: _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__.ParserDefinitionErrorType.INVALID_RULE_OVERRIDE,\n            ruleName: ruleName,\n        });\n    }\n    return errors;\n}\nfunction validateNoLeftRecursion(topRule, currRule, errMsgProvider, path = []) {\n    const errors = [];\n    const nextNonTerminals = getFirstNoneTerminal(currRule.definition);\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(nextNonTerminals)) {\n        return [];\n    }\n    else {\n        const ruleName = topRule.name;\n        const foundLeftRecursion = (0,lodash_es__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(nextNonTerminals, topRule);\n        if (foundLeftRecursion) {\n            errors.push({\n                message: errMsgProvider.buildLeftRecursionError({\n                    topLevelRule: topRule,\n                    leftRecursionPath: path,\n                }),\n                type: _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__.ParserDefinitionErrorType.LEFT_RECURSION,\n                ruleName: ruleName,\n            });\n        }\n        // we are only looking for cyclic paths leading back to the specific topRule\n        // other cyclic paths are ignored, we still need this difference to avoid infinite loops...\n        const validNextSteps = (0,lodash_es__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(nextNonTerminals, path.concat([topRule]));\n        const errorsFromNextSteps = (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(validNextSteps, (currRefRule) => {\n            const newPath = (0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(path);\n            newPath.push(currRefRule);\n            return validateNoLeftRecursion(topRule, currRefRule, errMsgProvider, newPath);\n        });\n        return errors.concat(errorsFromNextSteps);\n    }\n}\nfunction getFirstNoneTerminal(definition) {\n    let result = [];\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(definition)) {\n        return result;\n    }\n    const firstProd = (0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(definition);\n    /* istanbul ignore else */\n    if (firstProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.NonTerminal) {\n        result.push(firstProd.referencedRule);\n    }\n    else if (firstProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.Alternative ||\n        firstProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.Option ||\n        firstProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.RepetitionMandatory ||\n        firstProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.RepetitionMandatoryWithSeparator ||\n        firstProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.RepetitionWithSeparator ||\n        firstProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.Repetition) {\n        result = result.concat(getFirstNoneTerminal(firstProd.definition));\n    }\n    else if (firstProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.Alternation) {\n        // each sub definition in alternation is a FLAT\n        result = (0,lodash_es__WEBPACK_IMPORTED_MODULE_16__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(firstProd.definition, (currSubDef) => getFirstNoneTerminal(currSubDef.definition)));\n    }\n    else if (firstProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.Terminal) {\n        // nothing to see, move along\n    }\n    else {\n        throw Error(\"non exhaustive match\");\n    }\n    const isFirstOptional = (0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.isOptionalProd)(firstProd);\n    const hasMore = definition.length > 1;\n    if (isFirstOptional && hasMore) {\n        const rest = (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(definition);\n        return result.concat(getFirstNoneTerminal(rest));\n    }\n    else {\n        return result;\n    }\n}\nclass OrCollector extends _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.GAstVisitor {\n    constructor() {\n        super(...arguments);\n        this.alternations = [];\n    }\n    visitAlternation(node) {\n        this.alternations.push(node);\n    }\n}\nfunction validateEmptyOrAlternative(topLevelRule, errMsgProvider) {\n    const orCollector = new OrCollector();\n    topLevelRule.accept(orCollector);\n    const ors = orCollector.alternations;\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(ors, (currOr) => {\n        const exceptLast = (0,lodash_es__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(currOr.definition);\n        return (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(exceptLast, (currAlternative, currAltIdx) => {\n            const possibleFirstInAlt = (0,_interpreter_js__WEBPACK_IMPORTED_MODULE_3__.nextPossibleTokensAfter)([currAlternative], [], _scan_tokens_js__WEBPACK_IMPORTED_MODULE_4__.tokenStructuredMatcher, 1);\n            if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(possibleFirstInAlt)) {\n                return [\n                    {\n                        message: errMsgProvider.buildEmptyAlternationError({\n                            topLevelRule: topLevelRule,\n                            alternation: currOr,\n                            emptyChoiceIdx: currAltIdx,\n                        }),\n                        type: _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__.ParserDefinitionErrorType.NONE_LAST_EMPTY_ALT,\n                        ruleName: topLevelRule.name,\n                        occurrence: currOr.idx,\n                        alternative: currAltIdx + 1,\n                    },\n                ];\n            }\n            else {\n                return [];\n            }\n        });\n    });\n    return errors;\n}\nfunction validateAmbiguousAlternationAlternatives(topLevelRule, globalMaxLookahead, errMsgProvider) {\n    const orCollector = new OrCollector();\n    topLevelRule.accept(orCollector);\n    let ors = orCollector.alternations;\n    // New Handling of ignoring ambiguities\n    // - https://github.com/chevrotain/chevrotain/issues/869\n    ors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(ors, (currOr) => currOr.ignoreAmbiguities === true);\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(ors, (currOr) => {\n        const currOccurrence = currOr.idx;\n        const actualMaxLookahead = currOr.maxLookahead || globalMaxLookahead;\n        const alternatives = (0,_lookahead_js__WEBPACK_IMPORTED_MODULE_2__.getLookaheadPathsForOr)(currOccurrence, topLevelRule, actualMaxLookahead, currOr);\n        const altsAmbiguityErrors = checkAlternativesAmbiguities(alternatives, currOr, topLevelRule, errMsgProvider);\n        const altsPrefixAmbiguityErrors = checkPrefixAlternativesAmbiguities(alternatives, currOr, topLevelRule, errMsgProvider);\n        return altsAmbiguityErrors.concat(altsPrefixAmbiguityErrors);\n    });\n    return errors;\n}\nclass RepetitionCollector extends _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.GAstVisitor {\n    constructor() {\n        super(...arguments);\n        this.allProductions = [];\n    }\n    visitRepetitionWithSeparator(manySep) {\n        this.allProductions.push(manySep);\n    }\n    visitRepetitionMandatory(atLeastOne) {\n        this.allProductions.push(atLeastOne);\n    }\n    visitRepetitionMandatoryWithSeparator(atLeastOneSep) {\n        this.allProductions.push(atLeastOneSep);\n    }\n    visitRepetition(many) {\n        this.allProductions.push(many);\n    }\n}\nfunction validateTooManyAlts(topLevelRule, errMsgProvider) {\n    const orCollector = new OrCollector();\n    topLevelRule.accept(orCollector);\n    const ors = orCollector.alternations;\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(ors, (currOr) => {\n        if (currOr.definition.length > 255) {\n            return [\n                {\n                    message: errMsgProvider.buildTooManyAlternativesError({\n                        topLevelRule: topLevelRule,\n                        alternation: currOr,\n                    }),\n                    type: _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__.ParserDefinitionErrorType.TOO_MANY_ALTS,\n                    ruleName: topLevelRule.name,\n                    occurrence: currOr.idx,\n                },\n            ];\n        }\n        else {\n            return [];\n        }\n    });\n    return errors;\n}\nfunction validateSomeNonEmptyLookaheadPath(topLevelRules, maxLookahead, errMsgProvider) {\n    const errors = [];\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_20__[\"default\"])(topLevelRules, (currTopRule) => {\n        const collectorVisitor = new RepetitionCollector();\n        currTopRule.accept(collectorVisitor);\n        const allRuleProductions = collectorVisitor.allProductions;\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_20__[\"default\"])(allRuleProductions, (currProd) => {\n            const prodType = (0,_lookahead_js__WEBPACK_IMPORTED_MODULE_2__.getProdType)(currProd);\n            const actualMaxLookahead = currProd.maxLookahead || maxLookahead;\n            const currOccurrence = currProd.idx;\n            const paths = (0,_lookahead_js__WEBPACK_IMPORTED_MODULE_2__.getLookaheadPathsForOptionalProd)(currOccurrence, currTopRule, prodType, actualMaxLookahead);\n            const pathsInsideProduction = paths[0];\n            if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(pathsInsideProduction))) {\n                const errMsg = errMsgProvider.buildEmptyRepetitionError({\n                    topLevelRule: currTopRule,\n                    repetition: currProd,\n                });\n                errors.push({\n                    message: errMsg,\n                    type: _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__.ParserDefinitionErrorType.NO_NON_EMPTY_LOOKAHEAD,\n                    ruleName: currTopRule.name,\n                });\n            }\n        });\n    });\n    return errors;\n}\nfunction checkAlternativesAmbiguities(alternatives, alternation, rule, errMsgProvider) {\n    const foundAmbiguousPaths = [];\n    const identicalAmbiguities = (0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(alternatives, (result, currAlt, currAltIdx) => {\n        // ignore (skip) ambiguities with this alternative\n        if (alternation.definition[currAltIdx].ignoreAmbiguities === true) {\n            return result;\n        }\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_20__[\"default\"])(currAlt, (currPath) => {\n            const altsCurrPathAppearsIn = [currAltIdx];\n            (0,lodash_es__WEBPACK_IMPORTED_MODULE_20__[\"default\"])(alternatives, (currOtherAlt, currOtherAltIdx) => {\n                if (currAltIdx !== currOtherAltIdx &&\n                    (0,_lookahead_js__WEBPACK_IMPORTED_MODULE_2__.containsPath)(currOtherAlt, currPath) &&\n                    // ignore (skip) ambiguities with this \"other\" alternative\n                    alternation.definition[currOtherAltIdx].ignoreAmbiguities !== true) {\n                    altsCurrPathAppearsIn.push(currOtherAltIdx);\n                }\n            });\n            if (altsCurrPathAppearsIn.length > 1 &&\n                !(0,_lookahead_js__WEBPACK_IMPORTED_MODULE_2__.containsPath)(foundAmbiguousPaths, currPath)) {\n                foundAmbiguousPaths.push(currPath);\n                result.push({\n                    alts: altsCurrPathAppearsIn,\n                    path: currPath,\n                });\n            }\n        });\n        return result;\n    }, []);\n    const currErrors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(identicalAmbiguities, (currAmbDescriptor) => {\n        const ambgIndices = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(currAmbDescriptor.alts, (currAltIdx) => currAltIdx + 1);\n        const currMessage = errMsgProvider.buildAlternationAmbiguityError({\n            topLevelRule: rule,\n            alternation: alternation,\n            ambiguityIndices: ambgIndices,\n            prefixPath: currAmbDescriptor.path,\n        });\n        return {\n            message: currMessage,\n            type: _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__.ParserDefinitionErrorType.AMBIGUOUS_ALTS,\n            ruleName: rule.name,\n            occurrence: alternation.idx,\n            alternatives: currAmbDescriptor.alts,\n        };\n    });\n    return currErrors;\n}\nfunction checkPrefixAlternativesAmbiguities(alternatives, alternation, rule, errMsgProvider) {\n    // flatten\n    const pathsAndIndices = (0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(alternatives, (result, currAlt, idx) => {\n        const currPathsAndIdx = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(currAlt, (currPath) => {\n            return { idx: idx, path: currPath };\n        });\n        return result.concat(currPathsAndIdx);\n    }, []);\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_21__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(pathsAndIndices, (currPathAndIdx) => {\n        const alternativeGast = alternation.definition[currPathAndIdx.idx];\n        // ignore (skip) ambiguities with this alternative\n        if (alternativeGast.ignoreAmbiguities === true) {\n            return [];\n        }\n        const targetIdx = currPathAndIdx.idx;\n        const targetPath = currPathAndIdx.path;\n        const prefixAmbiguitiesPathsAndIndices = (0,lodash_es__WEBPACK_IMPORTED_MODULE_22__[\"default\"])(pathsAndIndices, (searchPathAndIdx) => {\n            // prefix ambiguity can only be created from lower idx (higher priority) path\n            return (\n            // ignore (skip) ambiguities with this \"other\" alternative\n            alternation.definition[searchPathAndIdx.idx].ignoreAmbiguities !==\n                true &&\n                searchPathAndIdx.idx < targetIdx &&\n                // checking for strict prefix because identical lookaheads\n                // will be be detected using a different validation.\n                (0,_lookahead_js__WEBPACK_IMPORTED_MODULE_2__.isStrictPrefixOfPath)(searchPathAndIdx.path, targetPath));\n        });\n        const currPathPrefixErrors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(prefixAmbiguitiesPathsAndIndices, (currAmbPathAndIdx) => {\n            const ambgIndices = [currAmbPathAndIdx.idx + 1, targetIdx + 1];\n            const occurrence = alternation.idx === 0 ? \"\" : alternation.idx;\n            const message = errMsgProvider.buildAlternationPrefixAmbiguityError({\n                topLevelRule: rule,\n                alternation: alternation,\n                ambiguityIndices: ambgIndices,\n                prefixPath: currAmbPathAndIdx.path,\n            });\n            return {\n                message: message,\n                type: _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__.ParserDefinitionErrorType.AMBIGUOUS_PREFIX_ALTS,\n                ruleName: rule.name,\n                occurrence: occurrence,\n                alternatives: ambgIndices,\n            };\n        });\n        return currPathPrefixErrors;\n    }));\n    return errors;\n}\nfunction checkTerminalAndNoneTerminalsNameSpace(topLevels, tokenTypes, errMsgProvider) {\n    const errors = [];\n    const tokenNames = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(tokenTypes, (currToken) => currToken.name);\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_20__[\"default\"])(topLevels, (currRule) => {\n        const currRuleName = currRule.name;\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(tokenNames, currRuleName)) {\n            const errMsg = errMsgProvider.buildNamespaceConflictError(currRule);\n            errors.push({\n                message: errMsg,\n                type: _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__.ParserDefinitionErrorType.CONFLICT_TOKENS_RULES_NAMESPACE,\n                ruleName: currRuleName,\n            });\n        }\n    });\n    return errors;\n}\n//# sourceMappingURL=checks.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL2dyYW1tYXIvY2hlY2tzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBb0w7QUFDbkg7QUFDNkw7QUFDbEg7QUFDakY7QUFDRztBQUN2RDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFdBQVcscURBQUcsc0VBQXNFLE1BQU0sd0VBQXlCLDhCQUE4QjtBQUNqSjtBQUNPO0FBQ1AsNEJBQTRCLHFEQUFPO0FBQ25DO0FBQ0EsOEJBQThCLHFEQUFPO0FBQ3JDLGdDQUFnQyxxREFBTztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIscURBQU87QUFDcEMsdUJBQXVCLHFEQUFNO0FBQzdCO0FBQ0EsS0FBSztBQUNMLG1CQUFtQixxREFBRyxDQUFDLHFEQUFNO0FBQzdCLDBCQUEwQixzREFBSztBQUMvQjtBQUNBLHdCQUF3QixzRUFBb0I7QUFDNUM7QUFDQTtBQUNBLGtCQUFrQix3RUFBeUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDTztBQUNQLGNBQWMsc0VBQW9CLE9BQU8sS0FBSyxTQUFTLEtBQUssaUNBQWlDO0FBQzdGO0FBQ0E7QUFDQSx3QkFBd0Isc0RBQVE7QUFDaEM7QUFDQTtBQUNBLDZCQUE2Qix5REFBVztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyw0Q0FBNEMseURBQVc7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSx3QkFBd0Isc0RBQU07QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGtCQUFrQix3RUFBeUI7QUFDM0M7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsU0FBUyxzREFBUTtBQUNqQjtBQUNBLDhDQUE4QyxTQUFTLDRDQUE0QyxVQUFVO0FBQzdHO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix3RUFBeUI7QUFDM0M7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsUUFBUSxzREFBTztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHNEQUFRO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsc0JBQXNCLHdFQUF5QjtBQUMvQztBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isc0RBQVU7QUFDekMsb0NBQW9DLHFEQUFPO0FBQzNDLDRCQUE0QixzREFBSztBQUNqQztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxRQUFRLHNEQUFPO0FBQ2Y7QUFDQTtBQUNBLHNCQUFzQixzREFBSztBQUMzQjtBQUNBLDZCQUE2Qix5REFBVztBQUN4QztBQUNBO0FBQ0Esa0NBQWtDLHlEQUFlO0FBQ2pELDZCQUE2QixvREFBTTtBQUNuQyw2QkFBNkIsaUVBQW1CO0FBQ2hELDZCQUE2Qiw4RUFBZ0M7QUFDN0QsNkJBQTZCLHFFQUF1QjtBQUNwRCw2QkFBNkIsd0RBQVU7QUFDdkM7QUFDQTtBQUNBLGtDQUFrQyx5REFBVztBQUM3QztBQUNBLGlCQUFpQixzREFBTyxDQUFDLHFEQUFHO0FBQzVCO0FBQ0Esa0NBQWtDLHNEQUFRO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsZ0VBQWM7QUFDMUM7QUFDQTtBQUNBLHFCQUFxQixzREFBSTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIseURBQVc7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHFEQUFPO0FBQzFCLDJCQUEyQixzREFBUztBQUNwQyxlQUFlLHFEQUFPO0FBQ3RCLHVDQUF1Qyx3RUFBdUIsd0JBQXdCLG1FQUFzQjtBQUM1RyxnQkFBZ0Isc0RBQU87QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLDhCQUE4Qix3RUFBeUI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHNEQUFNO0FBQ2hCLG1CQUFtQixxREFBTztBQUMxQjtBQUNBO0FBQ0EsNkJBQTZCLHFFQUFzQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNPLGtDQUFrQyx5REFBVztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIscURBQU87QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLDBCQUEwQix3RUFBeUI7QUFDbkQ7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDTztBQUNQO0FBQ0EsSUFBSSxzREFBTztBQUNYO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQU87QUFDZiw2QkFBNkIsMERBQVc7QUFDeEM7QUFDQTtBQUNBLDBCQUEwQiwrRUFBZ0M7QUFDMUQ7QUFDQSxnQkFBZ0Isc0RBQU8sQ0FBQyxzREFBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLDBCQUEwQix3RUFBeUI7QUFDbkQ7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHNEQUFNO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBTztBQUNmO0FBQ0EsWUFBWSxzREFBTztBQUNuQjtBQUNBLG9CQUFvQiwyREFBWTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGlCQUFpQiwyREFBWTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTCx1QkFBdUIscURBQUc7QUFDMUIsNEJBQTRCLHFEQUFHO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGtCQUFrQix3RUFBeUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNPO0FBQ1A7QUFDQSw0QkFBNEIsc0RBQU07QUFDbEMsZ0NBQWdDLHFEQUFHO0FBQ25DLHFCQUFxQjtBQUNyQixTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0wsbUJBQW1CLHNEQUFPLENBQUMscURBQU87QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsc0RBQU07QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixtRUFBb0I7QUFDcEMsU0FBUztBQUNULHFDQUFxQyxxREFBRztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0Esc0JBQXNCLHdFQUF5QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixxREFBRztBQUMxQixJQUFJLHNEQUFPO0FBQ1g7QUFDQSxZQUFZLHNEQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix3RUFBeUI7QUFDL0M7QUFDQSxhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVybWFpZC1kaWFncmFtLWVkaXRvci8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvZ3JhbW1hci9jaGVja3MuanM/MTg4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjbG9uZSwgY29tcGFjdCwgZGlmZmVyZW5jZSwgZHJvcCwgZHJvcFJpZ2h0LCBmaWx0ZXIsIGZpcnN0LCBmbGF0TWFwLCBmbGF0dGVuLCBmb3JFYWNoLCBncm91cEJ5LCBpbmNsdWRlcywgaXNFbXB0eSwgbWFwLCBwaWNrQnksIHJlZHVjZSwgcmVqZWN0LCB2YWx1ZXMsIH0gZnJvbSBcImxvZGFzaC1lc1wiO1xuaW1wb3J0IHsgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZSwgfSBmcm9tIFwiLi4vcGFyc2VyL3BhcnNlci5qc1wiO1xuaW1wb3J0IHsgQWx0ZXJuYXRpb24sIEFsdGVybmF0aXZlIGFzIEFsdGVybmF0aXZlR0FTVCwgR0FzdFZpc2l0b3IsIGdldFByb2R1Y3Rpb25Ec2xOYW1lLCBpc09wdGlvbmFsUHJvZCwgTm9uVGVybWluYWwsIE9wdGlvbiwgUmVwZXRpdGlvbiwgUmVwZXRpdGlvbk1hbmRhdG9yeSwgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IsIFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yLCBUZXJtaW5hbCwgfSBmcm9tIFwiQGNoZXZyb3RhaW4vZ2FzdFwiO1xuaW1wb3J0IHsgY29udGFpbnNQYXRoLCBnZXRMb29rYWhlYWRQYXRoc0Zvck9wdGlvbmFsUHJvZCwgZ2V0TG9va2FoZWFkUGF0aHNGb3JPciwgZ2V0UHJvZFR5cGUsIGlzU3RyaWN0UHJlZml4T2ZQYXRoLCB9IGZyb20gXCIuL2xvb2thaGVhZC5qc1wiO1xuaW1wb3J0IHsgbmV4dFBvc3NpYmxlVG9rZW5zQWZ0ZXIgfSBmcm9tIFwiLi9pbnRlcnByZXRlci5qc1wiO1xuaW1wb3J0IHsgdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlciB9IGZyb20gXCIuLi8uLi9zY2FuL3Rva2Vucy5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlTG9va2FoZWFkKG9wdGlvbnMpIHtcbiAgICBjb25zdCBsb29rYWhlYWRWYWxpZGF0aW9uRXJyb3JNZXNzYWdlcyA9IG9wdGlvbnMubG9va2FoZWFkU3RyYXRlZ3kudmFsaWRhdGUoe1xuICAgICAgICBydWxlczogb3B0aW9ucy5ydWxlcyxcbiAgICAgICAgdG9rZW5UeXBlczogb3B0aW9ucy50b2tlblR5cGVzLFxuICAgICAgICBncmFtbWFyTmFtZTogb3B0aW9ucy5ncmFtbWFyTmFtZSxcbiAgICB9KTtcbiAgICByZXR1cm4gbWFwKGxvb2thaGVhZFZhbGlkYXRpb25FcnJvck1lc3NhZ2VzLCAoZXJyb3JNZXNzYWdlKSA9PiAoT2JqZWN0LmFzc2lnbih7IHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuQ1VTVE9NX0xPT0tBSEVBRF9WQUxJREFUSU9OIH0sIGVycm9yTWVzc2FnZSkpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUdyYW1tYXIodG9wTGV2ZWxzLCB0b2tlblR5cGVzLCBlcnJNc2dQcm92aWRlciwgZ3JhbW1hck5hbWUpIHtcbiAgICBjb25zdCBkdXBsaWNhdGVFcnJvcnMgPSBmbGF0TWFwKHRvcExldmVscywgKGN1cnJUb3BMZXZlbCkgPT4gdmFsaWRhdGVEdXBsaWNhdGVQcm9kdWN0aW9ucyhjdXJyVG9wTGV2ZWwsIGVyck1zZ1Byb3ZpZGVyKSk7XG4gICAgY29uc3QgdGVybXNOYW1lc3BhY2VDb25mbGljdEVycm9ycyA9IGNoZWNrVGVybWluYWxBbmROb25lVGVybWluYWxzTmFtZVNwYWNlKHRvcExldmVscywgdG9rZW5UeXBlcywgZXJyTXNnUHJvdmlkZXIpO1xuICAgIGNvbnN0IHRvb01hbnlBbHRzRXJyb3JzID0gZmxhdE1hcCh0b3BMZXZlbHMsIChjdXJSdWxlKSA9PiB2YWxpZGF0ZVRvb01hbnlBbHRzKGN1clJ1bGUsIGVyck1zZ1Byb3ZpZGVyKSk7XG4gICAgY29uc3QgZHVwbGljYXRlUnVsZXNFcnJvciA9IGZsYXRNYXAodG9wTGV2ZWxzLCAoY3VyUnVsZSkgPT4gdmFsaWRhdGVSdWxlRG9lc05vdEFscmVhZHlFeGlzdChjdXJSdWxlLCB0b3BMZXZlbHMsIGdyYW1tYXJOYW1lLCBlcnJNc2dQcm92aWRlcikpO1xuICAgIHJldHVybiBkdXBsaWNhdGVFcnJvcnMuY29uY2F0KHRlcm1zTmFtZXNwYWNlQ29uZmxpY3RFcnJvcnMsIHRvb01hbnlBbHRzRXJyb3JzLCBkdXBsaWNhdGVSdWxlc0Vycm9yKTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlRHVwbGljYXRlUHJvZHVjdGlvbnModG9wTGV2ZWxSdWxlLCBlcnJNc2dQcm92aWRlcikge1xuICAgIGNvbnN0IGNvbGxlY3RvclZpc2l0b3IgPSBuZXcgT2NjdXJyZW5jZVZhbGlkYXRpb25Db2xsZWN0b3IoKTtcbiAgICB0b3BMZXZlbFJ1bGUuYWNjZXB0KGNvbGxlY3RvclZpc2l0b3IpO1xuICAgIGNvbnN0IGFsbFJ1bGVQcm9kdWN0aW9ucyA9IGNvbGxlY3RvclZpc2l0b3IuYWxsUHJvZHVjdGlvbnM7XG4gICAgY29uc3QgcHJvZHVjdGlvbkdyb3VwcyA9IGdyb3VwQnkoYWxsUnVsZVByb2R1Y3Rpb25zLCBpZGVudGlmeVByb2R1Y3Rpb25Gb3JEdXBsaWNhdGVzKTtcbiAgICBjb25zdCBkdXBsaWNhdGVzID0gcGlja0J5KHByb2R1Y3Rpb25Hcm91cHMsIChjdXJyR3JvdXApID0+IHtcbiAgICAgICAgcmV0dXJuIGN1cnJHcm91cC5sZW5ndGggPiAxO1xuICAgIH0pO1xuICAgIGNvbnN0IGVycm9ycyA9IG1hcCh2YWx1ZXMoZHVwbGljYXRlcyksIChjdXJyRHVwbGljYXRlcykgPT4ge1xuICAgICAgICBjb25zdCBmaXJzdFByb2QgPSBmaXJzdChjdXJyRHVwbGljYXRlcyk7XG4gICAgICAgIGNvbnN0IG1zZyA9IGVyck1zZ1Byb3ZpZGVyLmJ1aWxkRHVwbGljYXRlRm91bmRFcnJvcih0b3BMZXZlbFJ1bGUsIGN1cnJEdXBsaWNhdGVzKTtcbiAgICAgICAgY29uc3QgZHNsTmFtZSA9IGdldFByb2R1Y3Rpb25Ec2xOYW1lKGZpcnN0UHJvZCk7XG4gICAgICAgIGNvbnN0IGRlZkVycm9yID0ge1xuICAgICAgICAgICAgbWVzc2FnZTogbXNnLFxuICAgICAgICAgICAgdHlwZTogUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZS5EVVBMSUNBVEVfUFJPRFVDVElPTlMsXG4gICAgICAgICAgICBydWxlTmFtZTogdG9wTGV2ZWxSdWxlLm5hbWUsXG4gICAgICAgICAgICBkc2xOYW1lOiBkc2xOYW1lLFxuICAgICAgICAgICAgb2NjdXJyZW5jZTogZmlyc3RQcm9kLmlkeCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGFyYW0gPSBnZXRFeHRyYVByb2R1Y3Rpb25Bcmd1bWVudChmaXJzdFByb2QpO1xuICAgICAgICBpZiAocGFyYW0pIHtcbiAgICAgICAgICAgIGRlZkVycm9yLnBhcmFtZXRlciA9IHBhcmFtO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZFcnJvcjtcbiAgICB9KTtcbiAgICByZXR1cm4gZXJyb3JzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aWZ5UHJvZHVjdGlvbkZvckR1cGxpY2F0ZXMocHJvZCkge1xuICAgIHJldHVybiBgJHtnZXRQcm9kdWN0aW9uRHNsTmFtZShwcm9kKX1fI18ke3Byb2QuaWR4fV8jXyR7Z2V0RXh0cmFQcm9kdWN0aW9uQXJndW1lbnQocHJvZCl9YDtcbn1cbmZ1bmN0aW9uIGdldEV4dHJhUHJvZHVjdGlvbkFyZ3VtZW50KHByb2QpIHtcbiAgICBpZiAocHJvZCBpbnN0YW5jZW9mIFRlcm1pbmFsKSB7XG4gICAgICAgIHJldHVybiBwcm9kLnRlcm1pbmFsVHlwZS5uYW1lO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgTm9uVGVybWluYWwpIHtcbiAgICAgICAgcmV0dXJuIHByb2Qubm9uVGVybWluYWxOYW1lO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE9jY3VycmVuY2VWYWxpZGF0aW9uQ29sbGVjdG9yIGV4dGVuZHMgR0FzdFZpc2l0b3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmFsbFByb2R1Y3Rpb25zID0gW107XG4gICAgfVxuICAgIHZpc2l0Tm9uVGVybWluYWwoc3VicnVsZSkge1xuICAgICAgICB0aGlzLmFsbFByb2R1Y3Rpb25zLnB1c2goc3VicnVsZSk7XG4gICAgfVxuICAgIHZpc2l0T3B0aW9uKG9wdGlvbikge1xuICAgICAgICB0aGlzLmFsbFByb2R1Y3Rpb25zLnB1c2gob3B0aW9uKTtcbiAgICB9XG4gICAgdmlzaXRSZXBldGl0aW9uV2l0aFNlcGFyYXRvcihtYW55U2VwKSB7XG4gICAgICAgIHRoaXMuYWxsUHJvZHVjdGlvbnMucHVzaChtYW55U2VwKTtcbiAgICB9XG4gICAgdmlzaXRSZXBldGl0aW9uTWFuZGF0b3J5KGF0TGVhc3RPbmUpIHtcbiAgICAgICAgdGhpcy5hbGxQcm9kdWN0aW9ucy5wdXNoKGF0TGVhc3RPbmUpO1xuICAgIH1cbiAgICB2aXNpdFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yKGF0TGVhc3RPbmVTZXApIHtcbiAgICAgICAgdGhpcy5hbGxQcm9kdWN0aW9ucy5wdXNoKGF0TGVhc3RPbmVTZXApO1xuICAgIH1cbiAgICB2aXNpdFJlcGV0aXRpb24obWFueSkge1xuICAgICAgICB0aGlzLmFsbFByb2R1Y3Rpb25zLnB1c2gobWFueSk7XG4gICAgfVxuICAgIHZpc2l0QWx0ZXJuYXRpb24ob3IpIHtcbiAgICAgICAgdGhpcy5hbGxQcm9kdWN0aW9ucy5wdXNoKG9yKTtcbiAgICB9XG4gICAgdmlzaXRUZXJtaW5hbCh0ZXJtaW5hbCkge1xuICAgICAgICB0aGlzLmFsbFByb2R1Y3Rpb25zLnB1c2godGVybWluYWwpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVJ1bGVEb2VzTm90QWxyZWFkeUV4aXN0KHJ1bGUsIGFsbFJ1bGVzLCBjbGFzc05hbWUsIGVyck1zZ1Byb3ZpZGVyKSB7XG4gICAgY29uc3QgZXJyb3JzID0gW107XG4gICAgY29uc3Qgb2NjdXJyZW5jZXMgPSByZWR1Y2UoYWxsUnVsZXMsIChyZXN1bHQsIGN1clJ1bGUpID0+IHtcbiAgICAgICAgaWYgKGN1clJ1bGUubmFtZSA9PT0gcnVsZS5uYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0ICsgMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sIDApO1xuICAgIGlmIChvY2N1cnJlbmNlcyA+IDEpIHtcbiAgICAgICAgY29uc3QgZXJyTXNnID0gZXJyTXNnUHJvdmlkZXIuYnVpbGREdXBsaWNhdGVSdWxlTmFtZUVycm9yKHtcbiAgICAgICAgICAgIHRvcExldmVsUnVsZTogcnVsZSxcbiAgICAgICAgICAgIGdyYW1tYXJOYW1lOiBjbGFzc05hbWUsXG4gICAgICAgIH0pO1xuICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJNc2csXG4gICAgICAgICAgICB0eXBlOiBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlLkRVUExJQ0FURV9SVUxFX05BTUUsXG4gICAgICAgICAgICBydWxlTmFtZTogcnVsZS5uYW1lLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbi8vIFRPRE86IGlzIHRoZXJlIGFueXdheSB0byBnZXQgb25seSB0aGUgcnVsZSBuYW1lcyBvZiBydWxlcyBpbmhlcml0ZWQgZnJvbSB0aGUgc3VwZXIgZ3JhbW1hcnM/XG4vLyBUaGlzIGlzIG5vdCBwYXJ0IG9mIHRoZSBJR3JhbW1hckVycm9yUHJvdmlkZXIgYmVjYXVzZSB0aGUgdmFsaWRhdGlvbiBjYW5ub3QgYmUgcGVyZm9ybWVkIG9uXG4vLyBUaGUgZ3JhbW1hciBzdHJ1Y3R1cmUsIG9ubHkgYXQgcnVudGltZS5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVJ1bGVJc092ZXJyaWRkZW4ocnVsZU5hbWUsIGRlZmluZWRSdWxlc05hbWVzLCBjbGFzc05hbWUpIHtcbiAgICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgICBsZXQgZXJyTXNnO1xuICAgIGlmICghaW5jbHVkZXMoZGVmaW5lZFJ1bGVzTmFtZXMsIHJ1bGVOYW1lKSkge1xuICAgICAgICBlcnJNc2cgPVxuICAgICAgICAgICAgYEludmFsaWQgcnVsZSBvdmVycmlkZSwgcnVsZTogLT4ke3J1bGVOYW1lfTwtIGNhbm5vdCBiZSBvdmVycmlkZGVuIGluIHRoZSBncmFtbWFyOiAtPiR7Y2xhc3NOYW1lfTwtYCArXG4gICAgICAgICAgICAgICAgYGFzIGl0IGlzIG5vdCBkZWZpbmVkIGluIGFueSBvZiB0aGUgc3VwZXIgZ3JhbW1hcnMgYDtcbiAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgbWVzc2FnZTogZXJyTXNnLFxuICAgICAgICAgICAgdHlwZTogUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZS5JTlZBTElEX1JVTEVfT1ZFUlJJREUsXG4gICAgICAgICAgICBydWxlTmFtZTogcnVsZU5hbWUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZXJyb3JzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlTm9MZWZ0UmVjdXJzaW9uKHRvcFJ1bGUsIGN1cnJSdWxlLCBlcnJNc2dQcm92aWRlciwgcGF0aCA9IFtdKSB7XG4gICAgY29uc3QgZXJyb3JzID0gW107XG4gICAgY29uc3QgbmV4dE5vblRlcm1pbmFscyA9IGdldEZpcnN0Tm9uZVRlcm1pbmFsKGN1cnJSdWxlLmRlZmluaXRpb24pO1xuICAgIGlmIChpc0VtcHR5KG5leHROb25UZXJtaW5hbHMpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHJ1bGVOYW1lID0gdG9wUnVsZS5uYW1lO1xuICAgICAgICBjb25zdCBmb3VuZExlZnRSZWN1cnNpb24gPSBpbmNsdWRlcyhuZXh0Tm9uVGVybWluYWxzLCB0b3BSdWxlKTtcbiAgICAgICAgaWYgKGZvdW5kTGVmdFJlY3Vyc2lvbikge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVyck1zZ1Byb3ZpZGVyLmJ1aWxkTGVmdFJlY3Vyc2lvbkVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgdG9wTGV2ZWxSdWxlOiB0b3BSdWxlLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0UmVjdXJzaW9uUGF0aDogcGF0aCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB0eXBlOiBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlLkxFRlRfUkVDVVJTSU9OLFxuICAgICAgICAgICAgICAgIHJ1bGVOYW1lOiBydWxlTmFtZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHdlIGFyZSBvbmx5IGxvb2tpbmcgZm9yIGN5Y2xpYyBwYXRocyBsZWFkaW5nIGJhY2sgdG8gdGhlIHNwZWNpZmljIHRvcFJ1bGVcbiAgICAgICAgLy8gb3RoZXIgY3ljbGljIHBhdGhzIGFyZSBpZ25vcmVkLCB3ZSBzdGlsbCBuZWVkIHRoaXMgZGlmZmVyZW5jZSB0byBhdm9pZCBpbmZpbml0ZSBsb29wcy4uLlxuICAgICAgICBjb25zdCB2YWxpZE5leHRTdGVwcyA9IGRpZmZlcmVuY2UobmV4dE5vblRlcm1pbmFscywgcGF0aC5jb25jYXQoW3RvcFJ1bGVdKSk7XG4gICAgICAgIGNvbnN0IGVycm9yc0Zyb21OZXh0U3RlcHMgPSBmbGF0TWFwKHZhbGlkTmV4dFN0ZXBzLCAoY3VyclJlZlJ1bGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1BhdGggPSBjbG9uZShwYXRoKTtcbiAgICAgICAgICAgIG5ld1BhdGgucHVzaChjdXJyUmVmUnVsZSk7XG4gICAgICAgICAgICByZXR1cm4gdmFsaWRhdGVOb0xlZnRSZWN1cnNpb24odG9wUnVsZSwgY3VyclJlZlJ1bGUsIGVyck1zZ1Byb3ZpZGVyLCBuZXdQYXRoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBlcnJvcnMuY29uY2F0KGVycm9yc0Zyb21OZXh0U3RlcHMpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaXJzdE5vbmVUZXJtaW5hbChkZWZpbml0aW9uKSB7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIGlmIChpc0VtcHR5KGRlZmluaXRpb24pKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGNvbnN0IGZpcnN0UHJvZCA9IGZpcnN0KGRlZmluaXRpb24pO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKGZpcnN0UHJvZCBpbnN0YW5jZW9mIE5vblRlcm1pbmFsKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGZpcnN0UHJvZC5yZWZlcmVuY2VkUnVsZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGZpcnN0UHJvZCBpbnN0YW5jZW9mIEFsdGVybmF0aXZlR0FTVCB8fFxuICAgICAgICBmaXJzdFByb2QgaW5zdGFuY2VvZiBPcHRpb24gfHxcbiAgICAgICAgZmlyc3RQcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbk1hbmRhdG9yeSB8fFxuICAgICAgICBmaXJzdFByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciB8fFxuICAgICAgICBmaXJzdFByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uV2l0aFNlcGFyYXRvciB8fFxuICAgICAgICBmaXJzdFByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoZ2V0Rmlyc3ROb25lVGVybWluYWwoZmlyc3RQcm9kLmRlZmluaXRpb24pKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZmlyc3RQcm9kIGluc3RhbmNlb2YgQWx0ZXJuYXRpb24pIHtcbiAgICAgICAgLy8gZWFjaCBzdWIgZGVmaW5pdGlvbiBpbiBhbHRlcm5hdGlvbiBpcyBhIEZMQVRcbiAgICAgICAgcmVzdWx0ID0gZmxhdHRlbihtYXAoZmlyc3RQcm9kLmRlZmluaXRpb24sIChjdXJyU3ViRGVmKSA9PiBnZXRGaXJzdE5vbmVUZXJtaW5hbChjdXJyU3ViRGVmLmRlZmluaXRpb24pKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGZpcnN0UHJvZCBpbnN0YW5jZW9mIFRlcm1pbmFsKSB7XG4gICAgICAgIC8vIG5vdGhpbmcgdG8gc2VlLCBtb3ZlIGFsb25nXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgIH1cbiAgICBjb25zdCBpc0ZpcnN0T3B0aW9uYWwgPSBpc09wdGlvbmFsUHJvZChmaXJzdFByb2QpO1xuICAgIGNvbnN0IGhhc01vcmUgPSBkZWZpbml0aW9uLmxlbmd0aCA+IDE7XG4gICAgaWYgKGlzRmlyc3RPcHRpb25hbCAmJiBoYXNNb3JlKSB7XG4gICAgICAgIGNvbnN0IHJlc3QgPSBkcm9wKGRlZmluaXRpb24pO1xuICAgICAgICByZXR1cm4gcmVzdWx0LmNvbmNhdChnZXRGaXJzdE5vbmVUZXJtaW5hbChyZXN0KSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbmNsYXNzIE9yQ29sbGVjdG9yIGV4dGVuZHMgR0FzdFZpc2l0b3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmFsdGVybmF0aW9ucyA9IFtdO1xuICAgIH1cbiAgICB2aXNpdEFsdGVybmF0aW9uKG5vZGUpIHtcbiAgICAgICAgdGhpcy5hbHRlcm5hdGlvbnMucHVzaChub2RlKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVFbXB0eU9yQWx0ZXJuYXRpdmUodG9wTGV2ZWxSdWxlLCBlcnJNc2dQcm92aWRlcikge1xuICAgIGNvbnN0IG9yQ29sbGVjdG9yID0gbmV3IE9yQ29sbGVjdG9yKCk7XG4gICAgdG9wTGV2ZWxSdWxlLmFjY2VwdChvckNvbGxlY3Rvcik7XG4gICAgY29uc3Qgb3JzID0gb3JDb2xsZWN0b3IuYWx0ZXJuYXRpb25zO1xuICAgIGNvbnN0IGVycm9ycyA9IGZsYXRNYXAob3JzLCAoY3Vyck9yKSA9PiB7XG4gICAgICAgIGNvbnN0IGV4Y2VwdExhc3QgPSBkcm9wUmlnaHQoY3Vyck9yLmRlZmluaXRpb24pO1xuICAgICAgICByZXR1cm4gZmxhdE1hcChleGNlcHRMYXN0LCAoY3VyckFsdGVybmF0aXZlLCBjdXJyQWx0SWR4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwb3NzaWJsZUZpcnN0SW5BbHQgPSBuZXh0UG9zc2libGVUb2tlbnNBZnRlcihbY3VyckFsdGVybmF0aXZlXSwgW10sIHRva2VuU3RydWN0dXJlZE1hdGNoZXIsIDEpO1xuICAgICAgICAgICAgaWYgKGlzRW1wdHkocG9zc2libGVGaXJzdEluQWx0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVyck1zZ1Byb3ZpZGVyLmJ1aWxkRW1wdHlBbHRlcm5hdGlvbkVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BMZXZlbFJ1bGU6IHRvcExldmVsUnVsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdGlvbjogY3Vyck9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtcHR5Q2hvaWNlSWR4OiBjdXJyQWx0SWR4LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlLk5PTkVfTEFTVF9FTVBUWV9BTFQsXG4gICAgICAgICAgICAgICAgICAgICAgICBydWxlTmFtZTogdG9wTGV2ZWxSdWxlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBvY2N1cnJlbmNlOiBjdXJyT3IuaWR4LFxuICAgICAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRpdmU6IGN1cnJBbHRJZHggKyAxLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVBbWJpZ3VvdXNBbHRlcm5hdGlvbkFsdGVybmF0aXZlcyh0b3BMZXZlbFJ1bGUsIGdsb2JhbE1heExvb2thaGVhZCwgZXJyTXNnUHJvdmlkZXIpIHtcbiAgICBjb25zdCBvckNvbGxlY3RvciA9IG5ldyBPckNvbGxlY3RvcigpO1xuICAgIHRvcExldmVsUnVsZS5hY2NlcHQob3JDb2xsZWN0b3IpO1xuICAgIGxldCBvcnMgPSBvckNvbGxlY3Rvci5hbHRlcm5hdGlvbnM7XG4gICAgLy8gTmV3IEhhbmRsaW5nIG9mIGlnbm9yaW5nIGFtYmlndWl0aWVzXG4gICAgLy8gLSBodHRwczovL2dpdGh1Yi5jb20vY2hldnJvdGFpbi9jaGV2cm90YWluL2lzc3Vlcy84NjlcbiAgICBvcnMgPSByZWplY3Qob3JzLCAoY3Vyck9yKSA9PiBjdXJyT3IuaWdub3JlQW1iaWd1aXRpZXMgPT09IHRydWUpO1xuICAgIGNvbnN0IGVycm9ycyA9IGZsYXRNYXAob3JzLCAoY3Vyck9yKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJPY2N1cnJlbmNlID0gY3Vyck9yLmlkeDtcbiAgICAgICAgY29uc3QgYWN0dWFsTWF4TG9va2FoZWFkID0gY3Vyck9yLm1heExvb2thaGVhZCB8fCBnbG9iYWxNYXhMb29rYWhlYWQ7XG4gICAgICAgIGNvbnN0IGFsdGVybmF0aXZlcyA9IGdldExvb2thaGVhZFBhdGhzRm9yT3IoY3Vyck9jY3VycmVuY2UsIHRvcExldmVsUnVsZSwgYWN0dWFsTWF4TG9va2FoZWFkLCBjdXJyT3IpO1xuICAgICAgICBjb25zdCBhbHRzQW1iaWd1aXR5RXJyb3JzID0gY2hlY2tBbHRlcm5hdGl2ZXNBbWJpZ3VpdGllcyhhbHRlcm5hdGl2ZXMsIGN1cnJPciwgdG9wTGV2ZWxSdWxlLCBlcnJNc2dQcm92aWRlcik7XG4gICAgICAgIGNvbnN0IGFsdHNQcmVmaXhBbWJpZ3VpdHlFcnJvcnMgPSBjaGVja1ByZWZpeEFsdGVybmF0aXZlc0FtYmlndWl0aWVzKGFsdGVybmF0aXZlcywgY3Vyck9yLCB0b3BMZXZlbFJ1bGUsIGVyck1zZ1Byb3ZpZGVyKTtcbiAgICAgICAgcmV0dXJuIGFsdHNBbWJpZ3VpdHlFcnJvcnMuY29uY2F0KGFsdHNQcmVmaXhBbWJpZ3VpdHlFcnJvcnMpO1xuICAgIH0pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG5leHBvcnQgY2xhc3MgUmVwZXRpdGlvbkNvbGxlY3RvciBleHRlbmRzIEdBc3RWaXNpdG9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5hbGxQcm9kdWN0aW9ucyA9IFtdO1xuICAgIH1cbiAgICB2aXNpdFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yKG1hbnlTZXApIHtcbiAgICAgICAgdGhpcy5hbGxQcm9kdWN0aW9ucy5wdXNoKG1hbnlTZXApO1xuICAgIH1cbiAgICB2aXNpdFJlcGV0aXRpb25NYW5kYXRvcnkoYXRMZWFzdE9uZSkge1xuICAgICAgICB0aGlzLmFsbFByb2R1Y3Rpb25zLnB1c2goYXRMZWFzdE9uZSk7XG4gICAgfVxuICAgIHZpc2l0UmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IoYXRMZWFzdE9uZVNlcCkge1xuICAgICAgICB0aGlzLmFsbFByb2R1Y3Rpb25zLnB1c2goYXRMZWFzdE9uZVNlcCk7XG4gICAgfVxuICAgIHZpc2l0UmVwZXRpdGlvbihtYW55KSB7XG4gICAgICAgIHRoaXMuYWxsUHJvZHVjdGlvbnMucHVzaChtYW55KTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVUb29NYW55QWx0cyh0b3BMZXZlbFJ1bGUsIGVyck1zZ1Byb3ZpZGVyKSB7XG4gICAgY29uc3Qgb3JDb2xsZWN0b3IgPSBuZXcgT3JDb2xsZWN0b3IoKTtcbiAgICB0b3BMZXZlbFJ1bGUuYWNjZXB0KG9yQ29sbGVjdG9yKTtcbiAgICBjb25zdCBvcnMgPSBvckNvbGxlY3Rvci5hbHRlcm5hdGlvbnM7XG4gICAgY29uc3QgZXJyb3JzID0gZmxhdE1hcChvcnMsIChjdXJyT3IpID0+IHtcbiAgICAgICAgaWYgKGN1cnJPci5kZWZpbml0aW9uLmxlbmd0aCA+IDI1NSkge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVyck1zZ1Byb3ZpZGVyLmJ1aWxkVG9vTWFueUFsdGVybmF0aXZlc0Vycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcExldmVsUnVsZTogdG9wTGV2ZWxSdWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRpb246IGN1cnJPcixcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuVE9PX01BTllfQUxUUyxcbiAgICAgICAgICAgICAgICAgICAgcnVsZU5hbWU6IHRvcExldmVsUnVsZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBvY2N1cnJlbmNlOiBjdXJyT3IuaWR4LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVNvbWVOb25FbXB0eUxvb2thaGVhZFBhdGgodG9wTGV2ZWxSdWxlcywgbWF4TG9va2FoZWFkLCBlcnJNc2dQcm92aWRlcikge1xuICAgIGNvbnN0IGVycm9ycyA9IFtdO1xuICAgIGZvckVhY2godG9wTGV2ZWxSdWxlcywgKGN1cnJUb3BSdWxlKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbGxlY3RvclZpc2l0b3IgPSBuZXcgUmVwZXRpdGlvbkNvbGxlY3RvcigpO1xuICAgICAgICBjdXJyVG9wUnVsZS5hY2NlcHQoY29sbGVjdG9yVmlzaXRvcik7XG4gICAgICAgIGNvbnN0IGFsbFJ1bGVQcm9kdWN0aW9ucyA9IGNvbGxlY3RvclZpc2l0b3IuYWxsUHJvZHVjdGlvbnM7XG4gICAgICAgIGZvckVhY2goYWxsUnVsZVByb2R1Y3Rpb25zLCAoY3VyclByb2QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByb2RUeXBlID0gZ2V0UHJvZFR5cGUoY3VyclByb2QpO1xuICAgICAgICAgICAgY29uc3QgYWN0dWFsTWF4TG9va2FoZWFkID0gY3VyclByb2QubWF4TG9va2FoZWFkIHx8IG1heExvb2thaGVhZDtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJPY2N1cnJlbmNlID0gY3VyclByb2QuaWR4O1xuICAgICAgICAgICAgY29uc3QgcGF0aHMgPSBnZXRMb29rYWhlYWRQYXRoc0Zvck9wdGlvbmFsUHJvZChjdXJyT2NjdXJyZW5jZSwgY3VyclRvcFJ1bGUsIHByb2RUeXBlLCBhY3R1YWxNYXhMb29rYWhlYWQpO1xuICAgICAgICAgICAgY29uc3QgcGF0aHNJbnNpZGVQcm9kdWN0aW9uID0gcGF0aHNbMF07XG4gICAgICAgICAgICBpZiAoaXNFbXB0eShmbGF0dGVuKHBhdGhzSW5zaWRlUHJvZHVjdGlvbikpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyTXNnID0gZXJyTXNnUHJvdmlkZXIuYnVpbGRFbXB0eVJlcGV0aXRpb25FcnJvcih7XG4gICAgICAgICAgICAgICAgICAgIHRvcExldmVsUnVsZTogY3VyclRvcFJ1bGUsXG4gICAgICAgICAgICAgICAgICAgIHJlcGV0aXRpb246IGN1cnJQcm9kLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyTXNnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlLk5PX05PTl9FTVBUWV9MT09LQUhFQUQsXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVOYW1lOiBjdXJyVG9wUnVsZS5uYW1lLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZXJyb3JzO1xufVxuZnVuY3Rpb24gY2hlY2tBbHRlcm5hdGl2ZXNBbWJpZ3VpdGllcyhhbHRlcm5hdGl2ZXMsIGFsdGVybmF0aW9uLCBydWxlLCBlcnJNc2dQcm92aWRlcikge1xuICAgIGNvbnN0IGZvdW5kQW1iaWd1b3VzUGF0aHMgPSBbXTtcbiAgICBjb25zdCBpZGVudGljYWxBbWJpZ3VpdGllcyA9IHJlZHVjZShhbHRlcm5hdGl2ZXMsIChyZXN1bHQsIGN1cnJBbHQsIGN1cnJBbHRJZHgpID0+IHtcbiAgICAgICAgLy8gaWdub3JlIChza2lwKSBhbWJpZ3VpdGllcyB3aXRoIHRoaXMgYWx0ZXJuYXRpdmVcbiAgICAgICAgaWYgKGFsdGVybmF0aW9uLmRlZmluaXRpb25bY3VyckFsdElkeF0uaWdub3JlQW1iaWd1aXRpZXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgZm9yRWFjaChjdXJyQWx0LCAoY3VyclBhdGgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFsdHNDdXJyUGF0aEFwcGVhcnNJbiA9IFtjdXJyQWx0SWR4XTtcbiAgICAgICAgICAgIGZvckVhY2goYWx0ZXJuYXRpdmVzLCAoY3Vyck90aGVyQWx0LCBjdXJyT3RoZXJBbHRJZHgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY3VyckFsdElkeCAhPT0gY3Vyck90aGVyQWx0SWR4ICYmXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5zUGF0aChjdXJyT3RoZXJBbHQsIGN1cnJQYXRoKSAmJlxuICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmUgKHNraXApIGFtYmlndWl0aWVzIHdpdGggdGhpcyBcIm90aGVyXCIgYWx0ZXJuYXRpdmVcbiAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRpb24uZGVmaW5pdGlvbltjdXJyT3RoZXJBbHRJZHhdLmlnbm9yZUFtYmlndWl0aWVzICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsdHNDdXJyUGF0aEFwcGVhcnNJbi5wdXNoKGN1cnJPdGhlckFsdElkeCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoYWx0c0N1cnJQYXRoQXBwZWFyc0luLmxlbmd0aCA+IDEgJiZcbiAgICAgICAgICAgICAgICAhY29udGFpbnNQYXRoKGZvdW5kQW1iaWd1b3VzUGF0aHMsIGN1cnJQYXRoKSkge1xuICAgICAgICAgICAgICAgIGZvdW5kQW1iaWd1b3VzUGF0aHMucHVzaChjdXJyUGF0aCk7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBhbHRzOiBhbHRzQ3VyclBhdGhBcHBlYXJzSW4sXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN1cnJQYXRoLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgY3VyckVycm9ycyA9IG1hcChpZGVudGljYWxBbWJpZ3VpdGllcywgKGN1cnJBbWJEZXNjcmlwdG9yKSA9PiB7XG4gICAgICAgIGNvbnN0IGFtYmdJbmRpY2VzID0gbWFwKGN1cnJBbWJEZXNjcmlwdG9yLmFsdHMsIChjdXJyQWx0SWR4KSA9PiBjdXJyQWx0SWR4ICsgMSk7XG4gICAgICAgIGNvbnN0IGN1cnJNZXNzYWdlID0gZXJyTXNnUHJvdmlkZXIuYnVpbGRBbHRlcm5hdGlvbkFtYmlndWl0eUVycm9yKHtcbiAgICAgICAgICAgIHRvcExldmVsUnVsZTogcnVsZSxcbiAgICAgICAgICAgIGFsdGVybmF0aW9uOiBhbHRlcm5hdGlvbixcbiAgICAgICAgICAgIGFtYmlndWl0eUluZGljZXM6IGFtYmdJbmRpY2VzLFxuICAgICAgICAgICAgcHJlZml4UGF0aDogY3VyckFtYkRlc2NyaXB0b3IucGF0aCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBjdXJyTWVzc2FnZSxcbiAgICAgICAgICAgIHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuQU1CSUdVT1VTX0FMVFMsXG4gICAgICAgICAgICBydWxlTmFtZTogcnVsZS5uYW1lLFxuICAgICAgICAgICAgb2NjdXJyZW5jZTogYWx0ZXJuYXRpb24uaWR4LFxuICAgICAgICAgICAgYWx0ZXJuYXRpdmVzOiBjdXJyQW1iRGVzY3JpcHRvci5hbHRzLFxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBjdXJyRXJyb3JzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrUHJlZml4QWx0ZXJuYXRpdmVzQW1iaWd1aXRpZXMoYWx0ZXJuYXRpdmVzLCBhbHRlcm5hdGlvbiwgcnVsZSwgZXJyTXNnUHJvdmlkZXIpIHtcbiAgICAvLyBmbGF0dGVuXG4gICAgY29uc3QgcGF0aHNBbmRJbmRpY2VzID0gcmVkdWNlKGFsdGVybmF0aXZlcywgKHJlc3VsdCwgY3VyckFsdCwgaWR4KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJQYXRoc0FuZElkeCA9IG1hcChjdXJyQWx0LCAoY3VyclBhdGgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7IGlkeDogaWR4LCBwYXRoOiBjdXJyUGF0aCB9O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5jb25jYXQoY3VyclBhdGhzQW5kSWR4KTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgZXJyb3JzID0gY29tcGFjdChmbGF0TWFwKHBhdGhzQW5kSW5kaWNlcywgKGN1cnJQYXRoQW5kSWR4KSA9PiB7XG4gICAgICAgIGNvbnN0IGFsdGVybmF0aXZlR2FzdCA9IGFsdGVybmF0aW9uLmRlZmluaXRpb25bY3VyclBhdGhBbmRJZHguaWR4XTtcbiAgICAgICAgLy8gaWdub3JlIChza2lwKSBhbWJpZ3VpdGllcyB3aXRoIHRoaXMgYWx0ZXJuYXRpdmVcbiAgICAgICAgaWYgKGFsdGVybmF0aXZlR2FzdC5pZ25vcmVBbWJpZ3VpdGllcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRhcmdldElkeCA9IGN1cnJQYXRoQW5kSWR4LmlkeDtcbiAgICAgICAgY29uc3QgdGFyZ2V0UGF0aCA9IGN1cnJQYXRoQW5kSWR4LnBhdGg7XG4gICAgICAgIGNvbnN0IHByZWZpeEFtYmlndWl0aWVzUGF0aHNBbmRJbmRpY2VzID0gZmlsdGVyKHBhdGhzQW5kSW5kaWNlcywgKHNlYXJjaFBhdGhBbmRJZHgpID0+IHtcbiAgICAgICAgICAgIC8vIHByZWZpeCBhbWJpZ3VpdHkgY2FuIG9ubHkgYmUgY3JlYXRlZCBmcm9tIGxvd2VyIGlkeCAoaGlnaGVyIHByaW9yaXR5KSBwYXRoXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgLy8gaWdub3JlIChza2lwKSBhbWJpZ3VpdGllcyB3aXRoIHRoaXMgXCJvdGhlclwiIGFsdGVybmF0aXZlXG4gICAgICAgICAgICBhbHRlcm5hdGlvbi5kZWZpbml0aW9uW3NlYXJjaFBhdGhBbmRJZHguaWR4XS5pZ25vcmVBbWJpZ3VpdGllcyAhPT1cbiAgICAgICAgICAgICAgICB0cnVlICYmXG4gICAgICAgICAgICAgICAgc2VhcmNoUGF0aEFuZElkeC5pZHggPCB0YXJnZXRJZHggJiZcbiAgICAgICAgICAgICAgICAvLyBjaGVja2luZyBmb3Igc3RyaWN0IHByZWZpeCBiZWNhdXNlIGlkZW50aWNhbCBsb29rYWhlYWRzXG4gICAgICAgICAgICAgICAgLy8gd2lsbCBiZSBiZSBkZXRlY3RlZCB1c2luZyBhIGRpZmZlcmVudCB2YWxpZGF0aW9uLlxuICAgICAgICAgICAgICAgIGlzU3RyaWN0UHJlZml4T2ZQYXRoKHNlYXJjaFBhdGhBbmRJZHgucGF0aCwgdGFyZ2V0UGF0aCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgY3VyclBhdGhQcmVmaXhFcnJvcnMgPSBtYXAocHJlZml4QW1iaWd1aXRpZXNQYXRoc0FuZEluZGljZXMsIChjdXJyQW1iUGF0aEFuZElkeCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYW1iZ0luZGljZXMgPSBbY3VyckFtYlBhdGhBbmRJZHguaWR4ICsgMSwgdGFyZ2V0SWR4ICsgMV07XG4gICAgICAgICAgICBjb25zdCBvY2N1cnJlbmNlID0gYWx0ZXJuYXRpb24uaWR4ID09PSAwID8gXCJcIiA6IGFsdGVybmF0aW9uLmlkeDtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJNc2dQcm92aWRlci5idWlsZEFsdGVybmF0aW9uUHJlZml4QW1iaWd1aXR5RXJyb3Ioe1xuICAgICAgICAgICAgICAgIHRvcExldmVsUnVsZTogcnVsZSxcbiAgICAgICAgICAgICAgICBhbHRlcm5hdGlvbjogYWx0ZXJuYXRpb24sXG4gICAgICAgICAgICAgICAgYW1iaWd1aXR5SW5kaWNlczogYW1iZ0luZGljZXMsXG4gICAgICAgICAgICAgICAgcHJlZml4UGF0aDogY3VyckFtYlBhdGhBbmRJZHgucGF0aCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgICAgIHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuQU1CSUdVT1VTX1BSRUZJWF9BTFRTLFxuICAgICAgICAgICAgICAgIHJ1bGVOYW1lOiBydWxlLm5hbWUsXG4gICAgICAgICAgICAgICAgb2NjdXJyZW5jZTogb2NjdXJyZW5jZSxcbiAgICAgICAgICAgICAgICBhbHRlcm5hdGl2ZXM6IGFtYmdJbmRpY2VzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjdXJyUGF0aFByZWZpeEVycm9ycztcbiAgICB9KSk7XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbmZ1bmN0aW9uIGNoZWNrVGVybWluYWxBbmROb25lVGVybWluYWxzTmFtZVNwYWNlKHRvcExldmVscywgdG9rZW5UeXBlcywgZXJyTXNnUHJvdmlkZXIpIHtcbiAgICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgICBjb25zdCB0b2tlbk5hbWVzID0gbWFwKHRva2VuVHlwZXMsIChjdXJyVG9rZW4pID0+IGN1cnJUb2tlbi5uYW1lKTtcbiAgICBmb3JFYWNoKHRvcExldmVscywgKGN1cnJSdWxlKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJSdWxlTmFtZSA9IGN1cnJSdWxlLm5hbWU7XG4gICAgICAgIGlmIChpbmNsdWRlcyh0b2tlbk5hbWVzLCBjdXJyUnVsZU5hbWUpKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJNc2cgPSBlcnJNc2dQcm92aWRlci5idWlsZE5hbWVzcGFjZUNvbmZsaWN0RXJyb3IoY3VyclJ1bGUpO1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVyck1zZyxcbiAgICAgICAgICAgICAgICB0eXBlOiBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlLkNPTkZMSUNUX1RPS0VOU19SVUxFU19OQU1FU1BBQ0UsXG4gICAgICAgICAgICAgICAgcnVsZU5hbWU6IGN1cnJSdWxlTmFtZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoZWNrcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/checks.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/first.js":
/*!****************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/parse/grammar/first.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   first: () => (/* binding */ first),\n/* harmony export */   firstForBranching: () => (/* binding */ firstForBranching),\n/* harmony export */   firstForSequence: () => (/* binding */ firstForSequence),\n/* harmony export */   firstForTerminal: () => (/* binding */ firstForTerminal)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/uniq.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/map.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/flatten.js\");\n/* harmony import */ var _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @chevrotain/gast */ \"(ssr)/./node_modules/@chevrotain/gast/lib/src/api.js\");\n\n\nfunction first(prod) {\n    /* istanbul ignore else */\n    if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.NonTerminal) {\n        // this could in theory cause infinite loops if\n        // (1) prod A refs prod B.\n        // (2) prod B refs prod A\n        // (3) AB can match the empty set\n        // in other words a cycle where everything is optional so the first will keep\n        // looking ahead for the next optional part and will never exit\n        // currently there is no safeguard for this unique edge case because\n        // (1) not sure a grammar in which this can happen is useful for anything (productive)\n        return first(prod.referencedRule);\n    }\n    else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Terminal) {\n        return firstForTerminal(prod);\n    }\n    else if ((0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.isSequenceProd)(prod)) {\n        return firstForSequence(prod);\n    }\n    else if ((0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.isBranchingProd)(prod)) {\n        return firstForBranching(prod);\n    }\n    else {\n        throw Error(\"non exhaustive match\");\n    }\n}\nfunction firstForSequence(prod) {\n    let firstSet = [];\n    const seq = prod.definition;\n    let nextSubProdIdx = 0;\n    let hasInnerProdsRemaining = seq.length > nextSubProdIdx;\n    let currSubProd;\n    // so we enter the loop at least once (if the definition is not empty\n    let isLastInnerProdOptional = true;\n    // scan a sequence until it's end or until we have found a NONE optional production in it\n    while (hasInnerProdsRemaining && isLastInnerProdOptional) {\n        currSubProd = seq[nextSubProdIdx];\n        isLastInnerProdOptional = (0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.isOptionalProd)(currSubProd);\n        firstSet = firstSet.concat(first(currSubProd));\n        nextSubProdIdx = nextSubProdIdx + 1;\n        hasInnerProdsRemaining = seq.length > nextSubProdIdx;\n    }\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(firstSet);\n}\nfunction firstForBranching(prod) {\n    const allAlternativesFirsts = (0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(prod.definition, (innerProd) => {\n        return first(innerProd);\n    });\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(allAlternativesFirsts));\n}\nfunction firstForTerminal(terminal) {\n    return [terminal.terminalType];\n}\n//# sourceMappingURL=first.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL2dyYW1tYXIvZmlyc3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBK0M7QUFDNEQ7QUFDcEc7QUFDUDtBQUNBLHdCQUF3Qix5REFBVztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixzREFBUTtBQUNyQztBQUNBO0FBQ0EsYUFBYSxnRUFBYztBQUMzQjtBQUNBO0FBQ0EsYUFBYSxpRUFBZTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGdFQUFjO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxxREFBSTtBQUNmO0FBQ087QUFDUCxrQ0FBa0MscURBQUc7QUFDckM7QUFDQSxLQUFLO0FBQ0wsV0FBVyxxREFBSSxDQUFDLHFEQUFPO0FBQ3ZCO0FBQ087QUFDUDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXJtYWlkLWRpYWdyYW0tZWRpdG9yLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy9wYXJzZS9ncmFtbWFyL2ZpcnN0LmpzPzU1YjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZmxhdHRlbiwgbWFwLCB1bmlxIH0gZnJvbSBcImxvZGFzaC1lc1wiO1xuaW1wb3J0IHsgaXNCcmFuY2hpbmdQcm9kLCBpc09wdGlvbmFsUHJvZCwgaXNTZXF1ZW5jZVByb2QsIE5vblRlcm1pbmFsLCBUZXJtaW5hbCwgfSBmcm9tIFwiQGNoZXZyb3RhaW4vZ2FzdFwiO1xuZXhwb3J0IGZ1bmN0aW9uIGZpcnN0KHByb2QpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChwcm9kIGluc3RhbmNlb2YgTm9uVGVybWluYWwpIHtcbiAgICAgICAgLy8gdGhpcyBjb3VsZCBpbiB0aGVvcnkgY2F1c2UgaW5maW5pdGUgbG9vcHMgaWZcbiAgICAgICAgLy8gKDEpIHByb2QgQSByZWZzIHByb2QgQi5cbiAgICAgICAgLy8gKDIpIHByb2QgQiByZWZzIHByb2QgQVxuICAgICAgICAvLyAoMykgQUIgY2FuIG1hdGNoIHRoZSBlbXB0eSBzZXRcbiAgICAgICAgLy8gaW4gb3RoZXIgd29yZHMgYSBjeWNsZSB3aGVyZSBldmVyeXRoaW5nIGlzIG9wdGlvbmFsIHNvIHRoZSBmaXJzdCB3aWxsIGtlZXBcbiAgICAgICAgLy8gbG9va2luZyBhaGVhZCBmb3IgdGhlIG5leHQgb3B0aW9uYWwgcGFydCBhbmQgd2lsbCBuZXZlciBleGl0XG4gICAgICAgIC8vIGN1cnJlbnRseSB0aGVyZSBpcyBubyBzYWZlZ3VhcmQgZm9yIHRoaXMgdW5pcXVlIGVkZ2UgY2FzZSBiZWNhdXNlXG4gICAgICAgIC8vICgxKSBub3Qgc3VyZSBhIGdyYW1tYXIgaW4gd2hpY2ggdGhpcyBjYW4gaGFwcGVuIGlzIHVzZWZ1bCBmb3IgYW55dGhpbmcgKHByb2R1Y3RpdmUpXG4gICAgICAgIHJldHVybiBmaXJzdChwcm9kLnJlZmVyZW5jZWRSdWxlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFRlcm1pbmFsKSB7XG4gICAgICAgIHJldHVybiBmaXJzdEZvclRlcm1pbmFsKHByb2QpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1NlcXVlbmNlUHJvZChwcm9kKSkge1xuICAgICAgICByZXR1cm4gZmlyc3RGb3JTZXF1ZW5jZShwcm9kKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNCcmFuY2hpbmdQcm9kKHByb2QpKSB7XG4gICAgICAgIHJldHVybiBmaXJzdEZvckJyYW5jaGluZyhwcm9kKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKFwibm9uIGV4aGF1c3RpdmUgbWF0Y2hcIik7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGZpcnN0Rm9yU2VxdWVuY2UocHJvZCkge1xuICAgIGxldCBmaXJzdFNldCA9IFtdO1xuICAgIGNvbnN0IHNlcSA9IHByb2QuZGVmaW5pdGlvbjtcbiAgICBsZXQgbmV4dFN1YlByb2RJZHggPSAwO1xuICAgIGxldCBoYXNJbm5lclByb2RzUmVtYWluaW5nID0gc2VxLmxlbmd0aCA+IG5leHRTdWJQcm9kSWR4O1xuICAgIGxldCBjdXJyU3ViUHJvZDtcbiAgICAvLyBzbyB3ZSBlbnRlciB0aGUgbG9vcCBhdCBsZWFzdCBvbmNlIChpZiB0aGUgZGVmaW5pdGlvbiBpcyBub3QgZW1wdHlcbiAgICBsZXQgaXNMYXN0SW5uZXJQcm9kT3B0aW9uYWwgPSB0cnVlO1xuICAgIC8vIHNjYW4gYSBzZXF1ZW5jZSB1bnRpbCBpdCdzIGVuZCBvciB1bnRpbCB3ZSBoYXZlIGZvdW5kIGEgTk9ORSBvcHRpb25hbCBwcm9kdWN0aW9uIGluIGl0XG4gICAgd2hpbGUgKGhhc0lubmVyUHJvZHNSZW1haW5pbmcgJiYgaXNMYXN0SW5uZXJQcm9kT3B0aW9uYWwpIHtcbiAgICAgICAgY3VyclN1YlByb2QgPSBzZXFbbmV4dFN1YlByb2RJZHhdO1xuICAgICAgICBpc0xhc3RJbm5lclByb2RPcHRpb25hbCA9IGlzT3B0aW9uYWxQcm9kKGN1cnJTdWJQcm9kKTtcbiAgICAgICAgZmlyc3RTZXQgPSBmaXJzdFNldC5jb25jYXQoZmlyc3QoY3VyclN1YlByb2QpKTtcbiAgICAgICAgbmV4dFN1YlByb2RJZHggPSBuZXh0U3ViUHJvZElkeCArIDE7XG4gICAgICAgIGhhc0lubmVyUHJvZHNSZW1haW5pbmcgPSBzZXEubGVuZ3RoID4gbmV4dFN1YlByb2RJZHg7XG4gICAgfVxuICAgIHJldHVybiB1bmlxKGZpcnN0U2V0KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaXJzdEZvckJyYW5jaGluZyhwcm9kKSB7XG4gICAgY29uc3QgYWxsQWx0ZXJuYXRpdmVzRmlyc3RzID0gbWFwKHByb2QuZGVmaW5pdGlvbiwgKGlubmVyUHJvZCkgPT4ge1xuICAgICAgICByZXR1cm4gZmlyc3QoaW5uZXJQcm9kKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdW5pcShmbGF0dGVuKGFsbEFsdGVybmF0aXZlc0ZpcnN0cykpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpcnN0Rm9yVGVybWluYWwodGVybWluYWwpIHtcbiAgICByZXR1cm4gW3Rlcm1pbmFsLnRlcm1pbmFsVHlwZV07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maXJzdC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/first.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/follow.js":
/*!*****************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/parse/grammar/follow.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ResyncFollowsWalker: () => (/* binding */ ResyncFollowsWalker),\n/* harmony export */   buildBetweenProdsFollowPrefix: () => (/* binding */ buildBetweenProdsFollowPrefix),\n/* harmony export */   buildInProdFollowPrefix: () => (/* binding */ buildInProdFollowPrefix),\n/* harmony export */   computeAllProdsFollows: () => (/* binding */ computeAllProdsFollows)\n/* harmony export */ });\n/* harmony import */ var _rest_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rest.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/rest.js\");\n/* harmony import */ var _first_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./first.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/first.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/forEach.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/assign.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/constants.js\");\n/* harmony import */ var _chevrotain_gast__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chevrotain/gast */ \"(ssr)/./node_modules/@chevrotain/gast/lib/src/api.js\");\n\n\n\n\n\n// This ResyncFollowsWalker computes all of the follows required for RESYNC\n// (skipping reference production).\nclass ResyncFollowsWalker extends _rest_js__WEBPACK_IMPORTED_MODULE_0__.RestWalker {\n    constructor(topProd) {\n        super();\n        this.topProd = topProd;\n        this.follows = {};\n    }\n    startWalking() {\n        this.walk(this.topProd);\n        return this.follows;\n    }\n    walkTerminal(terminal, currRest, prevRest) {\n        // do nothing! just like in the public sector after 13:00\n    }\n    walkProdRef(refProd, currRest, prevRest) {\n        const followName = buildBetweenProdsFollowPrefix(refProd.referencedRule, refProd.idx) +\n            this.topProd.name;\n        const fullRest = currRest.concat(prevRest);\n        const restProd = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_3__.Alternative({ definition: fullRest });\n        const t_in_topProd_follows = (0,_first_js__WEBPACK_IMPORTED_MODULE_1__.first)(restProd);\n        this.follows[followName] = t_in_topProd_follows;\n    }\n}\nfunction computeAllProdsFollows(topProductions) {\n    const reSyncFollows = {};\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(topProductions, (topProd) => {\n        const currRefsFollow = new ResyncFollowsWalker(topProd).startWalking();\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(reSyncFollows, currRefsFollow);\n    });\n    return reSyncFollows;\n}\nfunction buildBetweenProdsFollowPrefix(inner, occurenceInParent) {\n    return inner.name + occurenceInParent + _constants_js__WEBPACK_IMPORTED_MODULE_2__.IN;\n}\nfunction buildInProdFollowPrefix(terminal) {\n    const terminalName = terminal.terminalType.name;\n    return terminalName + terminal.idx + _constants_js__WEBPACK_IMPORTED_MODULE_2__.IN;\n}\n//# sourceMappingURL=follow.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL2dyYW1tYXIvZm9sbG93LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBdUM7QUFDSjtBQUNTO0FBQ1A7QUFDVTtBQUMvQztBQUNBO0FBQ08sa0NBQWtDLGdEQUFVO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHlEQUFXLEdBQUcsc0JBQXNCO0FBQ2pFLHFDQUFxQyxnREFBSztBQUMxQztBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsSUFBSSxxREFBTztBQUNYO0FBQ0EsUUFBUSxxREFBTTtBQUNkLEtBQUs7QUFDTDtBQUNBO0FBQ087QUFDUCw0Q0FBNEMsNkNBQUU7QUFDOUM7QUFDTztBQUNQO0FBQ0EseUNBQXlDLDZDQUFFO0FBQzNDO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXJtYWlkLWRpYWdyYW0tZWRpdG9yLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy9wYXJzZS9ncmFtbWFyL2ZvbGxvdy5qcz9kM2YwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlc3RXYWxrZXIgfSBmcm9tIFwiLi9yZXN0LmpzXCI7XG5pbXBvcnQgeyBmaXJzdCB9IGZyb20gXCIuL2ZpcnN0LmpzXCI7XG5pbXBvcnQgeyBhc3NpZ24sIGZvckVhY2ggfSBmcm9tIFwibG9kYXNoLWVzXCI7XG5pbXBvcnQgeyBJTiB9IGZyb20gXCIuLi9jb25zdGFudHMuanNcIjtcbmltcG9ydCB7IEFsdGVybmF0aXZlIH0gZnJvbSBcIkBjaGV2cm90YWluL2dhc3RcIjtcbi8vIFRoaXMgUmVzeW5jRm9sbG93c1dhbGtlciBjb21wdXRlcyBhbGwgb2YgdGhlIGZvbGxvd3MgcmVxdWlyZWQgZm9yIFJFU1lOQ1xuLy8gKHNraXBwaW5nIHJlZmVyZW5jZSBwcm9kdWN0aW9uKS5cbmV4cG9ydCBjbGFzcyBSZXN5bmNGb2xsb3dzV2Fsa2VyIGV4dGVuZHMgUmVzdFdhbGtlciB7XG4gICAgY29uc3RydWN0b3IodG9wUHJvZCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnRvcFByb2QgPSB0b3BQcm9kO1xuICAgICAgICB0aGlzLmZvbGxvd3MgPSB7fTtcbiAgICB9XG4gICAgc3RhcnRXYWxraW5nKCkge1xuICAgICAgICB0aGlzLndhbGsodGhpcy50b3BQcm9kKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9sbG93cztcbiAgICB9XG4gICAgd2Fsa1Rlcm1pbmFsKHRlcm1pbmFsLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgLy8gZG8gbm90aGluZyEganVzdCBsaWtlIGluIHRoZSBwdWJsaWMgc2VjdG9yIGFmdGVyIDEzOjAwXG4gICAgfVxuICAgIHdhbGtQcm9kUmVmKHJlZlByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICBjb25zdCBmb2xsb3dOYW1lID0gYnVpbGRCZXR3ZWVuUHJvZHNGb2xsb3dQcmVmaXgocmVmUHJvZC5yZWZlcmVuY2VkUnVsZSwgcmVmUHJvZC5pZHgpICtcbiAgICAgICAgICAgIHRoaXMudG9wUHJvZC5uYW1lO1xuICAgICAgICBjb25zdCBmdWxsUmVzdCA9IGN1cnJSZXN0LmNvbmNhdChwcmV2UmVzdCk7XG4gICAgICAgIGNvbnN0IHJlc3RQcm9kID0gbmV3IEFsdGVybmF0aXZlKHsgZGVmaW5pdGlvbjogZnVsbFJlc3QgfSk7XG4gICAgICAgIGNvbnN0IHRfaW5fdG9wUHJvZF9mb2xsb3dzID0gZmlyc3QocmVzdFByb2QpO1xuICAgICAgICB0aGlzLmZvbGxvd3NbZm9sbG93TmFtZV0gPSB0X2luX3RvcFByb2RfZm9sbG93cztcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZUFsbFByb2RzRm9sbG93cyh0b3BQcm9kdWN0aW9ucykge1xuICAgIGNvbnN0IHJlU3luY0ZvbGxvd3MgPSB7fTtcbiAgICBmb3JFYWNoKHRvcFByb2R1Y3Rpb25zLCAodG9wUHJvZCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyUmVmc0ZvbGxvdyA9IG5ldyBSZXN5bmNGb2xsb3dzV2Fsa2VyKHRvcFByb2QpLnN0YXJ0V2Fsa2luZygpO1xuICAgICAgICBhc3NpZ24ocmVTeW5jRm9sbG93cywgY3VyclJlZnNGb2xsb3cpO1xuICAgIH0pO1xuICAgIHJldHVybiByZVN5bmNGb2xsb3dzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkQmV0d2VlblByb2RzRm9sbG93UHJlZml4KGlubmVyLCBvY2N1cmVuY2VJblBhcmVudCkge1xuICAgIHJldHVybiBpbm5lci5uYW1lICsgb2NjdXJlbmNlSW5QYXJlbnQgKyBJTjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBidWlsZEluUHJvZEZvbGxvd1ByZWZpeCh0ZXJtaW5hbCkge1xuICAgIGNvbnN0IHRlcm1pbmFsTmFtZSA9IHRlcm1pbmFsLnRlcm1pbmFsVHlwZS5uYW1lO1xuICAgIHJldHVybiB0ZXJtaW5hbE5hbWUgKyB0ZXJtaW5hbC5pZHggKyBJTjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZvbGxvdy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/follow.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/gast/gast_resolver_public.js":
/*!************************************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/parse/grammar/gast/gast_resolver_public.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   resolveGrammar: () => (/* binding */ resolveGrammar),\n/* harmony export */   validateGrammar: () => (/* binding */ validateGrammar)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/defaults.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/forEach.js\");\n/* harmony import */ var _resolver_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../resolver.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/resolver.js\");\n/* harmony import */ var _checks_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../checks.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/checks.js\");\n/* harmony import */ var _errors_public_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../errors_public.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/errors_public.js\");\n\n\n\n\nfunction resolveGrammar(options) {\n    const actualOptions = (0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(options, {\n        errMsgProvider: _errors_public_js__WEBPACK_IMPORTED_MODULE_2__.defaultGrammarResolverErrorProvider,\n    });\n    const topRulesTable = {};\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(options.rules, (rule) => {\n        topRulesTable[rule.name] = rule;\n    });\n    return (0,_resolver_js__WEBPACK_IMPORTED_MODULE_0__.resolveGrammar)(topRulesTable, actualOptions.errMsgProvider);\n}\nfunction validateGrammar(options) {\n    options = (0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(options, {\n        errMsgProvider: _errors_public_js__WEBPACK_IMPORTED_MODULE_2__.defaultGrammarValidatorErrorProvider,\n    });\n    return (0,_checks_js__WEBPACK_IMPORTED_MODULE_1__.validateGrammar)(options.rules, options.tokenTypes, options.errMsgProvider, options.grammarName);\n}\n//# sourceMappingURL=gast_resolver_public.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL2dyYW1tYXIvZ2FzdC9nYXN0X3Jlc29sdmVyX3B1YmxpYy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQThDO0FBQ3VCO0FBQ0E7QUFDK0M7QUFDN0c7QUFDUCwwQkFBMEIscURBQVE7QUFDbEMsd0JBQXdCLGtGQUFtQztBQUMzRCxLQUFLO0FBQ0w7QUFDQSxJQUFJLHFEQUFPO0FBQ1g7QUFDQSxLQUFLO0FBQ0wsV0FBVyw0REFBaUI7QUFDNUI7QUFDTztBQUNQLGNBQWMscURBQVE7QUFDdEIsd0JBQXdCLG1GQUFvQztBQUM1RCxLQUFLO0FBQ0wsV0FBVywyREFBa0I7QUFDN0I7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL21lcm1haWQtZGlhZ3JhbS1lZGl0b3IvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL2dyYW1tYXIvZ2FzdC9nYXN0X3Jlc29sdmVyX3B1YmxpYy5qcz85YTM1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlZmF1bHRzLCBmb3JFYWNoIH0gZnJvbSBcImxvZGFzaC1lc1wiO1xuaW1wb3J0IHsgcmVzb2x2ZUdyYW1tYXIgYXMgb3JnUmVzb2x2ZUdyYW1tYXIgfSBmcm9tIFwiLi4vcmVzb2x2ZXIuanNcIjtcbmltcG9ydCB7IHZhbGlkYXRlR3JhbW1hciBhcyBvcmdWYWxpZGF0ZUdyYW1tYXIgfSBmcm9tIFwiLi4vY2hlY2tzLmpzXCI7XG5pbXBvcnQgeyBkZWZhdWx0R3JhbW1hclJlc29sdmVyRXJyb3JQcm92aWRlciwgZGVmYXVsdEdyYW1tYXJWYWxpZGF0b3JFcnJvclByb3ZpZGVyLCB9IGZyb20gXCIuLi8uLi9lcnJvcnNfcHVibGljLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUdyYW1tYXIob3B0aW9ucykge1xuICAgIGNvbnN0IGFjdHVhbE9wdGlvbnMgPSBkZWZhdWx0cyhvcHRpb25zLCB7XG4gICAgICAgIGVyck1zZ1Byb3ZpZGVyOiBkZWZhdWx0R3JhbW1hclJlc29sdmVyRXJyb3JQcm92aWRlcixcbiAgICB9KTtcbiAgICBjb25zdCB0b3BSdWxlc1RhYmxlID0ge307XG4gICAgZm9yRWFjaChvcHRpb25zLnJ1bGVzLCAocnVsZSkgPT4ge1xuICAgICAgICB0b3BSdWxlc1RhYmxlW3J1bGUubmFtZV0gPSBydWxlO1xuICAgIH0pO1xuICAgIHJldHVybiBvcmdSZXNvbHZlR3JhbW1hcih0b3BSdWxlc1RhYmxlLCBhY3R1YWxPcHRpb25zLmVyck1zZ1Byb3ZpZGVyKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUdyYW1tYXIob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBkZWZhdWx0cyhvcHRpb25zLCB7XG4gICAgICAgIGVyck1zZ1Byb3ZpZGVyOiBkZWZhdWx0R3JhbW1hclZhbGlkYXRvckVycm9yUHJvdmlkZXIsXG4gICAgfSk7XG4gICAgcmV0dXJuIG9yZ1ZhbGlkYXRlR3JhbW1hcihvcHRpb25zLnJ1bGVzLCBvcHRpb25zLnRva2VuVHlwZXMsIG9wdGlvbnMuZXJyTXNnUHJvdmlkZXIsIG9wdGlvbnMuZ3JhbW1hck5hbWUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2FzdF9yZXNvbHZlcl9wdWJsaWMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/gast/gast_resolver_public.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/interpreter.js":
/*!**********************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/parse/grammar/interpreter.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractNextPossibleTokensWalker: () => (/* binding */ AbstractNextPossibleTokensWalker),\n/* harmony export */   AbstractNextTerminalAfterProductionWalker: () => (/* binding */ AbstractNextTerminalAfterProductionWalker),\n/* harmony export */   NextAfterTokenWalker: () => (/* binding */ NextAfterTokenWalker),\n/* harmony export */   NextTerminalAfterAtLeastOneSepWalker: () => (/* binding */ NextTerminalAfterAtLeastOneSepWalker),\n/* harmony export */   NextTerminalAfterAtLeastOneWalker: () => (/* binding */ NextTerminalAfterAtLeastOneWalker),\n/* harmony export */   NextTerminalAfterManySepWalker: () => (/* binding */ NextTerminalAfterManySepWalker),\n/* harmony export */   NextTerminalAfterManyWalker: () => (/* binding */ NextTerminalAfterManyWalker),\n/* harmony export */   nextPossibleTokensAfter: () => (/* binding */ nextPossibleTokensAfter),\n/* harmony export */   possiblePathsFrom: () => (/* binding */ possiblePathsFrom)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/clone.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isEmpty.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/head.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/drop.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/forEach.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/last.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/dropRight.js\");\n/* harmony import */ var _first_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./first.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/first.js\");\n/* harmony import */ var _rest_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rest.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/rest.js\");\n/* harmony import */ var _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chevrotain/gast */ \"(ssr)/./node_modules/@chevrotain/gast/lib/src/api.js\");\n\n\n\n\nclass AbstractNextPossibleTokensWalker extends _rest_js__WEBPACK_IMPORTED_MODULE_1__.RestWalker {\n    constructor(topProd, path) {\n        super();\n        this.topProd = topProd;\n        this.path = path;\n        this.possibleTokTypes = [];\n        this.nextProductionName = \"\";\n        this.nextProductionOccurrence = 0;\n        this.found = false;\n        this.isAtEndOfPath = false;\n    }\n    startWalking() {\n        this.found = false;\n        if (this.path.ruleStack[0] !== this.topProd.name) {\n            throw Error(\"The path does not start with the walker's top Rule!\");\n        }\n        // immutable for the win\n        this.ruleStack = (0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.path.ruleStack).reverse(); // intelij bug requires assertion\n        this.occurrenceStack = (0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.path.occurrenceStack).reverse(); // intelij bug requires assertion\n        // already verified that the first production is valid, we now seek the 2nd production\n        this.ruleStack.pop();\n        this.occurrenceStack.pop();\n        this.updateExpectedNext();\n        this.walk(this.topProd);\n        return this.possibleTokTypes;\n    }\n    walk(prod, prevRest = []) {\n        // stop scanning once we found the path\n        if (!this.found) {\n            super.walk(prod, prevRest);\n        }\n    }\n    walkProdRef(refProd, currRest, prevRest) {\n        // found the next production, need to keep walking in it\n        if (refProd.referencedRule.name === this.nextProductionName &&\n            refProd.idx === this.nextProductionOccurrence) {\n            const fullRest = currRest.concat(prevRest);\n            this.updateExpectedNext();\n            this.walk(refProd.referencedRule, fullRest);\n        }\n    }\n    updateExpectedNext() {\n        // need to consume the Terminal\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.ruleStack)) {\n            // must reset nextProductionXXX to avoid walking down another Top Level production while what we are\n            // really seeking is the last Terminal...\n            this.nextProductionName = \"\";\n            this.nextProductionOccurrence = 0;\n            this.isAtEndOfPath = true;\n        }\n        else {\n            this.nextProductionName = this.ruleStack.pop();\n            this.nextProductionOccurrence = this.occurrenceStack.pop();\n        }\n    }\n}\nclass NextAfterTokenWalker extends AbstractNextPossibleTokensWalker {\n    constructor(topProd, path) {\n        super(topProd, path);\n        this.path = path;\n        this.nextTerminalName = \"\";\n        this.nextTerminalOccurrence = 0;\n        this.nextTerminalName = this.path.lastTok.name;\n        this.nextTerminalOccurrence = this.path.lastTokOccurrence;\n    }\n    walkTerminal(terminal, currRest, prevRest) {\n        if (this.isAtEndOfPath &&\n            terminal.terminalType.name === this.nextTerminalName &&\n            terminal.idx === this.nextTerminalOccurrence &&\n            !this.found) {\n            const fullRest = currRest.concat(prevRest);\n            const restProd = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Alternative({ definition: fullRest });\n            this.possibleTokTypes = (0,_first_js__WEBPACK_IMPORTED_MODULE_0__.first)(restProd);\n            this.found = true;\n        }\n    }\n}\n/**\n * This walker only \"walks\" a single \"TOP\" level in the Grammar Ast, this means\n * it never \"follows\" production refs\n */\nclass AbstractNextTerminalAfterProductionWalker extends _rest_js__WEBPACK_IMPORTED_MODULE_1__.RestWalker {\n    constructor(topRule, occurrence) {\n        super();\n        this.topRule = topRule;\n        this.occurrence = occurrence;\n        this.result = {\n            token: undefined,\n            occurrence: undefined,\n            isEndOfRule: undefined,\n        };\n    }\n    startWalking() {\n        this.walk(this.topRule);\n        return this.result;\n    }\n}\nclass NextTerminalAfterManyWalker extends AbstractNextTerminalAfterProductionWalker {\n    walkMany(manyProd, currRest, prevRest) {\n        if (manyProd.idx === this.occurrence) {\n            const firstAfterMany = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(currRest.concat(prevRest));\n            this.result.isEndOfRule = firstAfterMany === undefined;\n            if (firstAfterMany instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Terminal) {\n                this.result.token = firstAfterMany.terminalType;\n                this.result.occurrence = firstAfterMany.idx;\n            }\n        }\n        else {\n            super.walkMany(manyProd, currRest, prevRest);\n        }\n    }\n}\nclass NextTerminalAfterManySepWalker extends AbstractNextTerminalAfterProductionWalker {\n    walkManySep(manySepProd, currRest, prevRest) {\n        if (manySepProd.idx === this.occurrence) {\n            const firstAfterManySep = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(currRest.concat(prevRest));\n            this.result.isEndOfRule = firstAfterManySep === undefined;\n            if (firstAfterManySep instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Terminal) {\n                this.result.token = firstAfterManySep.terminalType;\n                this.result.occurrence = firstAfterManySep.idx;\n            }\n        }\n        else {\n            super.walkManySep(manySepProd, currRest, prevRest);\n        }\n    }\n}\nclass NextTerminalAfterAtLeastOneWalker extends AbstractNextTerminalAfterProductionWalker {\n    walkAtLeastOne(atLeastOneProd, currRest, prevRest) {\n        if (atLeastOneProd.idx === this.occurrence) {\n            const firstAfterAtLeastOne = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(currRest.concat(prevRest));\n            this.result.isEndOfRule = firstAfterAtLeastOne === undefined;\n            if (firstAfterAtLeastOne instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Terminal) {\n                this.result.token = firstAfterAtLeastOne.terminalType;\n                this.result.occurrence = firstAfterAtLeastOne.idx;\n            }\n        }\n        else {\n            super.walkAtLeastOne(atLeastOneProd, currRest, prevRest);\n        }\n    }\n}\n// TODO: reduce code duplication in the AfterWalkers\nclass NextTerminalAfterAtLeastOneSepWalker extends AbstractNextTerminalAfterProductionWalker {\n    walkAtLeastOneSep(atleastOneSepProd, currRest, prevRest) {\n        if (atleastOneSepProd.idx === this.occurrence) {\n            const firstAfterfirstAfterAtLeastOneSep = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(currRest.concat(prevRest));\n            this.result.isEndOfRule = firstAfterfirstAfterAtLeastOneSep === undefined;\n            if (firstAfterfirstAfterAtLeastOneSep instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Terminal) {\n                this.result.token = firstAfterfirstAfterAtLeastOneSep.terminalType;\n                this.result.occurrence = firstAfterfirstAfterAtLeastOneSep.idx;\n            }\n        }\n        else {\n            super.walkAtLeastOneSep(atleastOneSepProd, currRest, prevRest);\n        }\n    }\n}\nfunction possiblePathsFrom(targetDef, maxLength, currPath = []) {\n    // avoid side effects\n    currPath = (0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(currPath);\n    let result = [];\n    let i = 0;\n    // TODO: avoid inner funcs\n    function remainingPathWith(nextDef) {\n        return nextDef.concat((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(targetDef, i + 1));\n    }\n    // TODO: avoid inner funcs\n    function getAlternativesForProd(definition) {\n        const alternatives = possiblePathsFrom(remainingPathWith(definition), maxLength, currPath);\n        return result.concat(alternatives);\n    }\n    /**\n     * Mandatory productions will halt the loop as the paths computed from their recursive calls will already contain the\n     * following (rest) of the targetDef.\n     *\n     * For optional productions (Option/Repetition/...) the loop will continue to represent the paths that do not include the\n     * the optional production.\n     */\n    while (currPath.length < maxLength && i < targetDef.length) {\n        const prod = targetDef[i];\n        /* istanbul ignore else */\n        if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Alternative) {\n            return getAlternativesForProd(prod.definition);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.NonTerminal) {\n            return getAlternativesForProd(prod.definition);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Option) {\n            result = getAlternativesForProd(prod.definition);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.RepetitionMandatory) {\n            const newDef = prod.definition.concat([\n                new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Repetition({\n                    definition: prod.definition,\n                }),\n            ]);\n            return getAlternativesForProd(newDef);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.RepetitionMandatoryWithSeparator) {\n            const newDef = [\n                new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Alternative({ definition: prod.definition }),\n                new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Repetition({\n                    definition: [new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Terminal({ terminalType: prod.separator })].concat(prod.definition),\n                }),\n            ];\n            return getAlternativesForProd(newDef);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.RepetitionWithSeparator) {\n            const newDef = prod.definition.concat([\n                new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Repetition({\n                    definition: [new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Terminal({ terminalType: prod.separator })].concat(prod.definition),\n                }),\n            ]);\n            result = getAlternativesForProd(newDef);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Repetition) {\n            const newDef = prod.definition.concat([\n                new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Repetition({\n                    definition: prod.definition,\n                }),\n            ]);\n            result = getAlternativesForProd(newDef);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Alternation) {\n            (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(prod.definition, (currAlt) => {\n                // TODO: this is a limited check for empty alternatives\n                //   It would prevent a common case of infinite loops during parser initialization.\n                //   However **in-directly** empty alternatives may still cause issues.\n                if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(currAlt.definition) === false) {\n                    result = getAlternativesForProd(currAlt.definition);\n                }\n            });\n            return result;\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Terminal) {\n            currPath.push(prod.terminalType);\n        }\n        else {\n            throw Error(\"non exhaustive match\");\n        }\n        i++;\n    }\n    result.push({\n        partialPath: currPath,\n        suffixDef: (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(targetDef, i),\n    });\n    return result;\n}\nfunction nextPossibleTokensAfter(initialDef, tokenVector, tokMatcher, maxLookAhead) {\n    const EXIT_NON_TERMINAL = \"EXIT_NONE_TERMINAL\";\n    // to avoid creating a new Array each time.\n    const EXIT_NON_TERMINAL_ARR = [EXIT_NON_TERMINAL];\n    const EXIT_ALTERNATIVE = \"EXIT_ALTERNATIVE\";\n    let foundCompletePath = false;\n    const tokenVectorLength = tokenVector.length;\n    const minimalAlternativesIndex = tokenVectorLength - maxLookAhead - 1;\n    const result = [];\n    const possiblePaths = [];\n    possiblePaths.push({\n        idx: -1,\n        def: initialDef,\n        ruleStack: [],\n        occurrenceStack: [],\n    });\n    while (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(possiblePaths)) {\n        const currPath = possiblePaths.pop();\n        // skip alternatives if no more results can be found (assuming deterministic grammar with fixed lookahead)\n        if (currPath === EXIT_ALTERNATIVE) {\n            if (foundCompletePath &&\n                (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(possiblePaths).idx <= minimalAlternativesIndex) {\n                // remove irrelevant alternative\n                possiblePaths.pop();\n            }\n            continue;\n        }\n        const currDef = currPath.def;\n        const currIdx = currPath.idx;\n        const currRuleStack = currPath.ruleStack;\n        const currOccurrenceStack = currPath.occurrenceStack;\n        // For Example: an empty path could exist in a valid grammar in the case of an EMPTY_ALT\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(currDef)) {\n            continue;\n        }\n        const prod = currDef[0];\n        /* istanbul ignore else */\n        if (prod === EXIT_NON_TERMINAL) {\n            const nextPath = {\n                idx: currIdx,\n                def: (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currDef),\n                ruleStack: (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(currRuleStack),\n                occurrenceStack: (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(currOccurrenceStack),\n            };\n            possiblePaths.push(nextPath);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Terminal) {\n            /* istanbul ignore else */\n            if (currIdx < tokenVectorLength - 1) {\n                const nextIdx = currIdx + 1;\n                const actualToken = tokenVector[nextIdx];\n                if (tokMatcher(actualToken, prod.terminalType)) {\n                    const nextPath = {\n                        idx: nextIdx,\n                        def: (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currDef),\n                        ruleStack: currRuleStack,\n                        occurrenceStack: currOccurrenceStack,\n                    };\n                    possiblePaths.push(nextPath);\n                }\n                // end of the line\n            }\n            else if (currIdx === tokenVectorLength - 1) {\n                // IGNORE ABOVE ELSE\n                result.push({\n                    nextTokenType: prod.terminalType,\n                    nextTokenOccurrence: prod.idx,\n                    ruleStack: currRuleStack,\n                    occurrenceStack: currOccurrenceStack,\n                });\n                foundCompletePath = true;\n            }\n            else {\n                throw Error(\"non exhaustive match\");\n            }\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.NonTerminal) {\n            const newRuleStack = (0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(currRuleStack);\n            newRuleStack.push(prod.nonTerminalName);\n            const newOccurrenceStack = (0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(currOccurrenceStack);\n            newOccurrenceStack.push(prod.idx);\n            const nextPath = {\n                idx: currIdx,\n                def: prod.definition.concat(EXIT_NON_TERMINAL_ARR, (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currDef)),\n                ruleStack: newRuleStack,\n                occurrenceStack: newOccurrenceStack,\n            };\n            possiblePaths.push(nextPath);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Option) {\n            // the order of alternatives is meaningful, FILO (Last path will be traversed first).\n            const nextPathWithout = {\n                idx: currIdx,\n                def: (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currDef),\n                ruleStack: currRuleStack,\n                occurrenceStack: currOccurrenceStack,\n            };\n            possiblePaths.push(nextPathWithout);\n            // required marker to avoid backtracking paths whose higher priority alternatives already matched\n            possiblePaths.push(EXIT_ALTERNATIVE);\n            const nextPathWith = {\n                idx: currIdx,\n                def: prod.definition.concat((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currDef)),\n                ruleStack: currRuleStack,\n                occurrenceStack: currOccurrenceStack,\n            };\n            possiblePaths.push(nextPathWith);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.RepetitionMandatory) {\n            // TODO:(THE NEW operators here take a while...) (convert once?)\n            const secondIteration = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Repetition({\n                definition: prod.definition,\n                idx: prod.idx,\n            });\n            const nextDef = prod.definition.concat([secondIteration], (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currDef));\n            const nextPath = {\n                idx: currIdx,\n                def: nextDef,\n                ruleStack: currRuleStack,\n                occurrenceStack: currOccurrenceStack,\n            };\n            possiblePaths.push(nextPath);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.RepetitionMandatoryWithSeparator) {\n            // TODO:(THE NEW operators here take a while...) (convert once?)\n            const separatorGast = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Terminal({\n                terminalType: prod.separator,\n            });\n            const secondIteration = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Repetition({\n                definition: [separatorGast].concat(prod.definition),\n                idx: prod.idx,\n            });\n            const nextDef = prod.definition.concat([secondIteration], (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currDef));\n            const nextPath = {\n                idx: currIdx,\n                def: nextDef,\n                ruleStack: currRuleStack,\n                occurrenceStack: currOccurrenceStack,\n            };\n            possiblePaths.push(nextPath);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.RepetitionWithSeparator) {\n            // the order of alternatives is meaningful, FILO (Last path will be traversed first).\n            const nextPathWithout = {\n                idx: currIdx,\n                def: (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currDef),\n                ruleStack: currRuleStack,\n                occurrenceStack: currOccurrenceStack,\n            };\n            possiblePaths.push(nextPathWithout);\n            // required marker to avoid backtracking paths whose higher priority alternatives already matched\n            possiblePaths.push(EXIT_ALTERNATIVE);\n            const separatorGast = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Terminal({\n                terminalType: prod.separator,\n            });\n            const nthRepetition = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Repetition({\n                definition: [separatorGast].concat(prod.definition),\n                idx: prod.idx,\n            });\n            const nextDef = prod.definition.concat([nthRepetition], (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currDef));\n            const nextPathWith = {\n                idx: currIdx,\n                def: nextDef,\n                ruleStack: currRuleStack,\n                occurrenceStack: currOccurrenceStack,\n            };\n            possiblePaths.push(nextPathWith);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Repetition) {\n            // the order of alternatives is meaningful, FILO (Last path will be traversed first).\n            const nextPathWithout = {\n                idx: currIdx,\n                def: (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currDef),\n                ruleStack: currRuleStack,\n                occurrenceStack: currOccurrenceStack,\n            };\n            possiblePaths.push(nextPathWithout);\n            // required marker to avoid backtracking paths whose higher priority alternatives already matched\n            possiblePaths.push(EXIT_ALTERNATIVE);\n            // TODO: an empty repetition will cause infinite loops here, will the parser detect this in selfAnalysis?\n            const nthRepetition = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Repetition({\n                definition: prod.definition,\n                idx: prod.idx,\n            });\n            const nextDef = prod.definition.concat([nthRepetition], (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currDef));\n            const nextPathWith = {\n                idx: currIdx,\n                def: nextDef,\n                ruleStack: currRuleStack,\n                occurrenceStack: currOccurrenceStack,\n            };\n            possiblePaths.push(nextPathWith);\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Alternation) {\n            // the order of alternatives is meaningful, FILO (Last path will be traversed first).\n            for (let i = prod.definition.length - 1; i >= 0; i--) {\n                const currAlt = prod.definition[i];\n                const currAltPath = {\n                    idx: currIdx,\n                    def: currAlt.definition.concat((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currDef)),\n                    ruleStack: currRuleStack,\n                    occurrenceStack: currOccurrenceStack,\n                };\n                possiblePaths.push(currAltPath);\n                possiblePaths.push(EXIT_ALTERNATIVE);\n            }\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Alternative) {\n            possiblePaths.push({\n                idx: currIdx,\n                def: prod.definition.concat((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currDef)),\n                ruleStack: currRuleStack,\n                occurrenceStack: currOccurrenceStack,\n            });\n        }\n        else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.Rule) {\n            // last because we should only encounter at most a single one of these per invocation.\n            possiblePaths.push(expandTopLevelRule(prod, currIdx, currRuleStack, currOccurrenceStack));\n        }\n        else {\n            throw Error(\"non exhaustive match\");\n        }\n    }\n    return result;\n}\nfunction expandTopLevelRule(topRule, currIdx, currRuleStack, currOccurrenceStack) {\n    const newRuleStack = (0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(currRuleStack);\n    newRuleStack.push(topRule.name);\n    const newCurrOccurrenceStack = (0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(currOccurrenceStack);\n    // top rule is always assumed to have been called with occurrence index 1\n    newCurrOccurrenceStack.push(1);\n    return {\n        idx: currIdx,\n        def: topRule.definition,\n        ruleStack: newRuleStack,\n        occurrenceStack: newCurrOccurrenceStack,\n    };\n}\n//# sourceMappingURL=interpreter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL2dyYW1tYXIvaW50ZXJwcmV0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE2RjtBQUMxRDtBQUNJO0FBQ3VKO0FBQ3ZMLCtDQUErQyxnREFBVTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixxREFBSyxpQ0FBaUM7QUFDL0QsK0JBQStCLHFEQUFLLHVDQUF1QztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHFEQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyx5REFBVyxHQUFHLHNCQUFzQjtBQUNyRSxvQ0FBb0MsZ0RBQUs7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHdEQUF3RCxnREFBVTtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxtQ0FBbUMscURBQU07QUFDekM7QUFDQSwwQ0FBMEMsc0RBQVE7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0Esc0NBQXNDLHFEQUFNO0FBQzVDO0FBQ0EsNkNBQTZDLHNEQUFRO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLHlDQUF5QyxxREFBTTtBQUMvQztBQUNBLGdEQUFnRCxzREFBUTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLHNEQUFzRCxxREFBTTtBQUM1RDtBQUNBLDZEQUE2RCxzREFBUTtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsZUFBZSxxREFBSztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixxREFBSTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qix5REFBVztBQUN2QztBQUNBO0FBQ0EsaUNBQWlDLHlEQUFXO0FBQzVDO0FBQ0E7QUFDQSxpQ0FBaUMsb0RBQU07QUFDdkM7QUFDQTtBQUNBLGlDQUFpQyxpRUFBbUI7QUFDcEQ7QUFDQSxvQkFBb0Isd0RBQVU7QUFDOUI7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLDhFQUFnQztBQUNqRTtBQUNBLG9CQUFvQix5REFBVyxHQUFHLDZCQUE2QjtBQUMvRCxvQkFBb0Isd0RBQVU7QUFDOUIscUNBQXFDLHNEQUFRLEdBQUcsOEJBQThCO0FBQzlFLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMscUVBQXVCO0FBQ3hEO0FBQ0Esb0JBQW9CLHdEQUFVO0FBQzlCLHFDQUFxQyxzREFBUSxHQUFHLDhCQUE4QjtBQUM5RSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHdEQUFVO0FBQzNDO0FBQ0Esb0JBQW9CLHdEQUFVO0FBQzlCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyx5REFBVztBQUM1QyxZQUFZLHFEQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxREFBTztBQUMzQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxpQ0FBaUMsc0RBQVE7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHFEQUFJO0FBQ3ZCLEtBQUs7QUFDTDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVkscURBQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscURBQUk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHFEQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHFEQUFJO0FBQ3pCLDJCQUEyQixxREFBUztBQUNwQyxpQ0FBaUMscURBQVM7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHNEQUFRO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHFEQUFJO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHlEQUFXO0FBQzVDLGlDQUFpQyxxREFBSztBQUN0QztBQUNBLHVDQUF1QyxxREFBSztBQUM1QztBQUNBO0FBQ0E7QUFDQSxtRUFBbUUscURBQUk7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxvREFBTTtBQUN2QztBQUNBO0FBQ0E7QUFDQSxxQkFBcUIscURBQUk7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxxREFBSTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLGlFQUFtQjtBQUNwRDtBQUNBLHdDQUF3Qyx3REFBVTtBQUNsRDtBQUNBO0FBQ0EsYUFBYTtBQUNiLHNFQUFzRSxxREFBSTtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLDhFQUFnQztBQUNqRTtBQUNBLHNDQUFzQyxzREFBUTtBQUM5QztBQUNBLGFBQWE7QUFDYix3Q0FBd0Msd0RBQVU7QUFDbEQ7QUFDQTtBQUNBLGFBQWE7QUFDYixzRUFBc0UscURBQUk7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxxRUFBdUI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHFEQUFJO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxzREFBUTtBQUM5QztBQUNBLGFBQWE7QUFDYixzQ0FBc0Msd0RBQVU7QUFDaEQ7QUFDQTtBQUNBLGFBQWE7QUFDYixvRUFBb0UscURBQUk7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyx3REFBVTtBQUMzQztBQUNBO0FBQ0E7QUFDQSxxQkFBcUIscURBQUk7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msd0RBQVU7QUFDaEQ7QUFDQTtBQUNBLGFBQWE7QUFDYixvRUFBb0UscURBQUk7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyx5REFBVztBQUM1QztBQUNBLHFEQUFxRCxRQUFRO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxxREFBSTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyx5REFBVztBQUM1QztBQUNBO0FBQ0EsNENBQTRDLHFEQUFJO0FBQ2hEO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxpQ0FBaUMsa0RBQUk7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIscURBQUs7QUFDOUI7QUFDQSxtQ0FBbUMscURBQUs7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXJtYWlkLWRpYWdyYW0tZWRpdG9yLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy9wYXJzZS9ncmFtbWFyL2ludGVycHJldGVyLmpzPzhhZDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2xvbmUsIGRyb3AsIGRyb3BSaWdodCwgZmlyc3QgYXMgX2ZpcnN0LCBmb3JFYWNoLCBpc0VtcHR5LCBsYXN0LCB9IGZyb20gXCJsb2Rhc2gtZXNcIjtcbmltcG9ydCB7IGZpcnN0IH0gZnJvbSBcIi4vZmlyc3QuanNcIjtcbmltcG9ydCB7IFJlc3RXYWxrZXIgfSBmcm9tIFwiLi9yZXN0LmpzXCI7XG5pbXBvcnQgeyBBbHRlcm5hdGlvbiwgQWx0ZXJuYXRpdmUsIE5vblRlcm1pbmFsLCBPcHRpb24sIFJlcGV0aXRpb24sIFJlcGV0aXRpb25NYW5kYXRvcnksIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yLCBSZXBldGl0aW9uV2l0aFNlcGFyYXRvciwgUnVsZSwgVGVybWluYWwsIH0gZnJvbSBcIkBjaGV2cm90YWluL2dhc3RcIjtcbmV4cG9ydCBjbGFzcyBBYnN0cmFjdE5leHRQb3NzaWJsZVRva2Vuc1dhbGtlciBleHRlbmRzIFJlc3RXYWxrZXIge1xuICAgIGNvbnN0cnVjdG9yKHRvcFByb2QsIHBhdGgpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50b3BQcm9kID0gdG9wUHJvZDtcbiAgICAgICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICAgICAgdGhpcy5wb3NzaWJsZVRva1R5cGVzID0gW107XG4gICAgICAgIHRoaXMubmV4dFByb2R1Y3Rpb25OYW1lID0gXCJcIjtcbiAgICAgICAgdGhpcy5uZXh0UHJvZHVjdGlvbk9jY3VycmVuY2UgPSAwO1xuICAgICAgICB0aGlzLmZvdW5kID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNBdEVuZE9mUGF0aCA9IGZhbHNlO1xuICAgIH1cbiAgICBzdGFydFdhbGtpbmcoKSB7XG4gICAgICAgIHRoaXMuZm91bmQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMucGF0aC5ydWxlU3RhY2tbMF0gIT09IHRoaXMudG9wUHJvZC5uYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIlRoZSBwYXRoIGRvZXMgbm90IHN0YXJ0IHdpdGggdGhlIHdhbGtlcidzIHRvcCBSdWxlIVwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpbW11dGFibGUgZm9yIHRoZSB3aW5cbiAgICAgICAgdGhpcy5ydWxlU3RhY2sgPSBjbG9uZSh0aGlzLnBhdGgucnVsZVN0YWNrKS5yZXZlcnNlKCk7IC8vIGludGVsaWogYnVnIHJlcXVpcmVzIGFzc2VydGlvblxuICAgICAgICB0aGlzLm9jY3VycmVuY2VTdGFjayA9IGNsb25lKHRoaXMucGF0aC5vY2N1cnJlbmNlU3RhY2spLnJldmVyc2UoKTsgLy8gaW50ZWxpaiBidWcgcmVxdWlyZXMgYXNzZXJ0aW9uXG4gICAgICAgIC8vIGFscmVhZHkgdmVyaWZpZWQgdGhhdCB0aGUgZmlyc3QgcHJvZHVjdGlvbiBpcyB2YWxpZCwgd2Ugbm93IHNlZWsgdGhlIDJuZCBwcm9kdWN0aW9uXG4gICAgICAgIHRoaXMucnVsZVN0YWNrLnBvcCgpO1xuICAgICAgICB0aGlzLm9jY3VycmVuY2VTdGFjay5wb3AoKTtcbiAgICAgICAgdGhpcy51cGRhdGVFeHBlY3RlZE5leHQoKTtcbiAgICAgICAgdGhpcy53YWxrKHRoaXMudG9wUHJvZCk7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc3NpYmxlVG9rVHlwZXM7XG4gICAgfVxuICAgIHdhbGsocHJvZCwgcHJldlJlc3QgPSBbXSkge1xuICAgICAgICAvLyBzdG9wIHNjYW5uaW5nIG9uY2Ugd2UgZm91bmQgdGhlIHBhdGhcbiAgICAgICAgaWYgKCF0aGlzLmZvdW5kKSB7XG4gICAgICAgICAgICBzdXBlci53YWxrKHByb2QsIHByZXZSZXN0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB3YWxrUHJvZFJlZihyZWZQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgLy8gZm91bmQgdGhlIG5leHQgcHJvZHVjdGlvbiwgbmVlZCB0byBrZWVwIHdhbGtpbmcgaW4gaXRcbiAgICAgICAgaWYgKHJlZlByb2QucmVmZXJlbmNlZFJ1bGUubmFtZSA9PT0gdGhpcy5uZXh0UHJvZHVjdGlvbk5hbWUgJiZcbiAgICAgICAgICAgIHJlZlByb2QuaWR4ID09PSB0aGlzLm5leHRQcm9kdWN0aW9uT2NjdXJyZW5jZSkge1xuICAgICAgICAgICAgY29uc3QgZnVsbFJlc3QgPSBjdXJyUmVzdC5jb25jYXQocHJldlJlc3QpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFeHBlY3RlZE5leHQoKTtcbiAgICAgICAgICAgIHRoaXMud2FsayhyZWZQcm9kLnJlZmVyZW5jZWRSdWxlLCBmdWxsUmVzdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlRXhwZWN0ZWROZXh0KCkge1xuICAgICAgICAvLyBuZWVkIHRvIGNvbnN1bWUgdGhlIFRlcm1pbmFsXG4gICAgICAgIGlmIChpc0VtcHR5KHRoaXMucnVsZVN0YWNrKSkge1xuICAgICAgICAgICAgLy8gbXVzdCByZXNldCBuZXh0UHJvZHVjdGlvblhYWCB0byBhdm9pZCB3YWxraW5nIGRvd24gYW5vdGhlciBUb3AgTGV2ZWwgcHJvZHVjdGlvbiB3aGlsZSB3aGF0IHdlIGFyZVxuICAgICAgICAgICAgLy8gcmVhbGx5IHNlZWtpbmcgaXMgdGhlIGxhc3QgVGVybWluYWwuLi5cbiAgICAgICAgICAgIHRoaXMubmV4dFByb2R1Y3Rpb25OYW1lID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMubmV4dFByb2R1Y3Rpb25PY2N1cnJlbmNlID0gMDtcbiAgICAgICAgICAgIHRoaXMuaXNBdEVuZE9mUGF0aCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm5leHRQcm9kdWN0aW9uTmFtZSA9IHRoaXMucnVsZVN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgdGhpcy5uZXh0UHJvZHVjdGlvbk9jY3VycmVuY2UgPSB0aGlzLm9jY3VycmVuY2VTdGFjay5wb3AoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBOZXh0QWZ0ZXJUb2tlbldhbGtlciBleHRlbmRzIEFic3RyYWN0TmV4dFBvc3NpYmxlVG9rZW5zV2Fsa2VyIHtcbiAgICBjb25zdHJ1Y3Rvcih0b3BQcm9kLCBwYXRoKSB7XG4gICAgICAgIHN1cGVyKHRvcFByb2QsIHBhdGgpO1xuICAgICAgICB0aGlzLnBhdGggPSBwYXRoO1xuICAgICAgICB0aGlzLm5leHRUZXJtaW5hbE5hbWUgPSBcIlwiO1xuICAgICAgICB0aGlzLm5leHRUZXJtaW5hbE9jY3VycmVuY2UgPSAwO1xuICAgICAgICB0aGlzLm5leHRUZXJtaW5hbE5hbWUgPSB0aGlzLnBhdGgubGFzdFRvay5uYW1lO1xuICAgICAgICB0aGlzLm5leHRUZXJtaW5hbE9jY3VycmVuY2UgPSB0aGlzLnBhdGgubGFzdFRva09jY3VycmVuY2U7XG4gICAgfVxuICAgIHdhbGtUZXJtaW5hbCh0ZXJtaW5hbCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIGlmICh0aGlzLmlzQXRFbmRPZlBhdGggJiZcbiAgICAgICAgICAgIHRlcm1pbmFsLnRlcm1pbmFsVHlwZS5uYW1lID09PSB0aGlzLm5leHRUZXJtaW5hbE5hbWUgJiZcbiAgICAgICAgICAgIHRlcm1pbmFsLmlkeCA9PT0gdGhpcy5uZXh0VGVybWluYWxPY2N1cnJlbmNlICYmXG4gICAgICAgICAgICAhdGhpcy5mb3VuZCkge1xuICAgICAgICAgICAgY29uc3QgZnVsbFJlc3QgPSBjdXJyUmVzdC5jb25jYXQocHJldlJlc3QpO1xuICAgICAgICAgICAgY29uc3QgcmVzdFByb2QgPSBuZXcgQWx0ZXJuYXRpdmUoeyBkZWZpbml0aW9uOiBmdWxsUmVzdCB9KTtcbiAgICAgICAgICAgIHRoaXMucG9zc2libGVUb2tUeXBlcyA9IGZpcnN0KHJlc3RQcm9kKTtcbiAgICAgICAgICAgIHRoaXMuZm91bmQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBUaGlzIHdhbGtlciBvbmx5IFwid2Fsa3NcIiBhIHNpbmdsZSBcIlRPUFwiIGxldmVsIGluIHRoZSBHcmFtbWFyIEFzdCwgdGhpcyBtZWFuc1xuICogaXQgbmV2ZXIgXCJmb2xsb3dzXCIgcHJvZHVjdGlvbiByZWZzXG4gKi9cbmV4cG9ydCBjbGFzcyBBYnN0cmFjdE5leHRUZXJtaW5hbEFmdGVyUHJvZHVjdGlvbldhbGtlciBleHRlbmRzIFJlc3RXYWxrZXIge1xuICAgIGNvbnN0cnVjdG9yKHRvcFJ1bGUsIG9jY3VycmVuY2UpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50b3BSdWxlID0gdG9wUnVsZTtcbiAgICAgICAgdGhpcy5vY2N1cnJlbmNlID0gb2NjdXJyZW5jZTtcbiAgICAgICAgdGhpcy5yZXN1bHQgPSB7XG4gICAgICAgICAgICB0b2tlbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgb2NjdXJyZW5jZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgaXNFbmRPZlJ1bGU6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhcnRXYWxraW5nKCkge1xuICAgICAgICB0aGlzLndhbGsodGhpcy50b3BSdWxlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0O1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBOZXh0VGVybWluYWxBZnRlck1hbnlXYWxrZXIgZXh0ZW5kcyBBYnN0cmFjdE5leHRUZXJtaW5hbEFmdGVyUHJvZHVjdGlvbldhbGtlciB7XG4gICAgd2Fsa01hbnkobWFueVByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICBpZiAobWFueVByb2QuaWR4ID09PSB0aGlzLm9jY3VycmVuY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0QWZ0ZXJNYW55ID0gX2ZpcnN0KGN1cnJSZXN0LmNvbmNhdChwcmV2UmVzdCkpO1xuICAgICAgICAgICAgdGhpcy5yZXN1bHQuaXNFbmRPZlJ1bGUgPSBmaXJzdEFmdGVyTWFueSA9PT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKGZpcnN0QWZ0ZXJNYW55IGluc3RhbmNlb2YgVGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdC50b2tlbiA9IGZpcnN0QWZ0ZXJNYW55LnRlcm1pbmFsVHlwZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdC5vY2N1cnJlbmNlID0gZmlyc3RBZnRlck1hbnkuaWR4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3VwZXIud2Fsa01hbnkobWFueVByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTmV4dFRlcm1pbmFsQWZ0ZXJNYW55U2VwV2Fsa2VyIGV4dGVuZHMgQWJzdHJhY3ROZXh0VGVybWluYWxBZnRlclByb2R1Y3Rpb25XYWxrZXIge1xuICAgIHdhbGtNYW55U2VwKG1hbnlTZXBQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgaWYgKG1hbnlTZXBQcm9kLmlkeCA9PT0gdGhpcy5vY2N1cnJlbmNlKSB7XG4gICAgICAgICAgICBjb25zdCBmaXJzdEFmdGVyTWFueVNlcCA9IF9maXJzdChjdXJyUmVzdC5jb25jYXQocHJldlJlc3QpKTtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0LmlzRW5kT2ZSdWxlID0gZmlyc3RBZnRlck1hbnlTZXAgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChmaXJzdEFmdGVyTWFueVNlcCBpbnN0YW5jZW9mIFRlcm1pbmFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bHQudG9rZW4gPSBmaXJzdEFmdGVyTWFueVNlcC50ZXJtaW5hbFR5cGU7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bHQub2NjdXJyZW5jZSA9IGZpcnN0QWZ0ZXJNYW55U2VwLmlkeDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN1cGVyLndhbGtNYW55U2VwKG1hbnlTZXBQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE5leHRUZXJtaW5hbEFmdGVyQXRMZWFzdE9uZVdhbGtlciBleHRlbmRzIEFic3RyYWN0TmV4dFRlcm1pbmFsQWZ0ZXJQcm9kdWN0aW9uV2Fsa2VyIHtcbiAgICB3YWxrQXRMZWFzdE9uZShhdExlYXN0T25lUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIGlmIChhdExlYXN0T25lUHJvZC5pZHggPT09IHRoaXMub2NjdXJyZW5jZSkge1xuICAgICAgICAgICAgY29uc3QgZmlyc3RBZnRlckF0TGVhc3RPbmUgPSBfZmlyc3QoY3VyclJlc3QuY29uY2F0KHByZXZSZXN0KSk7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdC5pc0VuZE9mUnVsZSA9IGZpcnN0QWZ0ZXJBdExlYXN0T25lID09PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoZmlyc3RBZnRlckF0TGVhc3RPbmUgaW5zdGFuY2VvZiBUZXJtaW5hbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0LnRva2VuID0gZmlyc3RBZnRlckF0TGVhc3RPbmUudGVybWluYWxUeXBlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0Lm9jY3VycmVuY2UgPSBmaXJzdEFmdGVyQXRMZWFzdE9uZS5pZHg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdXBlci53YWxrQXRMZWFzdE9uZShhdExlYXN0T25lUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIFRPRE86IHJlZHVjZSBjb2RlIGR1cGxpY2F0aW9uIGluIHRoZSBBZnRlcldhbGtlcnNcbmV4cG9ydCBjbGFzcyBOZXh0VGVybWluYWxBZnRlckF0TGVhc3RPbmVTZXBXYWxrZXIgZXh0ZW5kcyBBYnN0cmFjdE5leHRUZXJtaW5hbEFmdGVyUHJvZHVjdGlvbldhbGtlciB7XG4gICAgd2Fsa0F0TGVhc3RPbmVTZXAoYXRsZWFzdE9uZVNlcFByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICBpZiAoYXRsZWFzdE9uZVNlcFByb2QuaWR4ID09PSB0aGlzLm9jY3VycmVuY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0QWZ0ZXJmaXJzdEFmdGVyQXRMZWFzdE9uZVNlcCA9IF9maXJzdChjdXJyUmVzdC5jb25jYXQocHJldlJlc3QpKTtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0LmlzRW5kT2ZSdWxlID0gZmlyc3RBZnRlcmZpcnN0QWZ0ZXJBdExlYXN0T25lU2VwID09PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoZmlyc3RBZnRlcmZpcnN0QWZ0ZXJBdExlYXN0T25lU2VwIGluc3RhbmNlb2YgVGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdC50b2tlbiA9IGZpcnN0QWZ0ZXJmaXJzdEFmdGVyQXRMZWFzdE9uZVNlcC50ZXJtaW5hbFR5cGU7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bHQub2NjdXJyZW5jZSA9IGZpcnN0QWZ0ZXJmaXJzdEFmdGVyQXRMZWFzdE9uZVNlcC5pZHg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdXBlci53YWxrQXRMZWFzdE9uZVNlcChhdGxlYXN0T25lU2VwUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBwb3NzaWJsZVBhdGhzRnJvbSh0YXJnZXREZWYsIG1heExlbmd0aCwgY3VyclBhdGggPSBbXSkge1xuICAgIC8vIGF2b2lkIHNpZGUgZWZmZWN0c1xuICAgIGN1cnJQYXRoID0gY2xvbmUoY3VyclBhdGgpO1xuICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICBsZXQgaSA9IDA7XG4gICAgLy8gVE9ETzogYXZvaWQgaW5uZXIgZnVuY3NcbiAgICBmdW5jdGlvbiByZW1haW5pbmdQYXRoV2l0aChuZXh0RGVmKSB7XG4gICAgICAgIHJldHVybiBuZXh0RGVmLmNvbmNhdChkcm9wKHRhcmdldERlZiwgaSArIDEpKTtcbiAgICB9XG4gICAgLy8gVE9ETzogYXZvaWQgaW5uZXIgZnVuY3NcbiAgICBmdW5jdGlvbiBnZXRBbHRlcm5hdGl2ZXNGb3JQcm9kKGRlZmluaXRpb24pIHtcbiAgICAgICAgY29uc3QgYWx0ZXJuYXRpdmVzID0gcG9zc2libGVQYXRoc0Zyb20ocmVtYWluaW5nUGF0aFdpdGgoZGVmaW5pdGlvbiksIG1heExlbmd0aCwgY3VyclBhdGgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0LmNvbmNhdChhbHRlcm5hdGl2ZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYW5kYXRvcnkgcHJvZHVjdGlvbnMgd2lsbCBoYWx0IHRoZSBsb29wIGFzIHRoZSBwYXRocyBjb21wdXRlZCBmcm9tIHRoZWlyIHJlY3Vyc2l2ZSBjYWxscyB3aWxsIGFscmVhZHkgY29udGFpbiB0aGVcbiAgICAgKiBmb2xsb3dpbmcgKHJlc3QpIG9mIHRoZSB0YXJnZXREZWYuXG4gICAgICpcbiAgICAgKiBGb3Igb3B0aW9uYWwgcHJvZHVjdGlvbnMgKE9wdGlvbi9SZXBldGl0aW9uLy4uLikgdGhlIGxvb3Agd2lsbCBjb250aW51ZSB0byByZXByZXNlbnQgdGhlIHBhdGhzIHRoYXQgZG8gbm90IGluY2x1ZGUgdGhlXG4gICAgICogdGhlIG9wdGlvbmFsIHByb2R1Y3Rpb24uXG4gICAgICovXG4gICAgd2hpbGUgKGN1cnJQYXRoLmxlbmd0aCA8IG1heExlbmd0aCAmJiBpIDwgdGFyZ2V0RGVmLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBwcm9kID0gdGFyZ2V0RGVmW2ldO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAocHJvZCBpbnN0YW5jZW9mIEFsdGVybmF0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0QWx0ZXJuYXRpdmVzRm9yUHJvZChwcm9kLmRlZmluaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBOb25UZXJtaW5hbCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldEFsdGVybmF0aXZlc0ZvclByb2QocHJvZC5kZWZpbml0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgT3B0aW9uKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBnZXRBbHRlcm5hdGl2ZXNGb3JQcm9kKHByb2QuZGVmaW5pdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb25NYW5kYXRvcnkpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0RlZiA9IHByb2QuZGVmaW5pdGlvbi5jb25jYXQoW1xuICAgICAgICAgICAgICAgIG5ldyBSZXBldGl0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbjogcHJvZC5kZWZpbml0aW9uLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICByZXR1cm4gZ2V0QWx0ZXJuYXRpdmVzRm9yUHJvZChuZXdEZWYpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvcikge1xuICAgICAgICAgICAgY29uc3QgbmV3RGVmID0gW1xuICAgICAgICAgICAgICAgIG5ldyBBbHRlcm5hdGl2ZSh7IGRlZmluaXRpb246IHByb2QuZGVmaW5pdGlvbiB9KSxcbiAgICAgICAgICAgICAgICBuZXcgUmVwZXRpdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb246IFtuZXcgVGVybWluYWwoeyB0ZXJtaW5hbFR5cGU6IHByb2Quc2VwYXJhdG9yIH0pXS5jb25jYXQocHJvZC5kZWZpbml0aW9uKSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICByZXR1cm4gZ2V0QWx0ZXJuYXRpdmVzRm9yUHJvZChuZXdEZWYpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uV2l0aFNlcGFyYXRvcikge1xuICAgICAgICAgICAgY29uc3QgbmV3RGVmID0gcHJvZC5kZWZpbml0aW9uLmNvbmNhdChbXG4gICAgICAgICAgICAgICAgbmV3IFJlcGV0aXRpb24oe1xuICAgICAgICAgICAgICAgICAgICBkZWZpbml0aW9uOiBbbmV3IFRlcm1pbmFsKHsgdGVybWluYWxUeXBlOiBwcm9kLnNlcGFyYXRvciB9KV0uY29uY2F0KHByb2QuZGVmaW5pdGlvbiksXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IGdldEFsdGVybmF0aXZlc0ZvclByb2QobmV3RGVmKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbikge1xuICAgICAgICAgICAgY29uc3QgbmV3RGVmID0gcHJvZC5kZWZpbml0aW9uLmNvbmNhdChbXG4gICAgICAgICAgICAgICAgbmV3IFJlcGV0aXRpb24oe1xuICAgICAgICAgICAgICAgICAgICBkZWZpbml0aW9uOiBwcm9kLmRlZmluaXRpb24sXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IGdldEFsdGVybmF0aXZlc0ZvclByb2QobmV3RGVmKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgQWx0ZXJuYXRpb24pIHtcbiAgICAgICAgICAgIGZvckVhY2gocHJvZC5kZWZpbml0aW9uLCAoY3VyckFsdCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBsaW1pdGVkIGNoZWNrIGZvciBlbXB0eSBhbHRlcm5hdGl2ZXNcbiAgICAgICAgICAgICAgICAvLyAgIEl0IHdvdWxkIHByZXZlbnQgYSBjb21tb24gY2FzZSBvZiBpbmZpbml0ZSBsb29wcyBkdXJpbmcgcGFyc2VyIGluaXRpYWxpemF0aW9uLlxuICAgICAgICAgICAgICAgIC8vICAgSG93ZXZlciAqKmluLWRpcmVjdGx5KiogZW1wdHkgYWx0ZXJuYXRpdmVzIG1heSBzdGlsbCBjYXVzZSBpc3N1ZXMuXG4gICAgICAgICAgICAgICAgaWYgKGlzRW1wdHkoY3VyckFsdC5kZWZpbml0aW9uKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZ2V0QWx0ZXJuYXRpdmVzRm9yUHJvZChjdXJyQWx0LmRlZmluaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgVGVybWluYWwpIHtcbiAgICAgICAgICAgIGN1cnJQYXRoLnB1c2gocHJvZC50ZXJtaW5hbFR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgcGFydGlhbFBhdGg6IGN1cnJQYXRoLFxuICAgICAgICBzdWZmaXhEZWY6IGRyb3AodGFyZ2V0RGVmLCBpKSxcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIG5leHRQb3NzaWJsZVRva2Vuc0FmdGVyKGluaXRpYWxEZWYsIHRva2VuVmVjdG9yLCB0b2tNYXRjaGVyLCBtYXhMb29rQWhlYWQpIHtcbiAgICBjb25zdCBFWElUX05PTl9URVJNSU5BTCA9IFwiRVhJVF9OT05FX1RFUk1JTkFMXCI7XG4gICAgLy8gdG8gYXZvaWQgY3JlYXRpbmcgYSBuZXcgQXJyYXkgZWFjaCB0aW1lLlxuICAgIGNvbnN0IEVYSVRfTk9OX1RFUk1JTkFMX0FSUiA9IFtFWElUX05PTl9URVJNSU5BTF07XG4gICAgY29uc3QgRVhJVF9BTFRFUk5BVElWRSA9IFwiRVhJVF9BTFRFUk5BVElWRVwiO1xuICAgIGxldCBmb3VuZENvbXBsZXRlUGF0aCA9IGZhbHNlO1xuICAgIGNvbnN0IHRva2VuVmVjdG9yTGVuZ3RoID0gdG9rZW5WZWN0b3IubGVuZ3RoO1xuICAgIGNvbnN0IG1pbmltYWxBbHRlcm5hdGl2ZXNJbmRleCA9IHRva2VuVmVjdG9yTGVuZ3RoIC0gbWF4TG9va0FoZWFkIC0gMTtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBjb25zdCBwb3NzaWJsZVBhdGhzID0gW107XG4gICAgcG9zc2libGVQYXRocy5wdXNoKHtcbiAgICAgICAgaWR4OiAtMSxcbiAgICAgICAgZGVmOiBpbml0aWFsRGVmLFxuICAgICAgICBydWxlU3RhY2s6IFtdLFxuICAgICAgICBvY2N1cnJlbmNlU3RhY2s6IFtdLFxuICAgIH0pO1xuICAgIHdoaWxlICghaXNFbXB0eShwb3NzaWJsZVBhdGhzKSkge1xuICAgICAgICBjb25zdCBjdXJyUGF0aCA9IHBvc3NpYmxlUGF0aHMucG9wKCk7XG4gICAgICAgIC8vIHNraXAgYWx0ZXJuYXRpdmVzIGlmIG5vIG1vcmUgcmVzdWx0cyBjYW4gYmUgZm91bmQgKGFzc3VtaW5nIGRldGVybWluaXN0aWMgZ3JhbW1hciB3aXRoIGZpeGVkIGxvb2thaGVhZClcbiAgICAgICAgaWYgKGN1cnJQYXRoID09PSBFWElUX0FMVEVSTkFUSVZFKSB7XG4gICAgICAgICAgICBpZiAoZm91bmRDb21wbGV0ZVBhdGggJiZcbiAgICAgICAgICAgICAgICBsYXN0KHBvc3NpYmxlUGF0aHMpLmlkeCA8PSBtaW5pbWFsQWx0ZXJuYXRpdmVzSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgaXJyZWxldmFudCBhbHRlcm5hdGl2ZVxuICAgICAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyRGVmID0gY3VyclBhdGguZGVmO1xuICAgICAgICBjb25zdCBjdXJySWR4ID0gY3VyclBhdGguaWR4O1xuICAgICAgICBjb25zdCBjdXJyUnVsZVN0YWNrID0gY3VyclBhdGgucnVsZVN0YWNrO1xuICAgICAgICBjb25zdCBjdXJyT2NjdXJyZW5jZVN0YWNrID0gY3VyclBhdGgub2NjdXJyZW5jZVN0YWNrO1xuICAgICAgICAvLyBGb3IgRXhhbXBsZTogYW4gZW1wdHkgcGF0aCBjb3VsZCBleGlzdCBpbiBhIHZhbGlkIGdyYW1tYXIgaW4gdGhlIGNhc2Ugb2YgYW4gRU1QVFlfQUxUXG4gICAgICAgIGlmIChpc0VtcHR5KGN1cnJEZWYpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm9kID0gY3VyckRlZlswXTtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKHByb2QgPT09IEVYSVRfTk9OX1RFUk1JTkFMKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0UGF0aCA9IHtcbiAgICAgICAgICAgICAgICBpZHg6IGN1cnJJZHgsXG4gICAgICAgICAgICAgICAgZGVmOiBkcm9wKGN1cnJEZWYpLFxuICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogZHJvcFJpZ2h0KGN1cnJSdWxlU3RhY2spLFxuICAgICAgICAgICAgICAgIG9jY3VycmVuY2VTdGFjazogZHJvcFJpZ2h0KGN1cnJPY2N1cnJlbmNlU3RhY2spLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChuZXh0UGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFRlcm1pbmFsKSB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgaWYgKGN1cnJJZHggPCB0b2tlblZlY3Rvckxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0SWR4ID0gY3VycklkeCArIDE7XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0dWFsVG9rZW4gPSB0b2tlblZlY3RvcltuZXh0SWR4XTtcbiAgICAgICAgICAgICAgICBpZiAodG9rTWF0Y2hlcihhY3R1YWxUb2tlbiwgcHJvZC50ZXJtaW5hbFR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRQYXRoID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWR4OiBuZXh0SWR4LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmOiBkcm9wKGN1cnJEZWYpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcnVsZVN0YWNrOiBjdXJyUnVsZVN0YWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBjdXJyT2NjdXJyZW5jZVN0YWNrLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2gobmV4dFBhdGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBlbmQgb2YgdGhlIGxpbmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJJZHggPT09IHRva2VuVmVjdG9yTGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIC8vIElHTk9SRSBBQk9WRSBFTFNFXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBuZXh0VG9rZW5UeXBlOiBwcm9kLnRlcm1pbmFsVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRva2VuT2NjdXJyZW5jZTogcHJvZC5pZHgsXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogY3VyclJ1bGVTdGFjayxcbiAgICAgICAgICAgICAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBjdXJyT2NjdXJyZW5jZVN0YWNrLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZvdW5kQ29tcGxldGVQYXRoID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwibm9uIGV4aGF1c3RpdmUgbWF0Y2hcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIE5vblRlcm1pbmFsKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdSdWxlU3RhY2sgPSBjbG9uZShjdXJyUnVsZVN0YWNrKTtcbiAgICAgICAgICAgIG5ld1J1bGVTdGFjay5wdXNoKHByb2Qubm9uVGVybWluYWxOYW1lKTtcbiAgICAgICAgICAgIGNvbnN0IG5ld09jY3VycmVuY2VTdGFjayA9IGNsb25lKGN1cnJPY2N1cnJlbmNlU3RhY2spO1xuICAgICAgICAgICAgbmV3T2NjdXJyZW5jZVN0YWNrLnB1c2gocHJvZC5pZHgpO1xuICAgICAgICAgICAgY29uc3QgbmV4dFBhdGggPSB7XG4gICAgICAgICAgICAgICAgaWR4OiBjdXJySWR4LFxuICAgICAgICAgICAgICAgIGRlZjogcHJvZC5kZWZpbml0aW9uLmNvbmNhdChFWElUX05PTl9URVJNSU5BTF9BUlIsIGRyb3AoY3VyckRlZikpLFxuICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogbmV3UnVsZVN0YWNrLFxuICAgICAgICAgICAgICAgIG9jY3VycmVuY2VTdGFjazogbmV3T2NjdXJyZW5jZVN0YWNrLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChuZXh0UGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIE9wdGlvbikge1xuICAgICAgICAgICAgLy8gdGhlIG9yZGVyIG9mIGFsdGVybmF0aXZlcyBpcyBtZWFuaW5nZnVsLCBGSUxPIChMYXN0IHBhdGggd2lsbCBiZSB0cmF2ZXJzZWQgZmlyc3QpLlxuICAgICAgICAgICAgY29uc3QgbmV4dFBhdGhXaXRob3V0ID0ge1xuICAgICAgICAgICAgICAgIGlkeDogY3VycklkeCxcbiAgICAgICAgICAgICAgICBkZWY6IGRyb3AoY3VyckRlZiksXG4gICAgICAgICAgICAgICAgcnVsZVN0YWNrOiBjdXJyUnVsZVN0YWNrLFxuICAgICAgICAgICAgICAgIG9jY3VycmVuY2VTdGFjazogY3Vyck9jY3VycmVuY2VTdGFjayxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2gobmV4dFBhdGhXaXRob3V0KTtcbiAgICAgICAgICAgIC8vIHJlcXVpcmVkIG1hcmtlciB0byBhdm9pZCBiYWNrdHJhY2tpbmcgcGF0aHMgd2hvc2UgaGlnaGVyIHByaW9yaXR5IGFsdGVybmF0aXZlcyBhbHJlYWR5IG1hdGNoZWRcbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChFWElUX0FMVEVSTkFUSVZFKTtcbiAgICAgICAgICAgIGNvbnN0IG5leHRQYXRoV2l0aCA9IHtcbiAgICAgICAgICAgICAgICBpZHg6IGN1cnJJZHgsXG4gICAgICAgICAgICAgICAgZGVmOiBwcm9kLmRlZmluaXRpb24uY29uY2F0KGRyb3AoY3VyckRlZikpLFxuICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogY3VyclJ1bGVTdGFjayxcbiAgICAgICAgICAgICAgICBvY2N1cnJlbmNlU3RhY2s6IGN1cnJPY2N1cnJlbmNlU3RhY2ssXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcG9zc2libGVQYXRocy5wdXNoKG5leHRQYXRoV2l0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb25NYW5kYXRvcnkpIHtcbiAgICAgICAgICAgIC8vIFRPRE86KFRIRSBORVcgb3BlcmF0b3JzIGhlcmUgdGFrZSBhIHdoaWxlLi4uKSAoY29udmVydCBvbmNlPylcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZEl0ZXJhdGlvbiA9IG5ldyBSZXBldGl0aW9uKHtcbiAgICAgICAgICAgICAgICBkZWZpbml0aW9uOiBwcm9kLmRlZmluaXRpb24sXG4gICAgICAgICAgICAgICAgaWR4OiBwcm9kLmlkeCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgbmV4dERlZiA9IHByb2QuZGVmaW5pdGlvbi5jb25jYXQoW3NlY29uZEl0ZXJhdGlvbl0sIGRyb3AoY3VyckRlZikpO1xuICAgICAgICAgICAgY29uc3QgbmV4dFBhdGggPSB7XG4gICAgICAgICAgICAgICAgaWR4OiBjdXJySWR4LFxuICAgICAgICAgICAgICAgIGRlZjogbmV4dERlZixcbiAgICAgICAgICAgICAgICBydWxlU3RhY2s6IGN1cnJSdWxlU3RhY2ssXG4gICAgICAgICAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBjdXJyT2NjdXJyZW5jZVN0YWNrLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChuZXh0UGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yKSB7XG4gICAgICAgICAgICAvLyBUT0RPOihUSEUgTkVXIG9wZXJhdG9ycyBoZXJlIHRha2UgYSB3aGlsZS4uLikgKGNvbnZlcnQgb25jZT8pXG4gICAgICAgICAgICBjb25zdCBzZXBhcmF0b3JHYXN0ID0gbmV3IFRlcm1pbmFsKHtcbiAgICAgICAgICAgICAgICB0ZXJtaW5hbFR5cGU6IHByb2Quc2VwYXJhdG9yLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBzZWNvbmRJdGVyYXRpb24gPSBuZXcgUmVwZXRpdGlvbih7XG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbjogW3NlcGFyYXRvckdhc3RdLmNvbmNhdChwcm9kLmRlZmluaXRpb24pLFxuICAgICAgICAgICAgICAgIGlkeDogcHJvZC5pZHgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IG5leHREZWYgPSBwcm9kLmRlZmluaXRpb24uY29uY2F0KFtzZWNvbmRJdGVyYXRpb25dLCBkcm9wKGN1cnJEZWYpKTtcbiAgICAgICAgICAgIGNvbnN0IG5leHRQYXRoID0ge1xuICAgICAgICAgICAgICAgIGlkeDogY3VycklkeCxcbiAgICAgICAgICAgICAgICBkZWY6IG5leHREZWYsXG4gICAgICAgICAgICAgICAgcnVsZVN0YWNrOiBjdXJyUnVsZVN0YWNrLFxuICAgICAgICAgICAgICAgIG9jY3VycmVuY2VTdGFjazogY3Vyck9jY3VycmVuY2VTdGFjayxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2gobmV4dFBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uV2l0aFNlcGFyYXRvcikge1xuICAgICAgICAgICAgLy8gdGhlIG9yZGVyIG9mIGFsdGVybmF0aXZlcyBpcyBtZWFuaW5nZnVsLCBGSUxPIChMYXN0IHBhdGggd2lsbCBiZSB0cmF2ZXJzZWQgZmlyc3QpLlxuICAgICAgICAgICAgY29uc3QgbmV4dFBhdGhXaXRob3V0ID0ge1xuICAgICAgICAgICAgICAgIGlkeDogY3VycklkeCxcbiAgICAgICAgICAgICAgICBkZWY6IGRyb3AoY3VyckRlZiksXG4gICAgICAgICAgICAgICAgcnVsZVN0YWNrOiBjdXJyUnVsZVN0YWNrLFxuICAgICAgICAgICAgICAgIG9jY3VycmVuY2VTdGFjazogY3Vyck9jY3VycmVuY2VTdGFjayxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2gobmV4dFBhdGhXaXRob3V0KTtcbiAgICAgICAgICAgIC8vIHJlcXVpcmVkIG1hcmtlciB0byBhdm9pZCBiYWNrdHJhY2tpbmcgcGF0aHMgd2hvc2UgaGlnaGVyIHByaW9yaXR5IGFsdGVybmF0aXZlcyBhbHJlYWR5IG1hdGNoZWRcbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChFWElUX0FMVEVSTkFUSVZFKTtcbiAgICAgICAgICAgIGNvbnN0IHNlcGFyYXRvckdhc3QgPSBuZXcgVGVybWluYWwoe1xuICAgICAgICAgICAgICAgIHRlcm1pbmFsVHlwZTogcHJvZC5zZXBhcmF0b3IsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IG50aFJlcGV0aXRpb24gPSBuZXcgUmVwZXRpdGlvbih7XG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbjogW3NlcGFyYXRvckdhc3RdLmNvbmNhdChwcm9kLmRlZmluaXRpb24pLFxuICAgICAgICAgICAgICAgIGlkeDogcHJvZC5pZHgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IG5leHREZWYgPSBwcm9kLmRlZmluaXRpb24uY29uY2F0KFtudGhSZXBldGl0aW9uXSwgZHJvcChjdXJyRGVmKSk7XG4gICAgICAgICAgICBjb25zdCBuZXh0UGF0aFdpdGggPSB7XG4gICAgICAgICAgICAgICAgaWR4OiBjdXJySWR4LFxuICAgICAgICAgICAgICAgIGRlZjogbmV4dERlZixcbiAgICAgICAgICAgICAgICBydWxlU3RhY2s6IGN1cnJSdWxlU3RhY2ssXG4gICAgICAgICAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBjdXJyT2NjdXJyZW5jZVN0YWNrLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChuZXh0UGF0aFdpdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uKSB7XG4gICAgICAgICAgICAvLyB0aGUgb3JkZXIgb2YgYWx0ZXJuYXRpdmVzIGlzIG1lYW5pbmdmdWwsIEZJTE8gKExhc3QgcGF0aCB3aWxsIGJlIHRyYXZlcnNlZCBmaXJzdCkuXG4gICAgICAgICAgICBjb25zdCBuZXh0UGF0aFdpdGhvdXQgPSB7XG4gICAgICAgICAgICAgICAgaWR4OiBjdXJySWR4LFxuICAgICAgICAgICAgICAgIGRlZjogZHJvcChjdXJyRGVmKSxcbiAgICAgICAgICAgICAgICBydWxlU3RhY2s6IGN1cnJSdWxlU3RhY2ssXG4gICAgICAgICAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBjdXJyT2NjdXJyZW5jZVN0YWNrLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChuZXh0UGF0aFdpdGhvdXQpO1xuICAgICAgICAgICAgLy8gcmVxdWlyZWQgbWFya2VyIHRvIGF2b2lkIGJhY2t0cmFja2luZyBwYXRocyB3aG9zZSBoaWdoZXIgcHJpb3JpdHkgYWx0ZXJuYXRpdmVzIGFscmVhZHkgbWF0Y2hlZFxuICAgICAgICAgICAgcG9zc2libGVQYXRocy5wdXNoKEVYSVRfQUxURVJOQVRJVkUpO1xuICAgICAgICAgICAgLy8gVE9ETzogYW4gZW1wdHkgcmVwZXRpdGlvbiB3aWxsIGNhdXNlIGluZmluaXRlIGxvb3BzIGhlcmUsIHdpbGwgdGhlIHBhcnNlciBkZXRlY3QgdGhpcyBpbiBzZWxmQW5hbHlzaXM/XG4gICAgICAgICAgICBjb25zdCBudGhSZXBldGl0aW9uID0gbmV3IFJlcGV0aXRpb24oe1xuICAgICAgICAgICAgICAgIGRlZmluaXRpb246IHByb2QuZGVmaW5pdGlvbixcbiAgICAgICAgICAgICAgICBpZHg6IHByb2QuaWR4LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBuZXh0RGVmID0gcHJvZC5kZWZpbml0aW9uLmNvbmNhdChbbnRoUmVwZXRpdGlvbl0sIGRyb3AoY3VyckRlZikpO1xuICAgICAgICAgICAgY29uc3QgbmV4dFBhdGhXaXRoID0ge1xuICAgICAgICAgICAgICAgIGlkeDogY3VycklkeCxcbiAgICAgICAgICAgICAgICBkZWY6IG5leHREZWYsXG4gICAgICAgICAgICAgICAgcnVsZVN0YWNrOiBjdXJyUnVsZVN0YWNrLFxuICAgICAgICAgICAgICAgIG9jY3VycmVuY2VTdGFjazogY3Vyck9jY3VycmVuY2VTdGFjayxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2gobmV4dFBhdGhXaXRoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgQWx0ZXJuYXRpb24pIHtcbiAgICAgICAgICAgIC8vIHRoZSBvcmRlciBvZiBhbHRlcm5hdGl2ZXMgaXMgbWVhbmluZ2Z1bCwgRklMTyAoTGFzdCBwYXRoIHdpbGwgYmUgdHJhdmVyc2VkIGZpcnN0KS5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBwcm9kLmRlZmluaXRpb24ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyQWx0ID0gcHJvZC5kZWZpbml0aW9uW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJBbHRQYXRoID0ge1xuICAgICAgICAgICAgICAgICAgICBpZHg6IGN1cnJJZHgsXG4gICAgICAgICAgICAgICAgICAgIGRlZjogY3VyckFsdC5kZWZpbml0aW9uLmNvbmNhdChkcm9wKGN1cnJEZWYpKSxcbiAgICAgICAgICAgICAgICAgICAgcnVsZVN0YWNrOiBjdXJyUnVsZVN0YWNrLFxuICAgICAgICAgICAgICAgICAgICBvY2N1cnJlbmNlU3RhY2s6IGN1cnJPY2N1cnJlbmNlU3RhY2ssXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2goY3VyckFsdFBhdGgpO1xuICAgICAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChFWElUX0FMVEVSTkFUSVZFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgQWx0ZXJuYXRpdmUpIHtcbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaCh7XG4gICAgICAgICAgICAgICAgaWR4OiBjdXJySWR4LFxuICAgICAgICAgICAgICAgIGRlZjogcHJvZC5kZWZpbml0aW9uLmNvbmNhdChkcm9wKGN1cnJEZWYpKSxcbiAgICAgICAgICAgICAgICBydWxlU3RhY2s6IGN1cnJSdWxlU3RhY2ssXG4gICAgICAgICAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBjdXJyT2NjdXJyZW5jZVN0YWNrLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFJ1bGUpIHtcbiAgICAgICAgICAgIC8vIGxhc3QgYmVjYXVzZSB3ZSBzaG91bGQgb25seSBlbmNvdW50ZXIgYXQgbW9zdCBhIHNpbmdsZSBvbmUgb2YgdGhlc2UgcGVyIGludm9jYXRpb24uXG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2goZXhwYW5kVG9wTGV2ZWxSdWxlKHByb2QsIGN1cnJJZHgsIGN1cnJSdWxlU3RhY2ssIGN1cnJPY2N1cnJlbmNlU3RhY2spKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwibm9uIGV4aGF1c3RpdmUgbWF0Y2hcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGV4cGFuZFRvcExldmVsUnVsZSh0b3BSdWxlLCBjdXJySWR4LCBjdXJyUnVsZVN0YWNrLCBjdXJyT2NjdXJyZW5jZVN0YWNrKSB7XG4gICAgY29uc3QgbmV3UnVsZVN0YWNrID0gY2xvbmUoY3VyclJ1bGVTdGFjayk7XG4gICAgbmV3UnVsZVN0YWNrLnB1c2godG9wUnVsZS5uYW1lKTtcbiAgICBjb25zdCBuZXdDdXJyT2NjdXJyZW5jZVN0YWNrID0gY2xvbmUoY3Vyck9jY3VycmVuY2VTdGFjayk7XG4gICAgLy8gdG9wIHJ1bGUgaXMgYWx3YXlzIGFzc3VtZWQgdG8gaGF2ZSBiZWVuIGNhbGxlZCB3aXRoIG9jY3VycmVuY2UgaW5kZXggMVxuICAgIG5ld0N1cnJPY2N1cnJlbmNlU3RhY2sucHVzaCgxKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBpZHg6IGN1cnJJZHgsXG4gICAgICAgIGRlZjogdG9wUnVsZS5kZWZpbml0aW9uLFxuICAgICAgICBydWxlU3RhY2s6IG5ld1J1bGVTdGFjayxcbiAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBuZXdDdXJyT2NjdXJyZW5jZVN0YWNrLFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcnByZXRlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/interpreter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/keys.js":
/*!***************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/parse/grammar/keys.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AT_LEAST_ONE_IDX: () => (/* binding */ AT_LEAST_ONE_IDX),\n/* harmony export */   AT_LEAST_ONE_SEP_IDX: () => (/* binding */ AT_LEAST_ONE_SEP_IDX),\n/* harmony export */   BITS_FOR_ALT_IDX: () => (/* binding */ BITS_FOR_ALT_IDX),\n/* harmony export */   BITS_FOR_METHOD_TYPE: () => (/* binding */ BITS_FOR_METHOD_TYPE),\n/* harmony export */   BITS_FOR_OCCURRENCE_IDX: () => (/* binding */ BITS_FOR_OCCURRENCE_IDX),\n/* harmony export */   BITS_FOR_RULE_IDX: () => (/* binding */ BITS_FOR_RULE_IDX),\n/* harmony export */   MANY_IDX: () => (/* binding */ MANY_IDX),\n/* harmony export */   MANY_SEP_IDX: () => (/* binding */ MANY_SEP_IDX),\n/* harmony export */   OPTION_IDX: () => (/* binding */ OPTION_IDX),\n/* harmony export */   OR_IDX: () => (/* binding */ OR_IDX),\n/* harmony export */   getKeyForAutomaticLookahead: () => (/* binding */ getKeyForAutomaticLookahead)\n/* harmony export */ });\n// Lookahead keys are 32Bit integers in the form\n// TTTTTTTT-ZZZZZZZZZZZZ-YYYY-XXXXXXXX\n// XXXX -> Occurrence Index bitmap.\n// YYYY -> DSL Method Type bitmap.\n// ZZZZZZZZZZZZZZZ -> Rule short Index bitmap.\n// TTTTTTTTT -> alternation alternative index bitmap\nconst BITS_FOR_METHOD_TYPE = 4;\nconst BITS_FOR_OCCURRENCE_IDX = 8;\nconst BITS_FOR_RULE_IDX = 12;\n// TODO: validation, this means that there may at most 2^8 --> 256 alternatives for an alternation.\nconst BITS_FOR_ALT_IDX = 8;\n// short string used as part of mapping keys.\n// being short improves the performance when composing KEYS for maps out of these\n// The 5 - 8 bits (16 possible values, are reserved for the DSL method indices)\nconst OR_IDX = 1 << BITS_FOR_OCCURRENCE_IDX;\nconst OPTION_IDX = 2 << BITS_FOR_OCCURRENCE_IDX;\nconst MANY_IDX = 3 << BITS_FOR_OCCURRENCE_IDX;\nconst AT_LEAST_ONE_IDX = 4 << BITS_FOR_OCCURRENCE_IDX;\nconst MANY_SEP_IDX = 5 << BITS_FOR_OCCURRENCE_IDX;\nconst AT_LEAST_ONE_SEP_IDX = 6 << BITS_FOR_OCCURRENCE_IDX;\n// this actually returns a number, but it is always used as a string (object prop key)\nfunction getKeyForAutomaticLookahead(ruleIdx, dslMethodIdx, occurrence) {\n    return occurrence | dslMethodIdx | ruleIdx;\n}\nconst BITS_START_FOR_ALT_IDX = 32 - BITS_FOR_ALT_IDX;\n//# sourceMappingURL=keys.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL2dyYW1tYXIva2V5cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ0E7QUFDQTtBQUNQO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDUDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXJtYWlkLWRpYWdyYW0tZWRpdG9yLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy9wYXJzZS9ncmFtbWFyL2tleXMuanM/NzI4MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMb29rYWhlYWQga2V5cyBhcmUgMzJCaXQgaW50ZWdlcnMgaW4gdGhlIGZvcm1cbi8vIFRUVFRUVFRULVpaWlpaWlpaWlpaWi1ZWVlZLVhYWFhYWFhYXG4vLyBYWFhYIC0+IE9jY3VycmVuY2UgSW5kZXggYml0bWFwLlxuLy8gWVlZWSAtPiBEU0wgTWV0aG9kIFR5cGUgYml0bWFwLlxuLy8gWlpaWlpaWlpaWlpaWlpaIC0+IFJ1bGUgc2hvcnQgSW5kZXggYml0bWFwLlxuLy8gVFRUVFRUVFRUIC0+IGFsdGVybmF0aW9uIGFsdGVybmF0aXZlIGluZGV4IGJpdG1hcFxuZXhwb3J0IGNvbnN0IEJJVFNfRk9SX01FVEhPRF9UWVBFID0gNDtcbmV4cG9ydCBjb25zdCBCSVRTX0ZPUl9PQ0NVUlJFTkNFX0lEWCA9IDg7XG5leHBvcnQgY29uc3QgQklUU19GT1JfUlVMRV9JRFggPSAxMjtcbi8vIFRPRE86IHZhbGlkYXRpb24sIHRoaXMgbWVhbnMgdGhhdCB0aGVyZSBtYXkgYXQgbW9zdCAyXjggLS0+IDI1NiBhbHRlcm5hdGl2ZXMgZm9yIGFuIGFsdGVybmF0aW9uLlxuZXhwb3J0IGNvbnN0IEJJVFNfRk9SX0FMVF9JRFggPSA4O1xuLy8gc2hvcnQgc3RyaW5nIHVzZWQgYXMgcGFydCBvZiBtYXBwaW5nIGtleXMuXG4vLyBiZWluZyBzaG9ydCBpbXByb3ZlcyB0aGUgcGVyZm9ybWFuY2Ugd2hlbiBjb21wb3NpbmcgS0VZUyBmb3IgbWFwcyBvdXQgb2YgdGhlc2Vcbi8vIFRoZSA1IC0gOCBiaXRzICgxNiBwb3NzaWJsZSB2YWx1ZXMsIGFyZSByZXNlcnZlZCBmb3IgdGhlIERTTCBtZXRob2QgaW5kaWNlcylcbmV4cG9ydCBjb25zdCBPUl9JRFggPSAxIDw8IEJJVFNfRk9SX09DQ1VSUkVOQ0VfSURYO1xuZXhwb3J0IGNvbnN0IE9QVElPTl9JRFggPSAyIDw8IEJJVFNfRk9SX09DQ1VSUkVOQ0VfSURYO1xuZXhwb3J0IGNvbnN0IE1BTllfSURYID0gMyA8PCBCSVRTX0ZPUl9PQ0NVUlJFTkNFX0lEWDtcbmV4cG9ydCBjb25zdCBBVF9MRUFTVF9PTkVfSURYID0gNCA8PCBCSVRTX0ZPUl9PQ0NVUlJFTkNFX0lEWDtcbmV4cG9ydCBjb25zdCBNQU5ZX1NFUF9JRFggPSA1IDw8IEJJVFNfRk9SX09DQ1VSUkVOQ0VfSURYO1xuZXhwb3J0IGNvbnN0IEFUX0xFQVNUX09ORV9TRVBfSURYID0gNiA8PCBCSVRTX0ZPUl9PQ0NVUlJFTkNFX0lEWDtcbi8vIHRoaXMgYWN0dWFsbHkgcmV0dXJucyBhIG51bWJlciwgYnV0IGl0IGlzIGFsd2F5cyB1c2VkIGFzIGEgc3RyaW5nIChvYmplY3QgcHJvcCBrZXkpXG5leHBvcnQgZnVuY3Rpb24gZ2V0S2V5Rm9yQXV0b21hdGljTG9va2FoZWFkKHJ1bGVJZHgsIGRzbE1ldGhvZElkeCwgb2NjdXJyZW5jZSkge1xuICAgIHJldHVybiBvY2N1cnJlbmNlIHwgZHNsTWV0aG9kSWR4IHwgcnVsZUlkeDtcbn1cbmNvbnN0IEJJVFNfU1RBUlRfRk9SX0FMVF9JRFggPSAzMiAtIEJJVFNfRk9SX0FMVF9JRFg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1rZXlzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/keys.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/llk_lookahead.js":
/*!************************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/parse/grammar/llk_lookahead.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LLkLookaheadStrategy: () => (/* binding */ LLkLookaheadStrategy)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isEmpty.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/flatMap.js\");\n/* harmony import */ var _errors_public_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors_public.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/errors_public.js\");\n/* harmony import */ var _parser_parser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parser/parser.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/parser/parser.js\");\n/* harmony import */ var _checks_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./checks.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/checks.js\");\n/* harmony import */ var _lookahead_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lookahead.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/lookahead.js\");\n\n\n\n\n\nclass LLkLookaheadStrategy {\n    constructor(options) {\n        var _a;\n        this.maxLookahead =\n            (_a = options === null || options === void 0 ? void 0 : options.maxLookahead) !== null && _a !== void 0 ? _a : _parser_parser_js__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_PARSER_CONFIG.maxLookahead;\n    }\n    validate(options) {\n        const leftRecursionErrors = this.validateNoLeftRecursion(options.rules);\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(leftRecursionErrors)) {\n            const emptyAltErrors = this.validateEmptyOrAlternatives(options.rules);\n            const ambiguousAltsErrors = this.validateAmbiguousAlternationAlternatives(options.rules, this.maxLookahead);\n            const emptyRepetitionErrors = this.validateSomeNonEmptyLookaheadPath(options.rules, this.maxLookahead);\n            const allErrors = [\n                ...leftRecursionErrors,\n                ...emptyAltErrors,\n                ...ambiguousAltsErrors,\n                ...emptyRepetitionErrors,\n            ];\n            return allErrors;\n        }\n        return leftRecursionErrors;\n    }\n    validateNoLeftRecursion(rules) {\n        return (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(rules, (currTopRule) => (0,_checks_js__WEBPACK_IMPORTED_MODULE_2__.validateNoLeftRecursion)(currTopRule, currTopRule, _errors_public_js__WEBPACK_IMPORTED_MODULE_0__.defaultGrammarValidatorErrorProvider));\n    }\n    validateEmptyOrAlternatives(rules) {\n        return (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(rules, (currTopRule) => (0,_checks_js__WEBPACK_IMPORTED_MODULE_2__.validateEmptyOrAlternative)(currTopRule, _errors_public_js__WEBPACK_IMPORTED_MODULE_0__.defaultGrammarValidatorErrorProvider));\n    }\n    validateAmbiguousAlternationAlternatives(rules, maxLookahead) {\n        return (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(rules, (currTopRule) => (0,_checks_js__WEBPACK_IMPORTED_MODULE_2__.validateAmbiguousAlternationAlternatives)(currTopRule, maxLookahead, _errors_public_js__WEBPACK_IMPORTED_MODULE_0__.defaultGrammarValidatorErrorProvider));\n    }\n    validateSomeNonEmptyLookaheadPath(rules, maxLookahead) {\n        return (0,_checks_js__WEBPACK_IMPORTED_MODULE_2__.validateSomeNonEmptyLookaheadPath)(rules, maxLookahead, _errors_public_js__WEBPACK_IMPORTED_MODULE_0__.defaultGrammarValidatorErrorProvider);\n    }\n    buildLookaheadForAlternation(options) {\n        return (0,_lookahead_js__WEBPACK_IMPORTED_MODULE_3__.buildLookaheadFuncForOr)(options.prodOccurrence, options.rule, options.maxLookahead, options.hasPredicates, options.dynamicTokensEnabled, _lookahead_js__WEBPACK_IMPORTED_MODULE_3__.buildAlternativesLookAheadFunc);\n    }\n    buildLookaheadForOptional(options) {\n        return (0,_lookahead_js__WEBPACK_IMPORTED_MODULE_3__.buildLookaheadFuncForOptionalProd)(options.prodOccurrence, options.rule, options.maxLookahead, options.dynamicTokensEnabled, (0,_lookahead_js__WEBPACK_IMPORTED_MODULE_3__.getProdType)(options.prodType), _lookahead_js__WEBPACK_IMPORTED_MODULE_3__.buildSingleAlternativeLookaheadFunction);\n    }\n}\n//# sourceMappingURL=llk_lookahead.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL2dyYW1tYXIvbGxrX2xvb2thaGVhZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTZDO0FBQzhCO0FBQ2Y7QUFDb0c7QUFDbUI7QUFDNUs7QUFDUDtBQUNBO0FBQ0E7QUFDQSwySEFBMkgsb0VBQXFCO0FBQ2hKO0FBQ0E7QUFDQTtBQUNBLFlBQVkscURBQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUscURBQU8seUJBQXlCLG1FQUF1QiwyQkFBMkIsbUZBQW9DO0FBQ3JJO0FBQ0E7QUFDQSxlQUFlLHFEQUFPLHlCQUF5QixzRUFBMEIsY0FBYyxtRkFBb0M7QUFDM0g7QUFDQTtBQUNBLGVBQWUscURBQU8seUJBQXlCLG9GQUF3Qyw0QkFBNEIsbUZBQW9DO0FBQ3ZKO0FBQ0E7QUFDQSxlQUFlLDZFQUFpQyxzQkFBc0IsbUZBQW9DO0FBQzFHO0FBQ0E7QUFDQSxlQUFlLHNFQUF1QixrSEFBa0gseUVBQThCO0FBQ3RMO0FBQ0E7QUFDQSxlQUFlLGdGQUFpQywyRkFBMkYsMERBQVcsb0JBQW9CLGtGQUF1QztBQUNqTjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXJtYWlkLWRpYWdyYW0tZWRpdG9yLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy9wYXJzZS9ncmFtbWFyL2xsa19sb29rYWhlYWQuanM/ZTBlNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmbGF0TWFwLCBpc0VtcHR5IH0gZnJvbSBcImxvZGFzaC1lc1wiO1xuaW1wb3J0IHsgZGVmYXVsdEdyYW1tYXJWYWxpZGF0b3JFcnJvclByb3ZpZGVyIH0gZnJvbSBcIi4uL2Vycm9yc19wdWJsaWMuanNcIjtcbmltcG9ydCB7IERFRkFVTFRfUEFSU0VSX0NPTkZJRyB9IGZyb20gXCIuLi9wYXJzZXIvcGFyc2VyLmpzXCI7XG5pbXBvcnQgeyB2YWxpZGF0ZUFtYmlndW91c0FsdGVybmF0aW9uQWx0ZXJuYXRpdmVzLCB2YWxpZGF0ZUVtcHR5T3JBbHRlcm5hdGl2ZSwgdmFsaWRhdGVOb0xlZnRSZWN1cnNpb24sIHZhbGlkYXRlU29tZU5vbkVtcHR5TG9va2FoZWFkUGF0aCwgfSBmcm9tIFwiLi9jaGVja3MuanNcIjtcbmltcG9ydCB7IGJ1aWxkQWx0ZXJuYXRpdmVzTG9va0FoZWFkRnVuYywgYnVpbGRMb29rYWhlYWRGdW5jRm9yT3B0aW9uYWxQcm9kLCBidWlsZExvb2thaGVhZEZ1bmNGb3JPciwgYnVpbGRTaW5nbGVBbHRlcm5hdGl2ZUxvb2thaGVhZEZ1bmN0aW9uLCBnZXRQcm9kVHlwZSwgfSBmcm9tIFwiLi9sb29rYWhlYWQuanNcIjtcbmV4cG9ydCBjbGFzcyBMTGtMb29rYWhlYWRTdHJhdGVneSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMubWF4TG9va2FoZWFkID1cbiAgICAgICAgICAgIChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5tYXhMb29rYWhlYWQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IERFRkFVTFRfUEFSU0VSX0NPTkZJRy5tYXhMb29rYWhlYWQ7XG4gICAgfVxuICAgIHZhbGlkYXRlKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgbGVmdFJlY3Vyc2lvbkVycm9ycyA9IHRoaXMudmFsaWRhdGVOb0xlZnRSZWN1cnNpb24ob3B0aW9ucy5ydWxlcyk7XG4gICAgICAgIGlmIChpc0VtcHR5KGxlZnRSZWN1cnNpb25FcnJvcnMpKSB7XG4gICAgICAgICAgICBjb25zdCBlbXB0eUFsdEVycm9ycyA9IHRoaXMudmFsaWRhdGVFbXB0eU9yQWx0ZXJuYXRpdmVzKG9wdGlvbnMucnVsZXMpO1xuICAgICAgICAgICAgY29uc3QgYW1iaWd1b3VzQWx0c0Vycm9ycyA9IHRoaXMudmFsaWRhdGVBbWJpZ3VvdXNBbHRlcm5hdGlvbkFsdGVybmF0aXZlcyhvcHRpb25zLnJ1bGVzLCB0aGlzLm1heExvb2thaGVhZCk7XG4gICAgICAgICAgICBjb25zdCBlbXB0eVJlcGV0aXRpb25FcnJvcnMgPSB0aGlzLnZhbGlkYXRlU29tZU5vbkVtcHR5TG9va2FoZWFkUGF0aChvcHRpb25zLnJ1bGVzLCB0aGlzLm1heExvb2thaGVhZCk7XG4gICAgICAgICAgICBjb25zdCBhbGxFcnJvcnMgPSBbXG4gICAgICAgICAgICAgICAgLi4ubGVmdFJlY3Vyc2lvbkVycm9ycyxcbiAgICAgICAgICAgICAgICAuLi5lbXB0eUFsdEVycm9ycyxcbiAgICAgICAgICAgICAgICAuLi5hbWJpZ3VvdXNBbHRzRXJyb3JzLFxuICAgICAgICAgICAgICAgIC4uLmVtcHR5UmVwZXRpdGlvbkVycm9ycyxcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICByZXR1cm4gYWxsRXJyb3JzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsZWZ0UmVjdXJzaW9uRXJyb3JzO1xuICAgIH1cbiAgICB2YWxpZGF0ZU5vTGVmdFJlY3Vyc2lvbihydWxlcykge1xuICAgICAgICByZXR1cm4gZmxhdE1hcChydWxlcywgKGN1cnJUb3BSdWxlKSA9PiB2YWxpZGF0ZU5vTGVmdFJlY3Vyc2lvbihjdXJyVG9wUnVsZSwgY3VyclRvcFJ1bGUsIGRlZmF1bHRHcmFtbWFyVmFsaWRhdG9yRXJyb3JQcm92aWRlcikpO1xuICAgIH1cbiAgICB2YWxpZGF0ZUVtcHR5T3JBbHRlcm5hdGl2ZXMocnVsZXMpIHtcbiAgICAgICAgcmV0dXJuIGZsYXRNYXAocnVsZXMsIChjdXJyVG9wUnVsZSkgPT4gdmFsaWRhdGVFbXB0eU9yQWx0ZXJuYXRpdmUoY3VyclRvcFJ1bGUsIGRlZmF1bHRHcmFtbWFyVmFsaWRhdG9yRXJyb3JQcm92aWRlcikpO1xuICAgIH1cbiAgICB2YWxpZGF0ZUFtYmlndW91c0FsdGVybmF0aW9uQWx0ZXJuYXRpdmVzKHJ1bGVzLCBtYXhMb29rYWhlYWQpIHtcbiAgICAgICAgcmV0dXJuIGZsYXRNYXAocnVsZXMsIChjdXJyVG9wUnVsZSkgPT4gdmFsaWRhdGVBbWJpZ3VvdXNBbHRlcm5hdGlvbkFsdGVybmF0aXZlcyhjdXJyVG9wUnVsZSwgbWF4TG9va2FoZWFkLCBkZWZhdWx0R3JhbW1hclZhbGlkYXRvckVycm9yUHJvdmlkZXIpKTtcbiAgICB9XG4gICAgdmFsaWRhdGVTb21lTm9uRW1wdHlMb29rYWhlYWRQYXRoKHJ1bGVzLCBtYXhMb29rYWhlYWQpIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlU29tZU5vbkVtcHR5TG9va2FoZWFkUGF0aChydWxlcywgbWF4TG9va2FoZWFkLCBkZWZhdWx0R3JhbW1hclZhbGlkYXRvckVycm9yUHJvdmlkZXIpO1xuICAgIH1cbiAgICBidWlsZExvb2thaGVhZEZvckFsdGVybmF0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGJ1aWxkTG9va2FoZWFkRnVuY0Zvck9yKG9wdGlvbnMucHJvZE9jY3VycmVuY2UsIG9wdGlvbnMucnVsZSwgb3B0aW9ucy5tYXhMb29rYWhlYWQsIG9wdGlvbnMuaGFzUHJlZGljYXRlcywgb3B0aW9ucy5keW5hbWljVG9rZW5zRW5hYmxlZCwgYnVpbGRBbHRlcm5hdGl2ZXNMb29rQWhlYWRGdW5jKTtcbiAgICB9XG4gICAgYnVpbGRMb29rYWhlYWRGb3JPcHRpb25hbChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBidWlsZExvb2thaGVhZEZ1bmNGb3JPcHRpb25hbFByb2Qob3B0aW9ucy5wcm9kT2NjdXJyZW5jZSwgb3B0aW9ucy5ydWxlLCBvcHRpb25zLm1heExvb2thaGVhZCwgb3B0aW9ucy5keW5hbWljVG9rZW5zRW5hYmxlZCwgZ2V0UHJvZFR5cGUob3B0aW9ucy5wcm9kVHlwZSksIGJ1aWxkU2luZ2xlQWx0ZXJuYXRpdmVMb29rYWhlYWRGdW5jdGlvbik7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGxrX2xvb2thaGVhZC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/llk_lookahead.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/lookahead.js":
/*!********************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/parse/grammar/lookahead.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PROD_TYPE: () => (/* binding */ PROD_TYPE),\n/* harmony export */   areTokenCategoriesNotUsed: () => (/* binding */ areTokenCategoriesNotUsed),\n/* harmony export */   buildAlternativesLookAheadFunc: () => (/* binding */ buildAlternativesLookAheadFunc),\n/* harmony export */   buildLookaheadFuncForOptionalProd: () => (/* binding */ buildLookaheadFuncForOptionalProd),\n/* harmony export */   buildLookaheadFuncForOr: () => (/* binding */ buildLookaheadFuncForOr),\n/* harmony export */   buildSingleAlternativeLookaheadFunction: () => (/* binding */ buildSingleAlternativeLookaheadFunction),\n/* harmony export */   containsPath: () => (/* binding */ containsPath),\n/* harmony export */   getLookaheadPaths: () => (/* binding */ getLookaheadPaths),\n/* harmony export */   getLookaheadPathsForOptionalProd: () => (/* binding */ getLookaheadPathsForOptionalProd),\n/* harmony export */   getLookaheadPathsForOr: () => (/* binding */ getLookaheadPathsForOr),\n/* harmony export */   getProdType: () => (/* binding */ getProdType),\n/* harmony export */   isStrictPrefixOfPath: () => (/* binding */ isStrictPrefixOfPath),\n/* harmony export */   lookAheadSequenceFromAlternatives: () => (/* binding */ lookAheadSequenceFromAlternatives)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/every.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/map.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/flatten.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/reduce.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/forEach.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/has.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isEmpty.js\");\n/* harmony import */ var _interpreter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./interpreter.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/interpreter.js\");\n/* harmony import */ var _rest_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rest.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/rest.js\");\n/* harmony import */ var _scan_tokens_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../scan/tokens.js */ \"(ssr)/./node_modules/chevrotain/lib/src/scan/tokens.js\");\n/* harmony import */ var _chevrotain_gast__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chevrotain/gast */ \"(ssr)/./node_modules/@chevrotain/gast/lib/src/api.js\");\n\n\n\n\n\nvar PROD_TYPE;\n(function (PROD_TYPE) {\n    PROD_TYPE[PROD_TYPE[\"OPTION\"] = 0] = \"OPTION\";\n    PROD_TYPE[PROD_TYPE[\"REPETITION\"] = 1] = \"REPETITION\";\n    PROD_TYPE[PROD_TYPE[\"REPETITION_MANDATORY\"] = 2] = \"REPETITION_MANDATORY\";\n    PROD_TYPE[PROD_TYPE[\"REPETITION_MANDATORY_WITH_SEPARATOR\"] = 3] = \"REPETITION_MANDATORY_WITH_SEPARATOR\";\n    PROD_TYPE[PROD_TYPE[\"REPETITION_WITH_SEPARATOR\"] = 4] = \"REPETITION_WITH_SEPARATOR\";\n    PROD_TYPE[PROD_TYPE[\"ALTERNATION\"] = 5] = \"ALTERNATION\";\n})(PROD_TYPE || (PROD_TYPE = {}));\nfunction getProdType(prod) {\n    /* istanbul ignore else */\n    if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_3__.Option || prod === \"Option\") {\n        return PROD_TYPE.OPTION;\n    }\n    else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_3__.Repetition || prod === \"Repetition\") {\n        return PROD_TYPE.REPETITION;\n    }\n    else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_3__.RepetitionMandatory ||\n        prod === \"RepetitionMandatory\") {\n        return PROD_TYPE.REPETITION_MANDATORY;\n    }\n    else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_3__.RepetitionMandatoryWithSeparator ||\n        prod === \"RepetitionMandatoryWithSeparator\") {\n        return PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR;\n    }\n    else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_3__.RepetitionWithSeparator ||\n        prod === \"RepetitionWithSeparator\") {\n        return PROD_TYPE.REPETITION_WITH_SEPARATOR;\n    }\n    else if (prod instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_3__.Alternation || prod === \"Alternation\") {\n        return PROD_TYPE.ALTERNATION;\n    }\n    else {\n        throw Error(\"non exhaustive match\");\n    }\n}\nfunction getLookaheadPaths(options) {\n    const { occurrence, rule, prodType, maxLookahead } = options;\n    const type = getProdType(prodType);\n    if (type === PROD_TYPE.ALTERNATION) {\n        return getLookaheadPathsForOr(occurrence, rule, maxLookahead);\n    }\n    else {\n        return getLookaheadPathsForOptionalProd(occurrence, rule, type, maxLookahead);\n    }\n}\nfunction buildLookaheadFuncForOr(occurrence, ruleGrammar, maxLookahead, hasPredicates, dynamicTokensEnabled, laFuncBuilder) {\n    const lookAheadPaths = getLookaheadPathsForOr(occurrence, ruleGrammar, maxLookahead);\n    const tokenMatcher = areTokenCategoriesNotUsed(lookAheadPaths)\n        ? _scan_tokens_js__WEBPACK_IMPORTED_MODULE_2__.tokenStructuredMatcherNoCategories\n        : _scan_tokens_js__WEBPACK_IMPORTED_MODULE_2__.tokenStructuredMatcher;\n    return laFuncBuilder(lookAheadPaths, hasPredicates, tokenMatcher, dynamicTokensEnabled);\n}\n/**\n *  When dealing with an Optional production (OPTION/MANY/2nd iteration of AT_LEAST_ONE/...) we need to compare\n *  the lookahead \"inside\" the production and the lookahead immediately \"after\" it in the same top level rule (context free).\n *\n *  Example: given a production:\n *  ABC(DE)?DF\n *\n *  The optional '(DE)?' should only be entered if we see 'DE'. a single Token 'D' is not sufficient to distinguish between the two\n *  alternatives.\n *\n *  @returns A Lookahead function which will return true IFF the parser should parse the Optional production.\n */\nfunction buildLookaheadFuncForOptionalProd(occurrence, ruleGrammar, k, dynamicTokensEnabled, prodType, lookaheadBuilder) {\n    const lookAheadPaths = getLookaheadPathsForOptionalProd(occurrence, ruleGrammar, prodType, k);\n    const tokenMatcher = areTokenCategoriesNotUsed(lookAheadPaths)\n        ? _scan_tokens_js__WEBPACK_IMPORTED_MODULE_2__.tokenStructuredMatcherNoCategories\n        : _scan_tokens_js__WEBPACK_IMPORTED_MODULE_2__.tokenStructuredMatcher;\n    return lookaheadBuilder(lookAheadPaths[0], tokenMatcher, dynamicTokensEnabled);\n}\nfunction buildAlternativesLookAheadFunc(alts, hasPredicates, tokenMatcher, dynamicTokensEnabled) {\n    const numOfAlts = alts.length;\n    const areAllOneTokenLookahead = (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(alts, (currAlt) => {\n        return (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(currAlt, (currPath) => {\n            return currPath.length === 1;\n        });\n    });\n    // This version takes into account the predicates as well.\n    if (hasPredicates) {\n        /**\n         * @returns {number} - The chosen alternative index\n         */\n        return function (orAlts) {\n            // unfortunately the predicates must be extracted every single time\n            // as they cannot be cached due to references to parameters(vars) which are no longer valid.\n            // note that in the common case of no predicates, no cpu time will be wasted on this (see else block)\n            const predicates = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(orAlts, (currAlt) => currAlt.GATE);\n            for (let t = 0; t < numOfAlts; t++) {\n                const currAlt = alts[t];\n                const currNumOfPaths = currAlt.length;\n                const currPredicate = predicates[t];\n                if (currPredicate !== undefined && currPredicate.call(this) === false) {\n                    // if the predicate does not match there is no point in checking the paths\n                    continue;\n                }\n                nextPath: for (let j = 0; j < currNumOfPaths; j++) {\n                    const currPath = currAlt[j];\n                    const currPathLength = currPath.length;\n                    for (let i = 0; i < currPathLength; i++) {\n                        const nextToken = this.LA(i + 1);\n                        if (tokenMatcher(nextToken, currPath[i]) === false) {\n                            // mismatch in current path\n                            // try the next pth\n                            continue nextPath;\n                        }\n                    }\n                    // found a full path that matches.\n                    // this will also work for an empty ALT as the loop will be skipped\n                    return t;\n                }\n                // none of the paths for the current alternative matched\n                // try the next alternative\n            }\n            // none of the alternatives could be matched\n            return undefined;\n        };\n    }\n    else if (areAllOneTokenLookahead && !dynamicTokensEnabled) {\n        // optimized (common) case of all the lookaheads paths requiring only\n        // a single token lookahead. These Optimizations cannot work if dynamically defined Tokens are used.\n        const singleTokenAlts = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(alts, (currAlt) => {\n            return (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currAlt);\n        });\n        const choiceToAlt = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(singleTokenAlts, (result, currAlt, idx) => {\n            (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(currAlt, (currTokType) => {\n                if (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(result, currTokType.tokenTypeIdx)) {\n                    result[currTokType.tokenTypeIdx] = idx;\n                }\n                (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(currTokType.categoryMatches, (currExtendingType) => {\n                    if (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(result, currExtendingType)) {\n                        result[currExtendingType] = idx;\n                    }\n                });\n            });\n            return result;\n        }, {});\n        /**\n         * @returns {number} - The chosen alternative index\n         */\n        return function () {\n            const nextToken = this.LA(1);\n            return choiceToAlt[nextToken.tokenTypeIdx];\n        };\n    }\n    else {\n        // optimized lookahead without needing to check the predicates at all.\n        // this causes code duplication which is intentional to improve performance.\n        /**\n         * @returns {number} - The chosen alternative index\n         */\n        return function () {\n            for (let t = 0; t < numOfAlts; t++) {\n                const currAlt = alts[t];\n                const currNumOfPaths = currAlt.length;\n                nextPath: for (let j = 0; j < currNumOfPaths; j++) {\n                    const currPath = currAlt[j];\n                    const currPathLength = currPath.length;\n                    for (let i = 0; i < currPathLength; i++) {\n                        const nextToken = this.LA(i + 1);\n                        if (tokenMatcher(nextToken, currPath[i]) === false) {\n                            // mismatch in current path\n                            // try the next pth\n                            continue nextPath;\n                        }\n                    }\n                    // found a full path that matches.\n                    // this will also work for an empty ALT as the loop will be skipped\n                    return t;\n                }\n                // none of the paths for the current alternative matched\n                // try the next alternative\n            }\n            // none of the alternatives could be matched\n            return undefined;\n        };\n    }\n}\nfunction buildSingleAlternativeLookaheadFunction(alt, tokenMatcher, dynamicTokensEnabled) {\n    const areAllOneTokenLookahead = (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(alt, (currPath) => {\n        return currPath.length === 1;\n    });\n    const numOfPaths = alt.length;\n    // optimized (common) case of all the lookaheads paths requiring only\n    // a single token lookahead.\n    if (areAllOneTokenLookahead && !dynamicTokensEnabled) {\n        const singleTokensTypes = (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(alt);\n        if (singleTokensTypes.length === 1 &&\n            (0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(singleTokensTypes[0].categoryMatches)) {\n            const expectedTokenType = singleTokensTypes[0];\n            const expectedTokenUniqueKey = expectedTokenType.tokenTypeIdx;\n            return function () {\n                return this.LA(1).tokenTypeIdx === expectedTokenUniqueKey;\n            };\n        }\n        else {\n            const choiceToAlt = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(singleTokensTypes, (result, currTokType, idx) => {\n                result[currTokType.tokenTypeIdx] = true;\n                (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(currTokType.categoryMatches, (currExtendingType) => {\n                    result[currExtendingType] = true;\n                });\n                return result;\n            }, []);\n            return function () {\n                const nextToken = this.LA(1);\n                return choiceToAlt[nextToken.tokenTypeIdx] === true;\n            };\n        }\n    }\n    else {\n        return function () {\n            nextPath: for (let j = 0; j < numOfPaths; j++) {\n                const currPath = alt[j];\n                const currPathLength = currPath.length;\n                for (let i = 0; i < currPathLength; i++) {\n                    const nextToken = this.LA(i + 1);\n                    if (tokenMatcher(nextToken, currPath[i]) === false) {\n                        // mismatch in current path\n                        // try the next pth\n                        continue nextPath;\n                    }\n                }\n                // found a full path that matches.\n                return true;\n            }\n            // none of the paths matched\n            return false;\n        };\n    }\n}\nclass RestDefinitionFinderWalker extends _rest_js__WEBPACK_IMPORTED_MODULE_1__.RestWalker {\n    constructor(topProd, targetOccurrence, targetProdType) {\n        super();\n        this.topProd = topProd;\n        this.targetOccurrence = targetOccurrence;\n        this.targetProdType = targetProdType;\n    }\n    startWalking() {\n        this.walk(this.topProd);\n        return this.restDef;\n    }\n    checkIsTarget(node, expectedProdType, currRest, prevRest) {\n        if (node.idx === this.targetOccurrence &&\n            this.targetProdType === expectedProdType) {\n            this.restDef = currRest.concat(prevRest);\n            return true;\n        }\n        // performance optimization, do not iterate over the entire Grammar ast after we have found the target\n        return false;\n    }\n    walkOption(optionProd, currRest, prevRest) {\n        if (!this.checkIsTarget(optionProd, PROD_TYPE.OPTION, currRest, prevRest)) {\n            super.walkOption(optionProd, currRest, prevRest);\n        }\n    }\n    walkAtLeastOne(atLeastOneProd, currRest, prevRest) {\n        if (!this.checkIsTarget(atLeastOneProd, PROD_TYPE.REPETITION_MANDATORY, currRest, prevRest)) {\n            super.walkOption(atLeastOneProd, currRest, prevRest);\n        }\n    }\n    walkAtLeastOneSep(atLeastOneSepProd, currRest, prevRest) {\n        if (!this.checkIsTarget(atLeastOneSepProd, PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR, currRest, prevRest)) {\n            super.walkOption(atLeastOneSepProd, currRest, prevRest);\n        }\n    }\n    walkMany(manyProd, currRest, prevRest) {\n        if (!this.checkIsTarget(manyProd, PROD_TYPE.REPETITION, currRest, prevRest)) {\n            super.walkOption(manyProd, currRest, prevRest);\n        }\n    }\n    walkManySep(manySepProd, currRest, prevRest) {\n        if (!this.checkIsTarget(manySepProd, PROD_TYPE.REPETITION_WITH_SEPARATOR, currRest, prevRest)) {\n            super.walkOption(manySepProd, currRest, prevRest);\n        }\n    }\n}\n/**\n * Returns the definition of a target production in a top level level rule.\n */\nclass InsideDefinitionFinderVisitor extends _chevrotain_gast__WEBPACK_IMPORTED_MODULE_3__.GAstVisitor {\n    constructor(targetOccurrence, targetProdType, targetRef) {\n        super();\n        this.targetOccurrence = targetOccurrence;\n        this.targetProdType = targetProdType;\n        this.targetRef = targetRef;\n        this.result = [];\n    }\n    checkIsTarget(node, expectedProdName) {\n        if (node.idx === this.targetOccurrence &&\n            this.targetProdType === expectedProdName &&\n            (this.targetRef === undefined || node === this.targetRef)) {\n            this.result = node.definition;\n        }\n    }\n    visitOption(node) {\n        this.checkIsTarget(node, PROD_TYPE.OPTION);\n    }\n    visitRepetition(node) {\n        this.checkIsTarget(node, PROD_TYPE.REPETITION);\n    }\n    visitRepetitionMandatory(node) {\n        this.checkIsTarget(node, PROD_TYPE.REPETITION_MANDATORY);\n    }\n    visitRepetitionMandatoryWithSeparator(node) {\n        this.checkIsTarget(node, PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR);\n    }\n    visitRepetitionWithSeparator(node) {\n        this.checkIsTarget(node, PROD_TYPE.REPETITION_WITH_SEPARATOR);\n    }\n    visitAlternation(node) {\n        this.checkIsTarget(node, PROD_TYPE.ALTERNATION);\n    }\n}\nfunction initializeArrayOfArrays(size) {\n    const result = new Array(size);\n    for (let i = 0; i < size; i++) {\n        result[i] = [];\n    }\n    return result;\n}\n/**\n * A sort of hash function between a Path in the grammar and a string.\n * Note that this returns multiple \"hashes\" to support the scenario of token categories.\n * -  A single path with categories may match multiple **actual** paths.\n */\nfunction pathToHashKeys(path) {\n    let keys = [\"\"];\n    for (let i = 0; i < path.length; i++) {\n        const tokType = path[i];\n        const longerKeys = [];\n        for (let j = 0; j < keys.length; j++) {\n            const currShorterKey = keys[j];\n            longerKeys.push(currShorterKey + \"_\" + tokType.tokenTypeIdx);\n            for (let t = 0; t < tokType.categoryMatches.length; t++) {\n                const categoriesKeySuffix = \"_\" + tokType.categoryMatches[t];\n                longerKeys.push(currShorterKey + categoriesKeySuffix);\n            }\n        }\n        keys = longerKeys;\n    }\n    return keys;\n}\n/**\n * Imperative style due to being called from a hot spot\n */\nfunction isUniquePrefixHash(altKnownPathsKeys, searchPathKeys, idx) {\n    for (let currAltIdx = 0; currAltIdx < altKnownPathsKeys.length; currAltIdx++) {\n        // We only want to test vs the other alternatives\n        if (currAltIdx === idx) {\n            continue;\n        }\n        const otherAltKnownPathsKeys = altKnownPathsKeys[currAltIdx];\n        for (let searchIdx = 0; searchIdx < searchPathKeys.length; searchIdx++) {\n            const searchKey = searchPathKeys[searchIdx];\n            if (otherAltKnownPathsKeys[searchKey] === true) {\n                return false;\n            }\n        }\n    }\n    // None of the SearchPathKeys were found in any of the other alternatives\n    return true;\n}\nfunction lookAheadSequenceFromAlternatives(altsDefs, k) {\n    const partialAlts = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(altsDefs, (currAlt) => (0,_interpreter_js__WEBPACK_IMPORTED_MODULE_0__.possiblePathsFrom)([currAlt], 1));\n    const finalResult = initializeArrayOfArrays(partialAlts.length);\n    const altsHashes = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(partialAlts, (currAltPaths) => {\n        const dict = {};\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(currAltPaths, (item) => {\n            const keys = pathToHashKeys(item.partialPath);\n            (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(keys, (currKey) => {\n                dict[currKey] = true;\n            });\n        });\n        return dict;\n    });\n    let newData = partialAlts;\n    // maxLookahead loop\n    for (let pathLength = 1; pathLength <= k; pathLength++) {\n        const currDataset = newData;\n        newData = initializeArrayOfArrays(currDataset.length);\n        // alternatives loop\n        for (let altIdx = 0; altIdx < currDataset.length; altIdx++) {\n            const currAltPathsAndSuffixes = currDataset[altIdx];\n            // paths in current alternative loop\n            for (let currPathIdx = 0; currPathIdx < currAltPathsAndSuffixes.length; currPathIdx++) {\n                const currPathPrefix = currAltPathsAndSuffixes[currPathIdx].partialPath;\n                const suffixDef = currAltPathsAndSuffixes[currPathIdx].suffixDef;\n                const prefixKeys = pathToHashKeys(currPathPrefix);\n                const isUnique = isUniquePrefixHash(altsHashes, prefixKeys, altIdx);\n                // End of the line for this path.\n                if (isUnique || (0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(suffixDef) || currPathPrefix.length === k) {\n                    const currAltResult = finalResult[altIdx];\n                    // TODO: Can we implement a containsPath using Maps/Dictionaries?\n                    if (containsPath(currAltResult, currPathPrefix) === false) {\n                        currAltResult.push(currPathPrefix);\n                        // Update all new  keys for the current path.\n                        for (let j = 0; j < prefixKeys.length; j++) {\n                            const currKey = prefixKeys[j];\n                            altsHashes[altIdx][currKey] = true;\n                        }\n                    }\n                }\n                // Expand longer paths\n                else {\n                    const newPartialPathsAndSuffixes = (0,_interpreter_js__WEBPACK_IMPORTED_MODULE_0__.possiblePathsFrom)(suffixDef, pathLength + 1, currPathPrefix);\n                    newData[altIdx] = newData[altIdx].concat(newPartialPathsAndSuffixes);\n                    // Update keys for new known paths\n                    (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(newPartialPathsAndSuffixes, (item) => {\n                        const prefixKeys = pathToHashKeys(item.partialPath);\n                        (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(prefixKeys, (key) => {\n                            altsHashes[altIdx][key] = true;\n                        });\n                    });\n                }\n            }\n        }\n    }\n    return finalResult;\n}\nfunction getLookaheadPathsForOr(occurrence, ruleGrammar, k, orProd) {\n    const visitor = new InsideDefinitionFinderVisitor(occurrence, PROD_TYPE.ALTERNATION, orProd);\n    ruleGrammar.accept(visitor);\n    return lookAheadSequenceFromAlternatives(visitor.result, k);\n}\nfunction getLookaheadPathsForOptionalProd(occurrence, ruleGrammar, prodType, k) {\n    const insideDefVisitor = new InsideDefinitionFinderVisitor(occurrence, prodType);\n    ruleGrammar.accept(insideDefVisitor);\n    const insideDef = insideDefVisitor.result;\n    const afterDefWalker = new RestDefinitionFinderWalker(ruleGrammar, occurrence, prodType);\n    const afterDef = afterDefWalker.startWalking();\n    const insideFlat = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_3__.Alternative({ definition: insideDef });\n    const afterFlat = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_3__.Alternative({ definition: afterDef });\n    return lookAheadSequenceFromAlternatives([insideFlat, afterFlat], k);\n}\nfunction containsPath(alternative, searchPath) {\n    compareOtherPath: for (let i = 0; i < alternative.length; i++) {\n        const otherPath = alternative[i];\n        if (otherPath.length !== searchPath.length) {\n            continue;\n        }\n        for (let j = 0; j < otherPath.length; j++) {\n            const searchTok = searchPath[j];\n            const otherTok = otherPath[j];\n            const matchingTokens = searchTok === otherTok ||\n                otherTok.categoryMatchesMap[searchTok.tokenTypeIdx] !== undefined;\n            if (matchingTokens === false) {\n                continue compareOtherPath;\n            }\n        }\n        return true;\n    }\n    return false;\n}\nfunction isStrictPrefixOfPath(prefix, other) {\n    return (prefix.length < other.length &&\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(prefix, (tokType, idx) => {\n            const otherTokType = other[idx];\n            return (tokType === otherTokType ||\n                otherTokType.categoryMatchesMap[tokType.tokenTypeIdx]);\n        }));\n}\nfunction areTokenCategoriesNotUsed(lookAheadPaths) {\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(lookAheadPaths, (singleAltPaths) => (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(singleAltPaths, (singlePath) => (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(singlePath, (token) => (0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(token.categoryMatches))));\n}\n//# sourceMappingURL=lookahead.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL2dyYW1tYXIvbG9va2FoZWFkLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUErRTtBQUMxQjtBQUNkO0FBQzREO0FBQzhGO0FBQzFMO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDhCQUE4QjtBQUN4QjtBQUNQO0FBQ0Esd0JBQXdCLG9EQUFNO0FBQzlCO0FBQ0E7QUFDQSw2QkFBNkIsd0RBQVU7QUFDdkM7QUFDQTtBQUNBLDZCQUE2QixpRUFBbUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDhFQUFnQztBQUM3RDtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIscUVBQXVCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qix5REFBVztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLFlBQVksMkNBQTJDO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxVQUFVLCtFQUFrQztBQUM1QyxVQUFVLG1FQUFzQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsVUFBVSwrRUFBa0M7QUFDNUMsVUFBVSxtRUFBc0I7QUFDaEM7QUFDQTtBQUNPO0FBQ1A7QUFDQSxvQ0FBb0MscURBQUs7QUFDekMsZUFBZSxxREFBSztBQUNwQjtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLFFBQVE7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixxREFBRztBQUNsQyw0QkFBNEIsZUFBZTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxvQkFBb0I7QUFDOUQ7QUFDQTtBQUNBLG9DQUFvQyxvQkFBb0I7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHFEQUFHO0FBQ25DLG1CQUFtQixxREFBTztBQUMxQixTQUFTO0FBQ1QsNEJBQTRCLHFEQUFNO0FBQ2xDLFlBQVkscURBQU87QUFDbkIscUJBQXFCLHFEQUFHO0FBQ3hCO0FBQ0E7QUFDQSxnQkFBZ0IscURBQU87QUFDdkIseUJBQXlCLHFEQUFHO0FBQzVCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0EsU0FBUyxJQUFJO0FBQ2I7QUFDQSxxQkFBcUIsUUFBUTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixRQUFRO0FBQzdCO0FBQ0E7QUFDQSw0QkFBNEIsZUFBZTtBQUMzQztBQUNBO0FBQ0EsMENBQTBDLG9CQUFvQjtBQUM5RDtBQUNBO0FBQ0Esb0NBQW9DLG9CQUFvQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asb0NBQW9DLHFEQUFLO0FBQ3pDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLHFEQUFPO0FBQ3pDO0FBQ0EsWUFBWSxzREFBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxxREFBTTtBQUN0QztBQUNBLGdCQUFnQixxREFBTztBQUN2QjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGdCQUFnQjtBQUN0RDtBQUNBO0FBQ0EsZ0NBQWdDLG9CQUFvQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsZ0RBQVU7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLHlEQUFXO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlCQUFpQjtBQUNyQztBQUNBO0FBQ0Esd0JBQXdCLGlCQUFpQjtBQUN6QztBQUNBO0FBQ0EsNEJBQTRCLG9DQUFvQztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsdUNBQXVDO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsbUNBQW1DO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asd0JBQXdCLHFEQUFHLHdCQUF3QixrRUFBaUI7QUFDcEU7QUFDQSx1QkFBdUIscURBQUc7QUFDMUI7QUFDQSxRQUFRLHFEQUFPO0FBQ2Y7QUFDQSxZQUFZLHFEQUFPO0FBQ25CO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNkJBQTZCLGlCQUFpQjtBQUM5QztBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsNkJBQTZCO0FBQzFEO0FBQ0E7QUFDQSxzQ0FBc0MsOENBQThDO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msc0RBQU87QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3Qyx1QkFBdUI7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsa0VBQWlCO0FBQ3hFO0FBQ0E7QUFDQSxvQkFBb0IscURBQU87QUFDM0I7QUFDQSx3QkFBd0IscURBQU87QUFDL0I7QUFDQSx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIseURBQWUsR0FBRyx1QkFBdUI7QUFDcEUsMEJBQTBCLHlEQUFlLEdBQUcsc0JBQXNCO0FBQ2xFO0FBQ0E7QUFDTztBQUNQLHNDQUFzQyx3QkFBd0I7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0JBQXNCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxRQUFRLHFEQUFLO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ087QUFDUCxXQUFXLHFEQUFLLHFDQUFxQyxxREFBSyxpQ0FBaUMscURBQUssd0JBQXdCLHNEQUFPO0FBQy9IO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXJtYWlkLWRpYWdyYW0tZWRpdG9yLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy9wYXJzZS9ncmFtbWFyL2xvb2thaGVhZC5qcz81YjEwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGV2ZXJ5LCBmbGF0dGVuLCBmb3JFYWNoLCBoYXMsIGlzRW1wdHksIG1hcCwgcmVkdWNlIH0gZnJvbSBcImxvZGFzaC1lc1wiO1xuaW1wb3J0IHsgcG9zc2libGVQYXRoc0Zyb20gfSBmcm9tIFwiLi9pbnRlcnByZXRlci5qc1wiO1xuaW1wb3J0IHsgUmVzdFdhbGtlciB9IGZyb20gXCIuL3Jlc3QuanNcIjtcbmltcG9ydCB7IHRva2VuU3RydWN0dXJlZE1hdGNoZXIsIHRva2VuU3RydWN0dXJlZE1hdGNoZXJOb0NhdGVnb3JpZXMsIH0gZnJvbSBcIi4uLy4uL3NjYW4vdG9rZW5zLmpzXCI7XG5pbXBvcnQgeyBBbHRlcm5hdGlvbiwgQWx0ZXJuYXRpdmUgYXMgQWx0ZXJuYXRpdmVHQVNULCBHQXN0VmlzaXRvciwgT3B0aW9uLCBSZXBldGl0aW9uLCBSZXBldGl0aW9uTWFuZGF0b3J5LCBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciwgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IsIH0gZnJvbSBcIkBjaGV2cm90YWluL2dhc3RcIjtcbmV4cG9ydCB2YXIgUFJPRF9UWVBFO1xuKGZ1bmN0aW9uIChQUk9EX1RZUEUpIHtcbiAgICBQUk9EX1RZUEVbUFJPRF9UWVBFW1wiT1BUSU9OXCJdID0gMF0gPSBcIk9QVElPTlwiO1xuICAgIFBST0RfVFlQRVtQUk9EX1RZUEVbXCJSRVBFVElUSU9OXCJdID0gMV0gPSBcIlJFUEVUSVRJT05cIjtcbiAgICBQUk9EX1RZUEVbUFJPRF9UWVBFW1wiUkVQRVRJVElPTl9NQU5EQVRPUllcIl0gPSAyXSA9IFwiUkVQRVRJVElPTl9NQU5EQVRPUllcIjtcbiAgICBQUk9EX1RZUEVbUFJPRF9UWVBFW1wiUkVQRVRJVElPTl9NQU5EQVRPUllfV0lUSF9TRVBBUkFUT1JcIl0gPSAzXSA9IFwiUkVQRVRJVElPTl9NQU5EQVRPUllfV0lUSF9TRVBBUkFUT1JcIjtcbiAgICBQUk9EX1RZUEVbUFJPRF9UWVBFW1wiUkVQRVRJVElPTl9XSVRIX1NFUEFSQVRPUlwiXSA9IDRdID0gXCJSRVBFVElUSU9OX1dJVEhfU0VQQVJBVE9SXCI7XG4gICAgUFJPRF9UWVBFW1BST0RfVFlQRVtcIkFMVEVSTkFUSU9OXCJdID0gNV0gPSBcIkFMVEVSTkFUSU9OXCI7XG59KShQUk9EX1RZUEUgfHwgKFBST0RfVFlQRSA9IHt9KSk7XG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJvZFR5cGUocHJvZCkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKHByb2QgaW5zdGFuY2VvZiBPcHRpb24gfHwgcHJvZCA9PT0gXCJPcHRpb25cIikge1xuICAgICAgICByZXR1cm4gUFJPRF9UWVBFLk9QVElPTjtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb24gfHwgcHJvZCA9PT0gXCJSZXBldGl0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIFBST0RfVFlQRS5SRVBFVElUSU9OO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbk1hbmRhdG9yeSB8fFxuICAgICAgICBwcm9kID09PSBcIlJlcGV0aXRpb25NYW5kYXRvcnlcIikge1xuICAgICAgICByZXR1cm4gUFJPRF9UWVBFLlJFUEVUSVRJT05fTUFOREFUT1JZO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IgfHxcbiAgICAgICAgcHJvZCA9PT0gXCJSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvclwiKSB7XG4gICAgICAgIHJldHVybiBQUk9EX1RZUEUuUkVQRVRJVElPTl9NQU5EQVRPUllfV0lUSF9TRVBBUkFUT1I7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uV2l0aFNlcGFyYXRvciB8fFxuICAgICAgICBwcm9kID09PSBcIlJlcGV0aXRpb25XaXRoU2VwYXJhdG9yXCIpIHtcbiAgICAgICAgcmV0dXJuIFBST0RfVFlQRS5SRVBFVElUSU9OX1dJVEhfU0VQQVJBVE9SO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgQWx0ZXJuYXRpb24gfHwgcHJvZCA9PT0gXCJBbHRlcm5hdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBQUk9EX1RZUEUuQUxURVJOQVRJT047XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRMb29rYWhlYWRQYXRocyhvcHRpb25zKSB7XG4gICAgY29uc3QgeyBvY2N1cnJlbmNlLCBydWxlLCBwcm9kVHlwZSwgbWF4TG9va2FoZWFkIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IHR5cGUgPSBnZXRQcm9kVHlwZShwcm9kVHlwZSk7XG4gICAgaWYgKHR5cGUgPT09IFBST0RfVFlQRS5BTFRFUk5BVElPTikge1xuICAgICAgICByZXR1cm4gZ2V0TG9va2FoZWFkUGF0aHNGb3JPcihvY2N1cnJlbmNlLCBydWxlLCBtYXhMb29rYWhlYWQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGdldExvb2thaGVhZFBhdGhzRm9yT3B0aW9uYWxQcm9kKG9jY3VycmVuY2UsIHJ1bGUsIHR5cGUsIG1heExvb2thaGVhZCk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkTG9va2FoZWFkRnVuY0Zvck9yKG9jY3VycmVuY2UsIHJ1bGVHcmFtbWFyLCBtYXhMb29rYWhlYWQsIGhhc1ByZWRpY2F0ZXMsIGR5bmFtaWNUb2tlbnNFbmFibGVkLCBsYUZ1bmNCdWlsZGVyKSB7XG4gICAgY29uc3QgbG9va0FoZWFkUGF0aHMgPSBnZXRMb29rYWhlYWRQYXRoc0Zvck9yKG9jY3VycmVuY2UsIHJ1bGVHcmFtbWFyLCBtYXhMb29rYWhlYWQpO1xuICAgIGNvbnN0IHRva2VuTWF0Y2hlciA9IGFyZVRva2VuQ2F0ZWdvcmllc05vdFVzZWQobG9va0FoZWFkUGF0aHMpXG4gICAgICAgID8gdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlck5vQ2F0ZWdvcmllc1xuICAgICAgICA6IHRva2VuU3RydWN0dXJlZE1hdGNoZXI7XG4gICAgcmV0dXJuIGxhRnVuY0J1aWxkZXIobG9va0FoZWFkUGF0aHMsIGhhc1ByZWRpY2F0ZXMsIHRva2VuTWF0Y2hlciwgZHluYW1pY1Rva2Vuc0VuYWJsZWQpO1xufVxuLyoqXG4gKiAgV2hlbiBkZWFsaW5nIHdpdGggYW4gT3B0aW9uYWwgcHJvZHVjdGlvbiAoT1BUSU9OL01BTlkvMm5kIGl0ZXJhdGlvbiBvZiBBVF9MRUFTVF9PTkUvLi4uKSB3ZSBuZWVkIHRvIGNvbXBhcmVcbiAqICB0aGUgbG9va2FoZWFkIFwiaW5zaWRlXCIgdGhlIHByb2R1Y3Rpb24gYW5kIHRoZSBsb29rYWhlYWQgaW1tZWRpYXRlbHkgXCJhZnRlclwiIGl0IGluIHRoZSBzYW1lIHRvcCBsZXZlbCBydWxlIChjb250ZXh0IGZyZWUpLlxuICpcbiAqICBFeGFtcGxlOiBnaXZlbiBhIHByb2R1Y3Rpb246XG4gKiAgQUJDKERFKT9ERlxuICpcbiAqICBUaGUgb3B0aW9uYWwgJyhERSk/JyBzaG91bGQgb25seSBiZSBlbnRlcmVkIGlmIHdlIHNlZSAnREUnLiBhIHNpbmdsZSBUb2tlbiAnRCcgaXMgbm90IHN1ZmZpY2llbnQgdG8gZGlzdGluZ3Vpc2ggYmV0d2VlbiB0aGUgdHdvXG4gKiAgYWx0ZXJuYXRpdmVzLlxuICpcbiAqICBAcmV0dXJucyBBIExvb2thaGVhZCBmdW5jdGlvbiB3aGljaCB3aWxsIHJldHVybiB0cnVlIElGRiB0aGUgcGFyc2VyIHNob3VsZCBwYXJzZSB0aGUgT3B0aW9uYWwgcHJvZHVjdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkTG9va2FoZWFkRnVuY0Zvck9wdGlvbmFsUHJvZChvY2N1cnJlbmNlLCBydWxlR3JhbW1hciwgaywgZHluYW1pY1Rva2Vuc0VuYWJsZWQsIHByb2RUeXBlLCBsb29rYWhlYWRCdWlsZGVyKSB7XG4gICAgY29uc3QgbG9va0FoZWFkUGF0aHMgPSBnZXRMb29rYWhlYWRQYXRoc0Zvck9wdGlvbmFsUHJvZChvY2N1cnJlbmNlLCBydWxlR3JhbW1hciwgcHJvZFR5cGUsIGspO1xuICAgIGNvbnN0IHRva2VuTWF0Y2hlciA9IGFyZVRva2VuQ2F0ZWdvcmllc05vdFVzZWQobG9va0FoZWFkUGF0aHMpXG4gICAgICAgID8gdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlck5vQ2F0ZWdvcmllc1xuICAgICAgICA6IHRva2VuU3RydWN0dXJlZE1hdGNoZXI7XG4gICAgcmV0dXJuIGxvb2thaGVhZEJ1aWxkZXIobG9va0FoZWFkUGF0aHNbMF0sIHRva2VuTWF0Y2hlciwgZHluYW1pY1Rva2Vuc0VuYWJsZWQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkQWx0ZXJuYXRpdmVzTG9va0FoZWFkRnVuYyhhbHRzLCBoYXNQcmVkaWNhdGVzLCB0b2tlbk1hdGNoZXIsIGR5bmFtaWNUb2tlbnNFbmFibGVkKSB7XG4gICAgY29uc3QgbnVtT2ZBbHRzID0gYWx0cy5sZW5ndGg7XG4gICAgY29uc3QgYXJlQWxsT25lVG9rZW5Mb29rYWhlYWQgPSBldmVyeShhbHRzLCAoY3VyckFsdCkgPT4ge1xuICAgICAgICByZXR1cm4gZXZlcnkoY3VyckFsdCwgKGN1cnJQYXRoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY3VyclBhdGgubGVuZ3RoID09PSAxO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICAvLyBUaGlzIHZlcnNpb24gdGFrZXMgaW50byBhY2NvdW50IHRoZSBwcmVkaWNhdGVzIGFzIHdlbGwuXG4gICAgaWYgKGhhc1ByZWRpY2F0ZXMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IC0gVGhlIGNob3NlbiBhbHRlcm5hdGl2ZSBpbmRleFxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChvckFsdHMpIHtcbiAgICAgICAgICAgIC8vIHVuZm9ydHVuYXRlbHkgdGhlIHByZWRpY2F0ZXMgbXVzdCBiZSBleHRyYWN0ZWQgZXZlcnkgc2luZ2xlIHRpbWVcbiAgICAgICAgICAgIC8vIGFzIHRoZXkgY2Fubm90IGJlIGNhY2hlZCBkdWUgdG8gcmVmZXJlbmNlcyB0byBwYXJhbWV0ZXJzKHZhcnMpIHdoaWNoIGFyZSBubyBsb25nZXIgdmFsaWQuXG4gICAgICAgICAgICAvLyBub3RlIHRoYXQgaW4gdGhlIGNvbW1vbiBjYXNlIG9mIG5vIHByZWRpY2F0ZXMsIG5vIGNwdSB0aW1lIHdpbGwgYmUgd2FzdGVkIG9uIHRoaXMgKHNlZSBlbHNlIGJsb2NrKVxuICAgICAgICAgICAgY29uc3QgcHJlZGljYXRlcyA9IG1hcChvckFsdHMsIChjdXJyQWx0KSA9PiBjdXJyQWx0LkdBVEUpO1xuICAgICAgICAgICAgZm9yIChsZXQgdCA9IDA7IHQgPCBudW1PZkFsdHM7IHQrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJBbHQgPSBhbHRzW3RdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJOdW1PZlBhdGhzID0gY3VyckFsdC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VyclByZWRpY2F0ZSA9IHByZWRpY2F0ZXNbdF07XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJQcmVkaWNhdGUgIT09IHVuZGVmaW5lZCAmJiBjdXJyUHJlZGljYXRlLmNhbGwodGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBwcmVkaWNhdGUgZG9lcyBub3QgbWF0Y2ggdGhlcmUgaXMgbm8gcG9pbnQgaW4gY2hlY2tpbmcgdGhlIHBhdGhzXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXh0UGF0aDogZm9yIChsZXQgaiA9IDA7IGogPCBjdXJyTnVtT2ZQYXRoczsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJQYXRoID0gY3VyckFsdFtqXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VyclBhdGhMZW5ndGggPSBjdXJyUGF0aC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VyclBhdGhMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dFRva2VuID0gdGhpcy5MQShpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5NYXRjaGVyKG5leHRUb2tlbiwgY3VyclBhdGhbaV0pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1pc21hdGNoIGluIGN1cnJlbnQgcGF0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRyeSB0aGUgbmV4dCBwdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBuZXh0UGF0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBmb3VuZCBhIGZ1bGwgcGF0aCB0aGF0IG1hdGNoZXMuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBhbHNvIHdvcmsgZm9yIGFuIGVtcHR5IEFMVCBhcyB0aGUgbG9vcCB3aWxsIGJlIHNraXBwZWRcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG5vbmUgb2YgdGhlIHBhdGhzIGZvciB0aGUgY3VycmVudCBhbHRlcm5hdGl2ZSBtYXRjaGVkXG4gICAgICAgICAgICAgICAgLy8gdHJ5IHRoZSBuZXh0IGFsdGVybmF0aXZlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBub25lIG9mIHRoZSBhbHRlcm5hdGl2ZXMgY291bGQgYmUgbWF0Y2hlZFxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYXJlQWxsT25lVG9rZW5Mb29rYWhlYWQgJiYgIWR5bmFtaWNUb2tlbnNFbmFibGVkKSB7XG4gICAgICAgIC8vIG9wdGltaXplZCAoY29tbW9uKSBjYXNlIG9mIGFsbCB0aGUgbG9va2FoZWFkcyBwYXRocyByZXF1aXJpbmcgb25seVxuICAgICAgICAvLyBhIHNpbmdsZSB0b2tlbiBsb29rYWhlYWQuIFRoZXNlIE9wdGltaXphdGlvbnMgY2Fubm90IHdvcmsgaWYgZHluYW1pY2FsbHkgZGVmaW5lZCBUb2tlbnMgYXJlIHVzZWQuXG4gICAgICAgIGNvbnN0IHNpbmdsZVRva2VuQWx0cyA9IG1hcChhbHRzLCAoY3VyckFsdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGZsYXR0ZW4oY3VyckFsdCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBjaG9pY2VUb0FsdCA9IHJlZHVjZShzaW5nbGVUb2tlbkFsdHMsIChyZXN1bHQsIGN1cnJBbHQsIGlkeCkgPT4ge1xuICAgICAgICAgICAgZm9yRWFjaChjdXJyQWx0LCAoY3VyclRva1R5cGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWhhcyhyZXN1bHQsIGN1cnJUb2tUeXBlLnRva2VuVHlwZUlkeCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2N1cnJUb2tUeXBlLnRva2VuVHlwZUlkeF0gPSBpZHg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvckVhY2goY3VyclRva1R5cGUuY2F0ZWdvcnlNYXRjaGVzLCAoY3VyckV4dGVuZGluZ1R5cGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXMocmVzdWx0LCBjdXJyRXh0ZW5kaW5nVHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtjdXJyRXh0ZW5kaW5nVHlwZV0gPSBpZHg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSwge30pO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge251bWJlcn0gLSBUaGUgY2hvc2VuIGFsdGVybmF0aXZlIGluZGV4XG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc3QgbmV4dFRva2VuID0gdGhpcy5MQSgxKTtcbiAgICAgICAgICAgIHJldHVybiBjaG9pY2VUb0FsdFtuZXh0VG9rZW4udG9rZW5UeXBlSWR4XTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIG9wdGltaXplZCBsb29rYWhlYWQgd2l0aG91dCBuZWVkaW5nIHRvIGNoZWNrIHRoZSBwcmVkaWNhdGVzIGF0IGFsbC5cbiAgICAgICAgLy8gdGhpcyBjYXVzZXMgY29kZSBkdXBsaWNhdGlvbiB3aGljaCBpcyBpbnRlbnRpb25hbCB0byBpbXByb3ZlIHBlcmZvcm1hbmNlLlxuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge251bWJlcn0gLSBUaGUgY2hvc2VuIGFsdGVybmF0aXZlIGluZGV4XG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZm9yIChsZXQgdCA9IDA7IHQgPCBudW1PZkFsdHM7IHQrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJBbHQgPSBhbHRzW3RdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJOdW1PZlBhdGhzID0gY3VyckFsdC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgbmV4dFBhdGg6IGZvciAobGV0IGogPSAwOyBqIDwgY3Vyck51bU9mUGF0aHM7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyUGF0aCA9IGN1cnJBbHRbal07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJQYXRoTGVuZ3RoID0gY3VyclBhdGgubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJQYXRoTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRUb2tlbiA9IHRoaXMuTEEoaSArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuTWF0Y2hlcihuZXh0VG9rZW4sIGN1cnJQYXRoW2ldKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBtaXNtYXRjaCBpbiBjdXJyZW50IHBhdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0cnkgdGhlIG5leHQgcHRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgbmV4dFBhdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gZm91bmQgYSBmdWxsIHBhdGggdGhhdCBtYXRjaGVzLlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHdpbGwgYWxzbyB3b3JrIGZvciBhbiBlbXB0eSBBTFQgYXMgdGhlIGxvb3Agd2lsbCBiZSBza2lwcGVkXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBub25lIG9mIHRoZSBwYXRocyBmb3IgdGhlIGN1cnJlbnQgYWx0ZXJuYXRpdmUgbWF0Y2hlZFxuICAgICAgICAgICAgICAgIC8vIHRyeSB0aGUgbmV4dCBhbHRlcm5hdGl2ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbm9uZSBvZiB0aGUgYWx0ZXJuYXRpdmVzIGNvdWxkIGJlIG1hdGNoZWRcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkU2luZ2xlQWx0ZXJuYXRpdmVMb29rYWhlYWRGdW5jdGlvbihhbHQsIHRva2VuTWF0Y2hlciwgZHluYW1pY1Rva2Vuc0VuYWJsZWQpIHtcbiAgICBjb25zdCBhcmVBbGxPbmVUb2tlbkxvb2thaGVhZCA9IGV2ZXJ5KGFsdCwgKGN1cnJQYXRoKSA9PiB7XG4gICAgICAgIHJldHVybiBjdXJyUGF0aC5sZW5ndGggPT09IDE7XG4gICAgfSk7XG4gICAgY29uc3QgbnVtT2ZQYXRocyA9IGFsdC5sZW5ndGg7XG4gICAgLy8gb3B0aW1pemVkIChjb21tb24pIGNhc2Ugb2YgYWxsIHRoZSBsb29rYWhlYWRzIHBhdGhzIHJlcXVpcmluZyBvbmx5XG4gICAgLy8gYSBzaW5nbGUgdG9rZW4gbG9va2FoZWFkLlxuICAgIGlmIChhcmVBbGxPbmVUb2tlbkxvb2thaGVhZCAmJiAhZHluYW1pY1Rva2Vuc0VuYWJsZWQpIHtcbiAgICAgICAgY29uc3Qgc2luZ2xlVG9rZW5zVHlwZXMgPSBmbGF0dGVuKGFsdCk7XG4gICAgICAgIGlmIChzaW5nbGVUb2tlbnNUeXBlcy5sZW5ndGggPT09IDEgJiZcbiAgICAgICAgICAgIGlzRW1wdHkoc2luZ2xlVG9rZW5zVHlwZXNbMF0uY2F0ZWdvcnlNYXRjaGVzKSkge1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRUb2tlblR5cGUgPSBzaW5nbGVUb2tlbnNUeXBlc1swXTtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVG9rZW5VbmlxdWVLZXkgPSBleHBlY3RlZFRva2VuVHlwZS50b2tlblR5cGVJZHg7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkxBKDEpLnRva2VuVHlwZUlkeCA9PT0gZXhwZWN0ZWRUb2tlblVuaXF1ZUtleTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjaG9pY2VUb0FsdCA9IHJlZHVjZShzaW5nbGVUb2tlbnNUeXBlcywgKHJlc3VsdCwgY3VyclRva1R5cGUsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtjdXJyVG9rVHlwZS50b2tlblR5cGVJZHhdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBmb3JFYWNoKGN1cnJUb2tUeXBlLmNhdGVnb3J5TWF0Y2hlcywgKGN1cnJFeHRlbmRpbmdUeXBlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtjdXJyRXh0ZW5kaW5nVHlwZV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRUb2tlbiA9IHRoaXMuTEEoMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNob2ljZVRvQWx0W25leHRUb2tlbi50b2tlblR5cGVJZHhdID09PSB0cnVlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG5leHRQYXRoOiBmb3IgKGxldCBqID0gMDsgaiA8IG51bU9mUGF0aHM7IGorKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJQYXRoID0gYWx0W2pdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJQYXRoTGVuZ3RoID0gY3VyclBhdGgubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VyclBhdGhMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0VG9rZW4gPSB0aGlzLkxBKGkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuTWF0Y2hlcihuZXh0VG9rZW4sIGN1cnJQYXRoW2ldKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1pc21hdGNoIGluIGN1cnJlbnQgcGF0aFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJ5IHRoZSBuZXh0IHB0aFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgbmV4dFBhdGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZm91bmQgYSBmdWxsIHBhdGggdGhhdCBtYXRjaGVzLlxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbm9uZSBvZiB0aGUgcGF0aHMgbWF0Y2hlZFxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgIH1cbn1cbmNsYXNzIFJlc3REZWZpbml0aW9uRmluZGVyV2Fsa2VyIGV4dGVuZHMgUmVzdFdhbGtlciB7XG4gICAgY29uc3RydWN0b3IodG9wUHJvZCwgdGFyZ2V0T2NjdXJyZW5jZSwgdGFyZ2V0UHJvZFR5cGUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50b3BQcm9kID0gdG9wUHJvZDtcbiAgICAgICAgdGhpcy50YXJnZXRPY2N1cnJlbmNlID0gdGFyZ2V0T2NjdXJyZW5jZTtcbiAgICAgICAgdGhpcy50YXJnZXRQcm9kVHlwZSA9IHRhcmdldFByb2RUeXBlO1xuICAgIH1cbiAgICBzdGFydFdhbGtpbmcoKSB7XG4gICAgICAgIHRoaXMud2Fsayh0aGlzLnRvcFByb2QpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN0RGVmO1xuICAgIH1cbiAgICBjaGVja0lzVGFyZ2V0KG5vZGUsIGV4cGVjdGVkUHJvZFR5cGUsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICBpZiAobm9kZS5pZHggPT09IHRoaXMudGFyZ2V0T2NjdXJyZW5jZSAmJlxuICAgICAgICAgICAgdGhpcy50YXJnZXRQcm9kVHlwZSA9PT0gZXhwZWN0ZWRQcm9kVHlwZSkge1xuICAgICAgICAgICAgdGhpcy5yZXN0RGVmID0gY3VyclJlc3QuY29uY2F0KHByZXZSZXN0KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbiwgZG8gbm90IGl0ZXJhdGUgb3ZlciB0aGUgZW50aXJlIEdyYW1tYXIgYXN0IGFmdGVyIHdlIGhhdmUgZm91bmQgdGhlIHRhcmdldFxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHdhbGtPcHRpb24ob3B0aW9uUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIGlmICghdGhpcy5jaGVja0lzVGFyZ2V0KG9wdGlvblByb2QsIFBST0RfVFlQRS5PUFRJT04sIGN1cnJSZXN0LCBwcmV2UmVzdCkpIHtcbiAgICAgICAgICAgIHN1cGVyLndhbGtPcHRpb24ob3B0aW9uUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB3YWxrQXRMZWFzdE9uZShhdExlYXN0T25lUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIGlmICghdGhpcy5jaGVja0lzVGFyZ2V0KGF0TGVhc3RPbmVQcm9kLCBQUk9EX1RZUEUuUkVQRVRJVElPTl9NQU5EQVRPUlksIGN1cnJSZXN0LCBwcmV2UmVzdCkpIHtcbiAgICAgICAgICAgIHN1cGVyLndhbGtPcHRpb24oYXRMZWFzdE9uZVByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgd2Fsa0F0TGVhc3RPbmVTZXAoYXRMZWFzdE9uZVNlcFByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICBpZiAoIXRoaXMuY2hlY2tJc1RhcmdldChhdExlYXN0T25lU2VwUHJvZCwgUFJPRF9UWVBFLlJFUEVUSVRJT05fTUFOREFUT1JZX1dJVEhfU0VQQVJBVE9SLCBjdXJyUmVzdCwgcHJldlJlc3QpKSB7XG4gICAgICAgICAgICBzdXBlci53YWxrT3B0aW9uKGF0TGVhc3RPbmVTZXBQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHdhbGtNYW55KG1hbnlQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNoZWNrSXNUYXJnZXQobWFueVByb2QsIFBST0RfVFlQRS5SRVBFVElUSU9OLCBjdXJyUmVzdCwgcHJldlJlc3QpKSB7XG4gICAgICAgICAgICBzdXBlci53YWxrT3B0aW9uKG1hbnlQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHdhbGtNYW55U2VwKG1hbnlTZXBQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNoZWNrSXNUYXJnZXQobWFueVNlcFByb2QsIFBST0RfVFlQRS5SRVBFVElUSU9OX1dJVEhfU0VQQVJBVE9SLCBjdXJyUmVzdCwgcHJldlJlc3QpKSB7XG4gICAgICAgICAgICBzdXBlci53YWxrT3B0aW9uKG1hbnlTZXBQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkZWZpbml0aW9uIG9mIGEgdGFyZ2V0IHByb2R1Y3Rpb24gaW4gYSB0b3AgbGV2ZWwgbGV2ZWwgcnVsZS5cbiAqL1xuY2xhc3MgSW5zaWRlRGVmaW5pdGlvbkZpbmRlclZpc2l0b3IgZXh0ZW5kcyBHQXN0VmlzaXRvciB7XG4gICAgY29uc3RydWN0b3IodGFyZ2V0T2NjdXJyZW5jZSwgdGFyZ2V0UHJvZFR5cGUsIHRhcmdldFJlZikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnRhcmdldE9jY3VycmVuY2UgPSB0YXJnZXRPY2N1cnJlbmNlO1xuICAgICAgICB0aGlzLnRhcmdldFByb2RUeXBlID0gdGFyZ2V0UHJvZFR5cGU7XG4gICAgICAgIHRoaXMudGFyZ2V0UmVmID0gdGFyZ2V0UmVmO1xuICAgICAgICB0aGlzLnJlc3VsdCA9IFtdO1xuICAgIH1cbiAgICBjaGVja0lzVGFyZ2V0KG5vZGUsIGV4cGVjdGVkUHJvZE5hbWUpIHtcbiAgICAgICAgaWYgKG5vZGUuaWR4ID09PSB0aGlzLnRhcmdldE9jY3VycmVuY2UgJiZcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0UHJvZFR5cGUgPT09IGV4cGVjdGVkUHJvZE5hbWUgJiZcbiAgICAgICAgICAgICh0aGlzLnRhcmdldFJlZiA9PT0gdW5kZWZpbmVkIHx8IG5vZGUgPT09IHRoaXMudGFyZ2V0UmVmKSkge1xuICAgICAgICAgICAgdGhpcy5yZXN1bHQgPSBub2RlLmRlZmluaXRpb247XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmlzaXRPcHRpb24obm9kZSkge1xuICAgICAgICB0aGlzLmNoZWNrSXNUYXJnZXQobm9kZSwgUFJPRF9UWVBFLk9QVElPTik7XG4gICAgfVxuICAgIHZpc2l0UmVwZXRpdGlvbihub2RlKSB7XG4gICAgICAgIHRoaXMuY2hlY2tJc1RhcmdldChub2RlLCBQUk9EX1RZUEUuUkVQRVRJVElPTik7XG4gICAgfVxuICAgIHZpc2l0UmVwZXRpdGlvbk1hbmRhdG9yeShub2RlKSB7XG4gICAgICAgIHRoaXMuY2hlY2tJc1RhcmdldChub2RlLCBQUk9EX1RZUEUuUkVQRVRJVElPTl9NQU5EQVRPUlkpO1xuICAgIH1cbiAgICB2aXNpdFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yKG5vZGUpIHtcbiAgICAgICAgdGhpcy5jaGVja0lzVGFyZ2V0KG5vZGUsIFBST0RfVFlQRS5SRVBFVElUSU9OX01BTkRBVE9SWV9XSVRIX1NFUEFSQVRPUik7XG4gICAgfVxuICAgIHZpc2l0UmVwZXRpdGlvbldpdGhTZXBhcmF0b3Iobm9kZSkge1xuICAgICAgICB0aGlzLmNoZWNrSXNUYXJnZXQobm9kZSwgUFJPRF9UWVBFLlJFUEVUSVRJT05fV0lUSF9TRVBBUkFUT1IpO1xuICAgIH1cbiAgICB2aXNpdEFsdGVybmF0aW9uKG5vZGUpIHtcbiAgICAgICAgdGhpcy5jaGVja0lzVGFyZ2V0KG5vZGUsIFBST0RfVFlQRS5BTFRFUk5BVElPTik7XG4gICAgfVxufVxuZnVuY3Rpb24gaW5pdGlhbGl6ZUFycmF5T2ZBcnJheXMoc2l6ZSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBBcnJheShzaXplKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgICByZXN1bHRbaV0gPSBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogQSBzb3J0IG9mIGhhc2ggZnVuY3Rpb24gYmV0d2VlbiBhIFBhdGggaW4gdGhlIGdyYW1tYXIgYW5kIGEgc3RyaW5nLlxuICogTm90ZSB0aGF0IHRoaXMgcmV0dXJucyBtdWx0aXBsZSBcImhhc2hlc1wiIHRvIHN1cHBvcnQgdGhlIHNjZW5hcmlvIG9mIHRva2VuIGNhdGVnb3JpZXMuXG4gKiAtICBBIHNpbmdsZSBwYXRoIHdpdGggY2F0ZWdvcmllcyBtYXkgbWF0Y2ggbXVsdGlwbGUgKiphY3R1YWwqKiBwYXRocy5cbiAqL1xuZnVuY3Rpb24gcGF0aFRvSGFzaEtleXMocGF0aCkge1xuICAgIGxldCBrZXlzID0gW1wiXCJdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB0b2tUeXBlID0gcGF0aFtpXTtcbiAgICAgICAgY29uc3QgbG9uZ2VyS2V5cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGtleXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJTaG9ydGVyS2V5ID0ga2V5c1tqXTtcbiAgICAgICAgICAgIGxvbmdlcktleXMucHVzaChjdXJyU2hvcnRlcktleSArIFwiX1wiICsgdG9rVHlwZS50b2tlblR5cGVJZHgpO1xuICAgICAgICAgICAgZm9yIChsZXQgdCA9IDA7IHQgPCB0b2tUeXBlLmNhdGVnb3J5TWF0Y2hlcy5sZW5ndGg7IHQrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3JpZXNLZXlTdWZmaXggPSBcIl9cIiArIHRva1R5cGUuY2F0ZWdvcnlNYXRjaGVzW3RdO1xuICAgICAgICAgICAgICAgIGxvbmdlcktleXMucHVzaChjdXJyU2hvcnRlcktleSArIGNhdGVnb3JpZXNLZXlTdWZmaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGtleXMgPSBsb25nZXJLZXlzO1xuICAgIH1cbiAgICByZXR1cm4ga2V5cztcbn1cbi8qKlxuICogSW1wZXJhdGl2ZSBzdHlsZSBkdWUgdG8gYmVpbmcgY2FsbGVkIGZyb20gYSBob3Qgc3BvdFxuICovXG5mdW5jdGlvbiBpc1VuaXF1ZVByZWZpeEhhc2goYWx0S25vd25QYXRoc0tleXMsIHNlYXJjaFBhdGhLZXlzLCBpZHgpIHtcbiAgICBmb3IgKGxldCBjdXJyQWx0SWR4ID0gMDsgY3VyckFsdElkeCA8IGFsdEtub3duUGF0aHNLZXlzLmxlbmd0aDsgY3VyckFsdElkeCsrKSB7XG4gICAgICAgIC8vIFdlIG9ubHkgd2FudCB0byB0ZXN0IHZzIHRoZSBvdGhlciBhbHRlcm5hdGl2ZXNcbiAgICAgICAgaWYgKGN1cnJBbHRJZHggPT09IGlkeCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3RoZXJBbHRLbm93blBhdGhzS2V5cyA9IGFsdEtub3duUGF0aHNLZXlzW2N1cnJBbHRJZHhdO1xuICAgICAgICBmb3IgKGxldCBzZWFyY2hJZHggPSAwOyBzZWFyY2hJZHggPCBzZWFyY2hQYXRoS2V5cy5sZW5ndGg7IHNlYXJjaElkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBzZWFyY2hLZXkgPSBzZWFyY2hQYXRoS2V5c1tzZWFyY2hJZHhdO1xuICAgICAgICAgICAgaWYgKG90aGVyQWx0S25vd25QYXRoc0tleXNbc2VhcmNoS2V5XSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBOb25lIG9mIHRoZSBTZWFyY2hQYXRoS2V5cyB3ZXJlIGZvdW5kIGluIGFueSBvZiB0aGUgb3RoZXIgYWx0ZXJuYXRpdmVzXG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gbG9va0FoZWFkU2VxdWVuY2VGcm9tQWx0ZXJuYXRpdmVzKGFsdHNEZWZzLCBrKSB7XG4gICAgY29uc3QgcGFydGlhbEFsdHMgPSBtYXAoYWx0c0RlZnMsIChjdXJyQWx0KSA9PiBwb3NzaWJsZVBhdGhzRnJvbShbY3VyckFsdF0sIDEpKTtcbiAgICBjb25zdCBmaW5hbFJlc3VsdCA9IGluaXRpYWxpemVBcnJheU9mQXJyYXlzKHBhcnRpYWxBbHRzLmxlbmd0aCk7XG4gICAgY29uc3QgYWx0c0hhc2hlcyA9IG1hcChwYXJ0aWFsQWx0cywgKGN1cnJBbHRQYXRocykgPT4ge1xuICAgICAgICBjb25zdCBkaWN0ID0ge307XG4gICAgICAgIGZvckVhY2goY3VyckFsdFBhdGhzLCAoaXRlbSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qga2V5cyA9IHBhdGhUb0hhc2hLZXlzKGl0ZW0ucGFydGlhbFBhdGgpO1xuICAgICAgICAgICAgZm9yRWFjaChrZXlzLCAoY3VycktleSkgPT4ge1xuICAgICAgICAgICAgICAgIGRpY3RbY3VycktleV0gPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGljdDtcbiAgICB9KTtcbiAgICBsZXQgbmV3RGF0YSA9IHBhcnRpYWxBbHRzO1xuICAgIC8vIG1heExvb2thaGVhZCBsb29wXG4gICAgZm9yIChsZXQgcGF0aExlbmd0aCA9IDE7IHBhdGhMZW5ndGggPD0gazsgcGF0aExlbmd0aCsrKSB7XG4gICAgICAgIGNvbnN0IGN1cnJEYXRhc2V0ID0gbmV3RGF0YTtcbiAgICAgICAgbmV3RGF0YSA9IGluaXRpYWxpemVBcnJheU9mQXJyYXlzKGN1cnJEYXRhc2V0Lmxlbmd0aCk7XG4gICAgICAgIC8vIGFsdGVybmF0aXZlcyBsb29wXG4gICAgICAgIGZvciAobGV0IGFsdElkeCA9IDA7IGFsdElkeCA8IGN1cnJEYXRhc2V0Lmxlbmd0aDsgYWx0SWR4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJBbHRQYXRoc0FuZFN1ZmZpeGVzID0gY3VyckRhdGFzZXRbYWx0SWR4XTtcbiAgICAgICAgICAgIC8vIHBhdGhzIGluIGN1cnJlbnQgYWx0ZXJuYXRpdmUgbG9vcFxuICAgICAgICAgICAgZm9yIChsZXQgY3VyclBhdGhJZHggPSAwOyBjdXJyUGF0aElkeCA8IGN1cnJBbHRQYXRoc0FuZFN1ZmZpeGVzLmxlbmd0aDsgY3VyclBhdGhJZHgrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJQYXRoUHJlZml4ID0gY3VyckFsdFBhdGhzQW5kU3VmZml4ZXNbY3VyclBhdGhJZHhdLnBhcnRpYWxQYXRoO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1ZmZpeERlZiA9IGN1cnJBbHRQYXRoc0FuZFN1ZmZpeGVzW2N1cnJQYXRoSWR4XS5zdWZmaXhEZWY7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJlZml4S2V5cyA9IHBhdGhUb0hhc2hLZXlzKGN1cnJQYXRoUHJlZml4KTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc1VuaXF1ZSA9IGlzVW5pcXVlUHJlZml4SGFzaChhbHRzSGFzaGVzLCBwcmVmaXhLZXlzLCBhbHRJZHgpO1xuICAgICAgICAgICAgICAgIC8vIEVuZCBvZiB0aGUgbGluZSBmb3IgdGhpcyBwYXRoLlxuICAgICAgICAgICAgICAgIGlmIChpc1VuaXF1ZSB8fCBpc0VtcHR5KHN1ZmZpeERlZikgfHwgY3VyclBhdGhQcmVmaXgubGVuZ3RoID09PSBrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJBbHRSZXN1bHQgPSBmaW5hbFJlc3VsdFthbHRJZHhdO1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBDYW4gd2UgaW1wbGVtZW50IGEgY29udGFpbnNQYXRoIHVzaW5nIE1hcHMvRGljdGlvbmFyaWVzP1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFpbnNQYXRoKGN1cnJBbHRSZXN1bHQsIGN1cnJQYXRoUHJlZml4KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJBbHRSZXN1bHQucHVzaChjdXJyUGF0aFByZWZpeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgYWxsIG5ldyAga2V5cyBmb3IgdGhlIGN1cnJlbnQgcGF0aC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcHJlZml4S2V5cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJLZXkgPSBwcmVmaXhLZXlzW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdHNIYXNoZXNbYWx0SWR4XVtjdXJyS2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRXhwYW5kIGxvbmdlciBwYXRoc1xuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdQYXJ0aWFsUGF0aHNBbmRTdWZmaXhlcyA9IHBvc3NpYmxlUGF0aHNGcm9tKHN1ZmZpeERlZiwgcGF0aExlbmd0aCArIDEsIGN1cnJQYXRoUHJlZml4KTtcbiAgICAgICAgICAgICAgICAgICAgbmV3RGF0YVthbHRJZHhdID0gbmV3RGF0YVthbHRJZHhdLmNvbmNhdChuZXdQYXJ0aWFsUGF0aHNBbmRTdWZmaXhlcyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBrZXlzIGZvciBuZXcga25vd24gcGF0aHNcbiAgICAgICAgICAgICAgICAgICAgZm9yRWFjaChuZXdQYXJ0aWFsUGF0aHNBbmRTdWZmaXhlcywgKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZWZpeEtleXMgPSBwYXRoVG9IYXNoS2V5cyhpdGVtLnBhcnRpYWxQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvckVhY2gocHJlZml4S2V5cywgKGtleSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdHNIYXNoZXNbYWx0SWR4XVtrZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZpbmFsUmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldExvb2thaGVhZFBhdGhzRm9yT3Iob2NjdXJyZW5jZSwgcnVsZUdyYW1tYXIsIGssIG9yUHJvZCkge1xuICAgIGNvbnN0IHZpc2l0b3IgPSBuZXcgSW5zaWRlRGVmaW5pdGlvbkZpbmRlclZpc2l0b3Iob2NjdXJyZW5jZSwgUFJPRF9UWVBFLkFMVEVSTkFUSU9OLCBvclByb2QpO1xuICAgIHJ1bGVHcmFtbWFyLmFjY2VwdCh2aXNpdG9yKTtcbiAgICByZXR1cm4gbG9va0FoZWFkU2VxdWVuY2VGcm9tQWx0ZXJuYXRpdmVzKHZpc2l0b3IucmVzdWx0LCBrKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRMb29rYWhlYWRQYXRoc0Zvck9wdGlvbmFsUHJvZChvY2N1cnJlbmNlLCBydWxlR3JhbW1hciwgcHJvZFR5cGUsIGspIHtcbiAgICBjb25zdCBpbnNpZGVEZWZWaXNpdG9yID0gbmV3IEluc2lkZURlZmluaXRpb25GaW5kZXJWaXNpdG9yKG9jY3VycmVuY2UsIHByb2RUeXBlKTtcbiAgICBydWxlR3JhbW1hci5hY2NlcHQoaW5zaWRlRGVmVmlzaXRvcik7XG4gICAgY29uc3QgaW5zaWRlRGVmID0gaW5zaWRlRGVmVmlzaXRvci5yZXN1bHQ7XG4gICAgY29uc3QgYWZ0ZXJEZWZXYWxrZXIgPSBuZXcgUmVzdERlZmluaXRpb25GaW5kZXJXYWxrZXIocnVsZUdyYW1tYXIsIG9jY3VycmVuY2UsIHByb2RUeXBlKTtcbiAgICBjb25zdCBhZnRlckRlZiA9IGFmdGVyRGVmV2Fsa2VyLnN0YXJ0V2Fsa2luZygpO1xuICAgIGNvbnN0IGluc2lkZUZsYXQgPSBuZXcgQWx0ZXJuYXRpdmVHQVNUKHsgZGVmaW5pdGlvbjogaW5zaWRlRGVmIH0pO1xuICAgIGNvbnN0IGFmdGVyRmxhdCA9IG5ldyBBbHRlcm5hdGl2ZUdBU1QoeyBkZWZpbml0aW9uOiBhZnRlckRlZiB9KTtcbiAgICByZXR1cm4gbG9va0FoZWFkU2VxdWVuY2VGcm9tQWx0ZXJuYXRpdmVzKFtpbnNpZGVGbGF0LCBhZnRlckZsYXRdLCBrKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc1BhdGgoYWx0ZXJuYXRpdmUsIHNlYXJjaFBhdGgpIHtcbiAgICBjb21wYXJlT3RoZXJQYXRoOiBmb3IgKGxldCBpID0gMDsgaSA8IGFsdGVybmF0aXZlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG90aGVyUGF0aCA9IGFsdGVybmF0aXZlW2ldO1xuICAgICAgICBpZiAob3RoZXJQYXRoLmxlbmd0aCAhPT0gc2VhcmNoUGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgb3RoZXJQYXRoLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBjb25zdCBzZWFyY2hUb2sgPSBzZWFyY2hQYXRoW2pdO1xuICAgICAgICAgICAgY29uc3Qgb3RoZXJUb2sgPSBvdGhlclBhdGhbal07XG4gICAgICAgICAgICBjb25zdCBtYXRjaGluZ1Rva2VucyA9IHNlYXJjaFRvayA9PT0gb3RoZXJUb2sgfHxcbiAgICAgICAgICAgICAgICBvdGhlclRvay5jYXRlZ29yeU1hdGNoZXNNYXBbc2VhcmNoVG9rLnRva2VuVHlwZUlkeF0gIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChtYXRjaGluZ1Rva2VucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZSBjb21wYXJlT3RoZXJQYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpY3RQcmVmaXhPZlBhdGgocHJlZml4LCBvdGhlcikge1xuICAgIHJldHVybiAocHJlZml4Lmxlbmd0aCA8IG90aGVyLmxlbmd0aCAmJlxuICAgICAgICBldmVyeShwcmVmaXgsICh0b2tUeXBlLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG90aGVyVG9rVHlwZSA9IG90aGVyW2lkeF07XG4gICAgICAgICAgICByZXR1cm4gKHRva1R5cGUgPT09IG90aGVyVG9rVHlwZSB8fFxuICAgICAgICAgICAgICAgIG90aGVyVG9rVHlwZS5jYXRlZ29yeU1hdGNoZXNNYXBbdG9rVHlwZS50b2tlblR5cGVJZHhdKTtcbiAgICAgICAgfSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFyZVRva2VuQ2F0ZWdvcmllc05vdFVzZWQobG9va0FoZWFkUGF0aHMpIHtcbiAgICByZXR1cm4gZXZlcnkobG9va0FoZWFkUGF0aHMsIChzaW5nbGVBbHRQYXRocykgPT4gZXZlcnkoc2luZ2xlQWx0UGF0aHMsIChzaW5nbGVQYXRoKSA9PiBldmVyeShzaW5nbGVQYXRoLCAodG9rZW4pID0+IGlzRW1wdHkodG9rZW4uY2F0ZWdvcnlNYXRjaGVzKSkpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvb2thaGVhZC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/lookahead.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/resolver.js":
/*!*******************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/parse/grammar/resolver.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GastRefResolverVisitor: () => (/* binding */ GastRefResolverVisitor),\n/* harmony export */   resolveGrammar: () => (/* binding */ resolveGrammar)\n/* harmony export */ });\n/* harmony import */ var _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parser/parser.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/parser/parser.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/forEach.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/values.js\");\n/* harmony import */ var _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chevrotain/gast */ \"(ssr)/./node_modules/@chevrotain/gast/lib/src/api.js\");\n\n\n\nfunction resolveGrammar(topLevels, errMsgProvider) {\n    const refResolver = new GastRefResolverVisitor(topLevels, errMsgProvider);\n    refResolver.resolveRefs();\n    return refResolver.errors;\n}\nclass GastRefResolverVisitor extends _chevrotain_gast__WEBPACK_IMPORTED_MODULE_1__.GAstVisitor {\n    constructor(nameToTopRule, errMsgProvider) {\n        super();\n        this.nameToTopRule = nameToTopRule;\n        this.errMsgProvider = errMsgProvider;\n        this.errors = [];\n    }\n    resolveRefs() {\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.nameToTopRule), (prod) => {\n            this.currTopLevel = prod;\n            prod.accept(this);\n        });\n    }\n    visitNonTerminal(node) {\n        const ref = this.nameToTopRule[node.nonTerminalName];\n        if (!ref) {\n            const msg = this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel, node);\n            this.errors.push({\n                message: msg,\n                type: _parser_parser_js__WEBPACK_IMPORTED_MODULE_0__.ParserDefinitionErrorType.UNRESOLVED_SUBRULE_REF,\n                ruleName: this.currTopLevel.name,\n                unresolvedRefName: node.nonTerminalName,\n            });\n        }\n        else {\n            node.referencedRule = ref;\n        }\n    }\n}\n//# sourceMappingURL=resolver.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL2dyYW1tYXIvcmVzb2x2ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWlFO0FBQ3JCO0FBQ0c7QUFDeEM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHFDQUFxQyx5REFBVztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEscURBQU8sQ0FBQyxxREFBTTtBQUN0QjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHdFQUF5QjtBQUMvQztBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVybWFpZC1kaWFncmFtLWVkaXRvci8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvZ3JhbW1hci9yZXNvbHZlci5qcz84NjBkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUsIH0gZnJvbSBcIi4uL3BhcnNlci9wYXJzZXIuanNcIjtcbmltcG9ydCB7IGZvckVhY2gsIHZhbHVlcyB9IGZyb20gXCJsb2Rhc2gtZXNcIjtcbmltcG9ydCB7IEdBc3RWaXNpdG9yIH0gZnJvbSBcIkBjaGV2cm90YWluL2dhc3RcIjtcbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlR3JhbW1hcih0b3BMZXZlbHMsIGVyck1zZ1Byb3ZpZGVyKSB7XG4gICAgY29uc3QgcmVmUmVzb2x2ZXIgPSBuZXcgR2FzdFJlZlJlc29sdmVyVmlzaXRvcih0b3BMZXZlbHMsIGVyck1zZ1Byb3ZpZGVyKTtcbiAgICByZWZSZXNvbHZlci5yZXNvbHZlUmVmcygpO1xuICAgIHJldHVybiByZWZSZXNvbHZlci5lcnJvcnM7XG59XG5leHBvcnQgY2xhc3MgR2FzdFJlZlJlc29sdmVyVmlzaXRvciBleHRlbmRzIEdBc3RWaXNpdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lVG9Ub3BSdWxlLCBlcnJNc2dQcm92aWRlcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm5hbWVUb1RvcFJ1bGUgPSBuYW1lVG9Ub3BSdWxlO1xuICAgICAgICB0aGlzLmVyck1zZ1Byb3ZpZGVyID0gZXJyTXNnUHJvdmlkZXI7XG4gICAgICAgIHRoaXMuZXJyb3JzID0gW107XG4gICAgfVxuICAgIHJlc29sdmVSZWZzKCkge1xuICAgICAgICBmb3JFYWNoKHZhbHVlcyh0aGlzLm5hbWVUb1RvcFJ1bGUpLCAocHJvZCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jdXJyVG9wTGV2ZWwgPSBwcm9kO1xuICAgICAgICAgICAgcHJvZC5hY2NlcHQodGhpcyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB2aXNpdE5vblRlcm1pbmFsKG5vZGUpIHtcbiAgICAgICAgY29uc3QgcmVmID0gdGhpcy5uYW1lVG9Ub3BSdWxlW25vZGUubm9uVGVybWluYWxOYW1lXTtcbiAgICAgICAgaWYgKCFyZWYpIHtcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IHRoaXMuZXJyTXNnUHJvdmlkZXIuYnVpbGRSdWxlTm90Rm91bmRFcnJvcih0aGlzLmN1cnJUb3BMZXZlbCwgbm9kZSk7XG4gICAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBtc2csXG4gICAgICAgICAgICAgICAgdHlwZTogUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZS5VTlJFU09MVkVEX1NVQlJVTEVfUkVGLFxuICAgICAgICAgICAgICAgIHJ1bGVOYW1lOiB0aGlzLmN1cnJUb3BMZXZlbC5uYW1lLFxuICAgICAgICAgICAgICAgIHVucmVzb2x2ZWRSZWZOYW1lOiBub2RlLm5vblRlcm1pbmFsTmFtZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbm9kZS5yZWZlcmVuY2VkUnVsZSA9IHJlZjtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc29sdmVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/resolver.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/rest.js":
/*!***************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/parse/grammar/rest.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RestWalker: () => (/* binding */ RestWalker)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/forEach.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/drop.js\");\n/* harmony import */ var _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @chevrotain/gast */ \"(ssr)/./node_modules/@chevrotain/gast/lib/src/api.js\");\n\n\n/**\n *  A Grammar Walker that computes the \"remaining\" grammar \"after\" a productions in the grammar.\n */\nclass RestWalker {\n    walk(prod, prevRest = []) {\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(prod.definition, (subProd, index) => {\n            const currRest = (0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(prod.definition, index + 1);\n            /* istanbul ignore else */\n            if (subProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.NonTerminal) {\n                this.walkProdRef(subProd, currRest, prevRest);\n            }\n            else if (subProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Terminal) {\n                this.walkTerminal(subProd, currRest, prevRest);\n            }\n            else if (subProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Alternative) {\n                this.walkFlat(subProd, currRest, prevRest);\n            }\n            else if (subProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Option) {\n                this.walkOption(subProd, currRest, prevRest);\n            }\n            else if (subProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.RepetitionMandatory) {\n                this.walkAtLeastOne(subProd, currRest, prevRest);\n            }\n            else if (subProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.RepetitionMandatoryWithSeparator) {\n                this.walkAtLeastOneSep(subProd, currRest, prevRest);\n            }\n            else if (subProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.RepetitionWithSeparator) {\n                this.walkManySep(subProd, currRest, prevRest);\n            }\n            else if (subProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Repetition) {\n                this.walkMany(subProd, currRest, prevRest);\n            }\n            else if (subProd instanceof _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Alternation) {\n                this.walkOr(subProd, currRest, prevRest);\n            }\n            else {\n                throw Error(\"non exhaustive match\");\n            }\n        });\n    }\n    walkTerminal(terminal, currRest, prevRest) { }\n    walkProdRef(refProd, currRest, prevRest) { }\n    walkFlat(flatProd, currRest, prevRest) {\n        // ABCDEF => after the D the rest is EF\n        const fullOrRest = currRest.concat(prevRest);\n        this.walk(flatProd, fullOrRest);\n    }\n    walkOption(optionProd, currRest, prevRest) {\n        // ABC(DE)?F => after the (DE)? the rest is F\n        const fullOrRest = currRest.concat(prevRest);\n        this.walk(optionProd, fullOrRest);\n    }\n    walkAtLeastOne(atLeastOneProd, currRest, prevRest) {\n        // ABC(DE)+F => after the (DE)+ the rest is (DE)?F\n        const fullAtLeastOneRest = [\n            new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Option({ definition: atLeastOneProd.definition }),\n        ].concat(currRest, prevRest);\n        this.walk(atLeastOneProd, fullAtLeastOneRest);\n    }\n    walkAtLeastOneSep(atLeastOneSepProd, currRest, prevRest) {\n        // ABC DE(,DE)* F => after the (,DE)+ the rest is (,DE)?F\n        const fullAtLeastOneSepRest = restForRepetitionWithSeparator(atLeastOneSepProd, currRest, prevRest);\n        this.walk(atLeastOneSepProd, fullAtLeastOneSepRest);\n    }\n    walkMany(manyProd, currRest, prevRest) {\n        // ABC(DE)*F => after the (DE)* the rest is (DE)?F\n        const fullManyRest = [\n            new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Option({ definition: manyProd.definition }),\n        ].concat(currRest, prevRest);\n        this.walk(manyProd, fullManyRest);\n    }\n    walkManySep(manySepProd, currRest, prevRest) {\n        // ABC (DE(,DE)*)? F => after the (,DE)* the rest is (,DE)?F\n        const fullManySepRest = restForRepetitionWithSeparator(manySepProd, currRest, prevRest);\n        this.walk(manySepProd, fullManySepRest);\n    }\n    walkOr(orProd, currRest, prevRest) {\n        // ABC(D|E|F)G => when finding the (D|E|F) the rest is G\n        const fullOrRest = currRest.concat(prevRest);\n        // walk all different alternatives\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(orProd.definition, (alt) => {\n            // wrapping each alternative in a single definition wrapper\n            // to avoid errors in computing the rest of that alternative in the invocation to computeInProdFollows\n            // (otherwise for OR([alt1,alt2]) alt2 will be considered in 'rest' of alt1\n            const prodWrapper = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Alternative({ definition: [alt] });\n            this.walk(prodWrapper, fullOrRest);\n        });\n    }\n}\nfunction restForRepetitionWithSeparator(repSepProd, currRest, prevRest) {\n    const repSepRest = [\n        new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Option({\n            definition: [\n                new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Terminal({ terminalType: repSepProd.separator }),\n            ].concat(repSepProd.definition),\n        }),\n    ];\n    const fullRepSepRest = repSepRest.concat(currRest, prevRest);\n    return fullRepSepRest;\n}\n//# sourceMappingURL=rest.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL2dyYW1tYXIvcmVzdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTBDO0FBQzhJO0FBQ3hMO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxRQUFRLHFEQUFPO0FBQ2YsNkJBQTZCLHFEQUFJO0FBQ2pDO0FBQ0EsbUNBQW1DLHlEQUFXO0FBQzlDO0FBQ0E7QUFDQSx3Q0FBd0Msc0RBQVE7QUFDaEQ7QUFDQTtBQUNBLHdDQUF3Qyx5REFBVztBQUNuRDtBQUNBO0FBQ0Esd0NBQXdDLG9EQUFNO0FBQzlDO0FBQ0E7QUFDQSx3Q0FBd0MsaUVBQW1CO0FBQzNEO0FBQ0E7QUFDQSx3Q0FBd0MsOEVBQWdDO0FBQ3hFO0FBQ0E7QUFDQSx3Q0FBd0MscUVBQXVCO0FBQy9EO0FBQ0E7QUFDQSx3Q0FBd0Msd0RBQVU7QUFDbEQ7QUFDQTtBQUNBLHdDQUF3Qyx5REFBVztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG9EQUFNLEdBQUcsdUNBQXVDO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isb0RBQU0sR0FBRyxpQ0FBaUM7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxREFBTztBQUNmO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx5REFBVyxHQUFHLG1CQUFtQjtBQUNyRTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksb0RBQU07QUFDbEI7QUFDQSxvQkFBb0Isc0RBQVEsR0FBRyxvQ0FBb0M7QUFDbkU7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL21lcm1haWQtZGlhZ3JhbS1lZGl0b3IvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL2dyYW1tYXIvcmVzdC5qcz8xOGQ4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRyb3AsIGZvckVhY2ggfSBmcm9tIFwibG9kYXNoLWVzXCI7XG5pbXBvcnQgeyBBbHRlcm5hdGlvbiwgQWx0ZXJuYXRpdmUsIE5vblRlcm1pbmFsLCBPcHRpb24sIFJlcGV0aXRpb24sIFJlcGV0aXRpb25NYW5kYXRvcnksIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yLCBSZXBldGl0aW9uV2l0aFNlcGFyYXRvciwgVGVybWluYWwsIH0gZnJvbSBcIkBjaGV2cm90YWluL2dhc3RcIjtcbi8qKlxuICogIEEgR3JhbW1hciBXYWxrZXIgdGhhdCBjb21wdXRlcyB0aGUgXCJyZW1haW5pbmdcIiBncmFtbWFyIFwiYWZ0ZXJcIiBhIHByb2R1Y3Rpb25zIGluIHRoZSBncmFtbWFyLlxuICovXG5leHBvcnQgY2xhc3MgUmVzdFdhbGtlciB7XG4gICAgd2Fsayhwcm9kLCBwcmV2UmVzdCA9IFtdKSB7XG4gICAgICAgIGZvckVhY2gocHJvZC5kZWZpbml0aW9uLCAoc3ViUHJvZCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJSZXN0ID0gZHJvcChwcm9kLmRlZmluaXRpb24sIGluZGV4ICsgMSk7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgaWYgKHN1YlByb2QgaW5zdGFuY2VvZiBOb25UZXJtaW5hbCkge1xuICAgICAgICAgICAgICAgIHRoaXMud2Fsa1Byb2RSZWYoc3ViUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN1YlByb2QgaW5zdGFuY2VvZiBUZXJtaW5hbCkge1xuICAgICAgICAgICAgICAgIHRoaXMud2Fsa1Rlcm1pbmFsKHN1YlByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdWJQcm9kIGluc3RhbmNlb2YgQWx0ZXJuYXRpdmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndhbGtGbGF0KHN1YlByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdWJQcm9kIGluc3RhbmNlb2YgT3B0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53YWxrT3B0aW9uKHN1YlByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdWJQcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbk1hbmRhdG9yeSkge1xuICAgICAgICAgICAgICAgIHRoaXMud2Fsa0F0TGVhc3RPbmUoc3ViUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN1YlByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvcikge1xuICAgICAgICAgICAgICAgIHRoaXMud2Fsa0F0TGVhc3RPbmVTZXAoc3ViUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN1YlByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uV2l0aFNlcGFyYXRvcikge1xuICAgICAgICAgICAgICAgIHRoaXMud2Fsa01hbnlTZXAoc3ViUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN1YlByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53YWxrTWFueShzdWJQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3ViUHJvZCBpbnN0YW5jZW9mIEFsdGVybmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53YWxrT3Ioc3ViUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwibm9uIGV4aGF1c3RpdmUgbWF0Y2hcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB3YWxrVGVybWluYWwodGVybWluYWwsIGN1cnJSZXN0LCBwcmV2UmVzdCkgeyB9XG4gICAgd2Fsa1Byb2RSZWYocmVmUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7IH1cbiAgICB3YWxrRmxhdChmbGF0UHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIC8vIEFCQ0RFRiA9PiBhZnRlciB0aGUgRCB0aGUgcmVzdCBpcyBFRlxuICAgICAgICBjb25zdCBmdWxsT3JSZXN0ID0gY3VyclJlc3QuY29uY2F0KHByZXZSZXN0KTtcbiAgICAgICAgdGhpcy53YWxrKGZsYXRQcm9kLCBmdWxsT3JSZXN0KTtcbiAgICB9XG4gICAgd2Fsa09wdGlvbihvcHRpb25Qcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgLy8gQUJDKERFKT9GID0+IGFmdGVyIHRoZSAoREUpPyB0aGUgcmVzdCBpcyBGXG4gICAgICAgIGNvbnN0IGZ1bGxPclJlc3QgPSBjdXJyUmVzdC5jb25jYXQocHJldlJlc3QpO1xuICAgICAgICB0aGlzLndhbGsob3B0aW9uUHJvZCwgZnVsbE9yUmVzdCk7XG4gICAgfVxuICAgIHdhbGtBdExlYXN0T25lKGF0TGVhc3RPbmVQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgLy8gQUJDKERFKStGID0+IGFmdGVyIHRoZSAoREUpKyB0aGUgcmVzdCBpcyAoREUpP0ZcbiAgICAgICAgY29uc3QgZnVsbEF0TGVhc3RPbmVSZXN0ID0gW1xuICAgICAgICAgICAgbmV3IE9wdGlvbih7IGRlZmluaXRpb246IGF0TGVhc3RPbmVQcm9kLmRlZmluaXRpb24gfSksXG4gICAgICAgIF0uY29uY2F0KGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgIHRoaXMud2FsayhhdExlYXN0T25lUHJvZCwgZnVsbEF0TGVhc3RPbmVSZXN0KTtcbiAgICB9XG4gICAgd2Fsa0F0TGVhc3RPbmVTZXAoYXRMZWFzdE9uZVNlcFByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICAvLyBBQkMgREUoLERFKSogRiA9PiBhZnRlciB0aGUgKCxERSkrIHRoZSByZXN0IGlzICgsREUpP0ZcbiAgICAgICAgY29uc3QgZnVsbEF0TGVhc3RPbmVTZXBSZXN0ID0gcmVzdEZvclJlcGV0aXRpb25XaXRoU2VwYXJhdG9yKGF0TGVhc3RPbmVTZXBQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICB0aGlzLndhbGsoYXRMZWFzdE9uZVNlcFByb2QsIGZ1bGxBdExlYXN0T25lU2VwUmVzdCk7XG4gICAgfVxuICAgIHdhbGtNYW55KG1hbnlQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgLy8gQUJDKERFKSpGID0+IGFmdGVyIHRoZSAoREUpKiB0aGUgcmVzdCBpcyAoREUpP0ZcbiAgICAgICAgY29uc3QgZnVsbE1hbnlSZXN0ID0gW1xuICAgICAgICAgICAgbmV3IE9wdGlvbih7IGRlZmluaXRpb246IG1hbnlQcm9kLmRlZmluaXRpb24gfSksXG4gICAgICAgIF0uY29uY2F0KGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgIHRoaXMud2FsayhtYW55UHJvZCwgZnVsbE1hbnlSZXN0KTtcbiAgICB9XG4gICAgd2Fsa01hbnlTZXAobWFueVNlcFByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICAvLyBBQkMgKERFKCxERSkqKT8gRiA9PiBhZnRlciB0aGUgKCxERSkqIHRoZSByZXN0IGlzICgsREUpP0ZcbiAgICAgICAgY29uc3QgZnVsbE1hbnlTZXBSZXN0ID0gcmVzdEZvclJlcGV0aXRpb25XaXRoU2VwYXJhdG9yKG1hbnlTZXBQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICB0aGlzLndhbGsobWFueVNlcFByb2QsIGZ1bGxNYW55U2VwUmVzdCk7XG4gICAgfVxuICAgIHdhbGtPcihvclByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICAvLyBBQkMoRHxFfEYpRyA9PiB3aGVuIGZpbmRpbmcgdGhlIChEfEV8RikgdGhlIHJlc3QgaXMgR1xuICAgICAgICBjb25zdCBmdWxsT3JSZXN0ID0gY3VyclJlc3QuY29uY2F0KHByZXZSZXN0KTtcbiAgICAgICAgLy8gd2FsayBhbGwgZGlmZmVyZW50IGFsdGVybmF0aXZlc1xuICAgICAgICBmb3JFYWNoKG9yUHJvZC5kZWZpbml0aW9uLCAoYWx0KSA9PiB7XG4gICAgICAgICAgICAvLyB3cmFwcGluZyBlYWNoIGFsdGVybmF0aXZlIGluIGEgc2luZ2xlIGRlZmluaXRpb24gd3JhcHBlclxuICAgICAgICAgICAgLy8gdG8gYXZvaWQgZXJyb3JzIGluIGNvbXB1dGluZyB0aGUgcmVzdCBvZiB0aGF0IGFsdGVybmF0aXZlIGluIHRoZSBpbnZvY2F0aW9uIHRvIGNvbXB1dGVJblByb2RGb2xsb3dzXG4gICAgICAgICAgICAvLyAob3RoZXJ3aXNlIGZvciBPUihbYWx0MSxhbHQyXSkgYWx0MiB3aWxsIGJlIGNvbnNpZGVyZWQgaW4gJ3Jlc3QnIG9mIGFsdDFcbiAgICAgICAgICAgIGNvbnN0IHByb2RXcmFwcGVyID0gbmV3IEFsdGVybmF0aXZlKHsgZGVmaW5pdGlvbjogW2FsdF0gfSk7XG4gICAgICAgICAgICB0aGlzLndhbGsocHJvZFdyYXBwZXIsIGZ1bGxPclJlc3QpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiByZXN0Rm9yUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IocmVwU2VwUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgY29uc3QgcmVwU2VwUmVzdCA9IFtcbiAgICAgICAgbmV3IE9wdGlvbih7XG4gICAgICAgICAgICBkZWZpbml0aW9uOiBbXG4gICAgICAgICAgICAgICAgbmV3IFRlcm1pbmFsKHsgdGVybWluYWxUeXBlOiByZXBTZXBQcm9kLnNlcGFyYXRvciB9KSxcbiAgICAgICAgICAgIF0uY29uY2F0KHJlcFNlcFByb2QuZGVmaW5pdGlvbiksXG4gICAgICAgIH0pLFxuICAgIF07XG4gICAgY29uc3QgZnVsbFJlcFNlcFJlc3QgPSByZXBTZXBSZXN0LmNvbmNhdChjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgIHJldHVybiBmdWxsUmVwU2VwUmVzdDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc3QuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/rest.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/parse/parser/parser.js":
/*!****************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/parse/parser/parser.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CstParser: () => (/* binding */ CstParser),\n/* harmony export */   DEFAULT_PARSER_CONFIG: () => (/* binding */ DEFAULT_PARSER_CONFIG),\n/* harmony export */   DEFAULT_RULE_CONFIG: () => (/* binding */ DEFAULT_RULE_CONFIG),\n/* harmony export */   EMPTY_ALT: () => (/* binding */ EMPTY_ALT),\n/* harmony export */   END_OF_FILE: () => (/* binding */ END_OF_FILE),\n/* harmony export */   EmbeddedActionsParser: () => (/* binding */ EmbeddedActionsParser),\n/* harmony export */   Parser: () => (/* binding */ Parser),\n/* harmony export */   ParserDefinitionErrorType: () => (/* binding */ ParserDefinitionErrorType)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/forEach.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/values.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isEmpty.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/map.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/has.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/clone.js\");\n/* harmony import */ var _chevrotain_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @chevrotain/utils */ \"(ssr)/./node_modules/@chevrotain/utils/lib/src/api.js\");\n/* harmony import */ var _grammar_follow_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../grammar/follow.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/follow.js\");\n/* harmony import */ var _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../scan/tokens_public.js */ \"(ssr)/./node_modules/chevrotain/lib/src/scan/tokens_public.js\");\n/* harmony import */ var _errors_public_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../errors_public.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/errors_public.js\");\n/* harmony import */ var _grammar_gast_gast_resolver_public_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../grammar/gast/gast_resolver_public.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/gast/gast_resolver_public.js\");\n/* harmony import */ var _traits_recoverable_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./traits/recoverable.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/recoverable.js\");\n/* harmony import */ var _traits_looksahead_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./traits/looksahead.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/looksahead.js\");\n/* harmony import */ var _traits_tree_builder_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./traits/tree_builder.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/tree_builder.js\");\n/* harmony import */ var _traits_lexer_adapter_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./traits/lexer_adapter.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/lexer_adapter.js\");\n/* harmony import */ var _traits_recognizer_api_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./traits/recognizer_api.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/recognizer_api.js\");\n/* harmony import */ var _traits_recognizer_engine_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./traits/recognizer_engine.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/recognizer_engine.js\");\n/* harmony import */ var _traits_error_handler_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./traits/error_handler.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/error_handler.js\");\n/* harmony import */ var _traits_context_assist_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./traits/context_assist.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/context_assist.js\");\n/* harmony import */ var _traits_gast_recorder_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./traits/gast_recorder.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/gast_recorder.js\");\n/* harmony import */ var _traits_perf_tracer_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./traits/perf_tracer.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/perf_tracer.js\");\n/* harmony import */ var _utils_apply_mixins_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./utils/apply_mixins.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/parser/utils/apply_mixins.js\");\n/* harmony import */ var _grammar_checks_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../grammar/checks.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/checks.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst END_OF_FILE = (0,_scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_2__.createTokenInstance)(_scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_2__.EOF, \"\", NaN, NaN, NaN, NaN, NaN, NaN);\nObject.freeze(END_OF_FILE);\nconst DEFAULT_PARSER_CONFIG = Object.freeze({\n    recoveryEnabled: false,\n    maxLookahead: 3,\n    dynamicTokensEnabled: false,\n    outputCst: true,\n    errorMessageProvider: _errors_public_js__WEBPACK_IMPORTED_MODULE_3__.defaultParserErrorProvider,\n    nodeLocationTracking: \"none\",\n    traceInitPerf: false,\n    skipValidations: false,\n});\nconst DEFAULT_RULE_CONFIG = Object.freeze({\n    recoveryValueFunc: () => undefined,\n    resyncEnabled: true,\n});\nvar ParserDefinitionErrorType;\n(function (ParserDefinitionErrorType) {\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"INVALID_RULE_NAME\"] = 0] = \"INVALID_RULE_NAME\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"DUPLICATE_RULE_NAME\"] = 1] = \"DUPLICATE_RULE_NAME\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"INVALID_RULE_OVERRIDE\"] = 2] = \"INVALID_RULE_OVERRIDE\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"DUPLICATE_PRODUCTIONS\"] = 3] = \"DUPLICATE_PRODUCTIONS\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"UNRESOLVED_SUBRULE_REF\"] = 4] = \"UNRESOLVED_SUBRULE_REF\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"LEFT_RECURSION\"] = 5] = \"LEFT_RECURSION\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"NONE_LAST_EMPTY_ALT\"] = 6] = \"NONE_LAST_EMPTY_ALT\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"AMBIGUOUS_ALTS\"] = 7] = \"AMBIGUOUS_ALTS\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"CONFLICT_TOKENS_RULES_NAMESPACE\"] = 8] = \"CONFLICT_TOKENS_RULES_NAMESPACE\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"INVALID_TOKEN_NAME\"] = 9] = \"INVALID_TOKEN_NAME\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"NO_NON_EMPTY_LOOKAHEAD\"] = 10] = \"NO_NON_EMPTY_LOOKAHEAD\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"AMBIGUOUS_PREFIX_ALTS\"] = 11] = \"AMBIGUOUS_PREFIX_ALTS\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"TOO_MANY_ALTS\"] = 12] = \"TOO_MANY_ALTS\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"CUSTOM_LOOKAHEAD_VALIDATION\"] = 13] = \"CUSTOM_LOOKAHEAD_VALIDATION\";\n})(ParserDefinitionErrorType || (ParserDefinitionErrorType = {}));\nfunction EMPTY_ALT(value = undefined) {\n    return function () {\n        return value;\n    };\n}\nclass Parser {\n    /**\n     *  @deprecated use the **instance** method with the same name instead\n     */\n    static performSelfAnalysis(parserInstance) {\n        throw Error(\"The **static** `performSelfAnalysis` method has been deprecated.\" +\n            \"\\t\\nUse the **instance** method with the same name instead.\");\n    }\n    performSelfAnalysis() {\n        this.TRACE_INIT(\"performSelfAnalysis\", () => {\n            let defErrorsMsgs;\n            this.selfAnalysisDone = true;\n            const className = this.className;\n            this.TRACE_INIT(\"toFastProps\", () => {\n                // Without this voodoo magic the parser would be x3-x4 slower\n                // It seems it is better to invoke `toFastProperties` **before**\n                // Any manipulations of the `this` object done during the recording phase.\n                (0,_chevrotain_utils__WEBPACK_IMPORTED_MODULE_0__.toFastProperties)(this);\n            });\n            this.TRACE_INIT(\"Grammar Recording\", () => {\n                try {\n                    this.enableRecording();\n                    // Building the GAST\n                    (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(this.definedRulesNames, (currRuleName) => {\n                        const wrappedRule = this[currRuleName];\n                        const originalGrammarAction = wrappedRule[\"originalGrammarAction\"];\n                        let recordedRuleGast;\n                        this.TRACE_INIT(`${currRuleName} Rule`, () => {\n                            recordedRuleGast = this.topLevelRuleRecord(currRuleName, originalGrammarAction);\n                        });\n                        this.gastProductionsCache[currRuleName] = recordedRuleGast;\n                    });\n                }\n                finally {\n                    this.disableRecording();\n                }\n            });\n            let resolverErrors = [];\n            this.TRACE_INIT(\"Grammar Resolving\", () => {\n                resolverErrors = (0,_grammar_gast_gast_resolver_public_js__WEBPACK_IMPORTED_MODULE_4__.resolveGrammar)({\n                    rules: (0,lodash_es__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(this.gastProductionsCache),\n                });\n                this.definitionErrors = this.definitionErrors.concat(resolverErrors);\n            });\n            this.TRACE_INIT(\"Grammar Validations\", () => {\n                // only perform additional grammar validations IFF no resolving errors have occurred.\n                // as unresolved grammar may lead to unhandled runtime exceptions in the follow up validations.\n                if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(resolverErrors) && this.skipValidations === false) {\n                    const validationErrors = (0,_grammar_gast_gast_resolver_public_js__WEBPACK_IMPORTED_MODULE_4__.validateGrammar)({\n                        rules: (0,lodash_es__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(this.gastProductionsCache),\n                        tokenTypes: (0,lodash_es__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(this.tokensMap),\n                        errMsgProvider: _errors_public_js__WEBPACK_IMPORTED_MODULE_3__.defaultGrammarValidatorErrorProvider,\n                        grammarName: className,\n                    });\n                    const lookaheadValidationErrors = (0,_grammar_checks_js__WEBPACK_IMPORTED_MODULE_16__.validateLookahead)({\n                        lookaheadStrategy: this.lookaheadStrategy,\n                        rules: (0,lodash_es__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(this.gastProductionsCache),\n                        tokenTypes: (0,lodash_es__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(this.tokensMap),\n                        grammarName: className,\n                    });\n                    this.definitionErrors = this.definitionErrors.concat(validationErrors, lookaheadValidationErrors);\n                }\n            });\n            // this analysis may fail if the grammar is not perfectly valid\n            if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(this.definitionErrors)) {\n                // The results of these computations are not needed unless error recovery is enabled.\n                if (this.recoveryEnabled) {\n                    this.TRACE_INIT(\"computeAllProdsFollows\", () => {\n                        const allFollows = (0,_grammar_follow_js__WEBPACK_IMPORTED_MODULE_1__.computeAllProdsFollows)((0,lodash_es__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(this.gastProductionsCache));\n                        this.resyncFollows = allFollows;\n                    });\n                }\n                this.TRACE_INIT(\"ComputeLookaheadFunctions\", () => {\n                    var _a, _b;\n                    (_b = (_a = this.lookaheadStrategy).initialize) === null || _b === void 0 ? void 0 : _b.call(_a, {\n                        rules: (0,lodash_es__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(this.gastProductionsCache),\n                    });\n                    this.preComputeLookaheadFunctions((0,lodash_es__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(this.gastProductionsCache));\n                });\n            }\n            if (!Parser.DEFER_DEFINITION_ERRORS_HANDLING &&\n                !(0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(this.definitionErrors)) {\n                defErrorsMsgs = (0,lodash_es__WEBPACK_IMPORTED_MODULE_20__[\"default\"])(this.definitionErrors, (defError) => defError.message);\n                throw new Error(`Parser Definition Errors detected:\\n ${defErrorsMsgs.join(\"\\n-------------------------------\\n\")}`);\n            }\n        });\n    }\n    constructor(tokenVocabulary, config) {\n        this.definitionErrors = [];\n        this.selfAnalysisDone = false;\n        const that = this;\n        that.initErrorHandler(config);\n        that.initLexerAdapter();\n        that.initLooksAhead(config);\n        that.initRecognizerEngine(tokenVocabulary, config);\n        that.initRecoverable(config);\n        that.initTreeBuilder(config);\n        that.initContentAssist();\n        that.initGastRecorder(config);\n        that.initPerformanceTracer(config);\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_21__[\"default\"])(config, \"ignoredIssues\")) {\n            throw new Error(\"The <ignoredIssues> IParserConfig property has been deprecated.\\n\\t\" +\n                \"Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\\n\\t\" +\n                \"See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\\n\\t\" +\n                \"For further details.\");\n        }\n        this.skipValidations = (0,lodash_es__WEBPACK_IMPORTED_MODULE_21__[\"default\"])(config, \"skipValidations\")\n            ? config.skipValidations // casting assumes the end user passing the correct type\n            : DEFAULT_PARSER_CONFIG.skipValidations;\n    }\n}\n// Set this flag to true if you don't want the Parser to throw error when problems in it's definition are detected.\n// (normally during the parser's constructor).\n// This is a design time flag, it will not affect the runtime error handling of the parser, just design time errors,\n// for example: duplicate rule names, referencing an unresolved subrule, ect...\n// This flag should not be enabled during normal usage, it is used in special situations, for example when\n// needing to display the parser definition errors in some GUI(online playground).\nParser.DEFER_DEFINITION_ERRORS_HANDLING = false;\n(0,_utils_apply_mixins_js__WEBPACK_IMPORTED_MODULE_15__.applyMixins)(Parser, [\n    _traits_recoverable_js__WEBPACK_IMPORTED_MODULE_5__.Recoverable,\n    _traits_looksahead_js__WEBPACK_IMPORTED_MODULE_6__.LooksAhead,\n    _traits_tree_builder_js__WEBPACK_IMPORTED_MODULE_7__.TreeBuilder,\n    _traits_lexer_adapter_js__WEBPACK_IMPORTED_MODULE_8__.LexerAdapter,\n    _traits_recognizer_engine_js__WEBPACK_IMPORTED_MODULE_10__.RecognizerEngine,\n    _traits_recognizer_api_js__WEBPACK_IMPORTED_MODULE_9__.RecognizerApi,\n    _traits_error_handler_js__WEBPACK_IMPORTED_MODULE_11__.ErrorHandler,\n    _traits_context_assist_js__WEBPACK_IMPORTED_MODULE_12__.ContentAssist,\n    _traits_gast_recorder_js__WEBPACK_IMPORTED_MODULE_13__.GastRecorder,\n    _traits_perf_tracer_js__WEBPACK_IMPORTED_MODULE_14__.PerformanceTracer,\n]);\nclass CstParser extends Parser {\n    constructor(tokenVocabulary, config = DEFAULT_PARSER_CONFIG) {\n        const configClone = (0,lodash_es__WEBPACK_IMPORTED_MODULE_22__[\"default\"])(config);\n        configClone.outputCst = true;\n        super(tokenVocabulary, configClone);\n    }\n}\nclass EmbeddedActionsParser extends Parser {\n    constructor(tokenVocabulary, config = DEFAULT_PARSER_CONFIG) {\n        const configClone = (0,lodash_es__WEBPACK_IMPORTED_MODULE_22__[\"default\"])(config);\n        configClone.outputCst = false;\n        super(tokenVocabulary, configClone);\n    }\n}\n//# sourceMappingURL=parser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL3BhcnNlci9wYXJzZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRTtBQUNqQjtBQUNTO0FBQ1M7QUFDaUM7QUFDYjtBQUNyQztBQUNGO0FBQ0c7QUFDRTtBQUNFO0FBQ007QUFDUjtBQUNFO0FBQ0Y7QUFDRztBQUNOO0FBQ0c7QUFDbEQsb0JBQW9CLDJFQUFtQixDQUFDLHVEQUFHO0FBQ2xEO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix5RUFBMEI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNNO0FBQ1A7QUFDQTtBQUNBLENBQUM7QUFDTTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsOERBQThEO0FBQ3hEO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG1FQUFnQjtBQUNoQyxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isc0RBQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLGNBQWM7QUFDekQ7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGlDQUFpQyxxRkFBYztBQUMvQywyQkFBMkIsc0RBQU07QUFDakMsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixzREFBTztBQUMzQiw2Q0FBNkMsc0ZBQWU7QUFDNUQsK0JBQStCLHNEQUFNO0FBQ3JDLG9DQUFvQyxzREFBTTtBQUMxQyx3Q0FBd0MsbUZBQW9DO0FBQzVFO0FBQ0EscUJBQXFCO0FBQ3JCLHNEQUFzRCxzRUFBaUI7QUFDdkU7QUFDQSwrQkFBK0Isc0RBQU07QUFDckMsb0NBQW9DLHNEQUFNO0FBQzFDO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxnQkFBZ0Isc0RBQU87QUFDdkI7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLDBFQUFzQixDQUFDLHNEQUFNO0FBQ3hFO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHNEQUFNO0FBQ3JDLHFCQUFxQjtBQUNyQixzREFBc0Qsc0RBQU07QUFDNUQsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUIsc0RBQU87QUFDeEIsZ0NBQWdDLHNEQUFHO0FBQ25DLHdFQUF3RSwwREFBMEQ7QUFDbEk7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksc0RBQUc7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHNEQUFHO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBVztBQUNYLElBQUksK0RBQVc7QUFDZixJQUFJLDZEQUFVO0FBQ2QsSUFBSSxnRUFBVztBQUNmLElBQUksa0VBQVk7QUFDaEIsSUFBSSwyRUFBZ0I7QUFDcEIsSUFBSSxvRUFBYTtBQUNqQixJQUFJLG1FQUFZO0FBQ2hCLElBQUkscUVBQWE7QUFDakIsSUFBSSxtRUFBWTtBQUNoQixJQUFJLHNFQUFpQjtBQUNyQjtBQUNPO0FBQ1A7QUFDQSw0QkFBNEIsc0RBQUs7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsNEJBQTRCLHNEQUFLO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXJtYWlkLWRpYWdyYW0tZWRpdG9yLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy9wYXJzZS9wYXJzZXIvcGFyc2VyLmpzPzVjODgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2xvbmUsIGZvckVhY2gsIGhhcywgaXNFbXB0eSwgbWFwLCB2YWx1ZXMgfSBmcm9tIFwibG9kYXNoLWVzXCI7XG5pbXBvcnQgeyB0b0Zhc3RQcm9wZXJ0aWVzIH0gZnJvbSBcIkBjaGV2cm90YWluL3V0aWxzXCI7XG5pbXBvcnQgeyBjb21wdXRlQWxsUHJvZHNGb2xsb3dzIH0gZnJvbSBcIi4uL2dyYW1tYXIvZm9sbG93LmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVUb2tlbkluc3RhbmNlLCBFT0YgfSBmcm9tIFwiLi4vLi4vc2Nhbi90b2tlbnNfcHVibGljLmpzXCI7XG5pbXBvcnQgeyBkZWZhdWx0R3JhbW1hclZhbGlkYXRvckVycm9yUHJvdmlkZXIsIGRlZmF1bHRQYXJzZXJFcnJvclByb3ZpZGVyLCB9IGZyb20gXCIuLi9lcnJvcnNfcHVibGljLmpzXCI7XG5pbXBvcnQgeyByZXNvbHZlR3JhbW1hciwgdmFsaWRhdGVHcmFtbWFyLCB9IGZyb20gXCIuLi9ncmFtbWFyL2dhc3QvZ2FzdF9yZXNvbHZlcl9wdWJsaWMuanNcIjtcbmltcG9ydCB7IFJlY292ZXJhYmxlIH0gZnJvbSBcIi4vdHJhaXRzL3JlY292ZXJhYmxlLmpzXCI7XG5pbXBvcnQgeyBMb29rc0FoZWFkIH0gZnJvbSBcIi4vdHJhaXRzL2xvb2tzYWhlYWQuanNcIjtcbmltcG9ydCB7IFRyZWVCdWlsZGVyIH0gZnJvbSBcIi4vdHJhaXRzL3RyZWVfYnVpbGRlci5qc1wiO1xuaW1wb3J0IHsgTGV4ZXJBZGFwdGVyIH0gZnJvbSBcIi4vdHJhaXRzL2xleGVyX2FkYXB0ZXIuanNcIjtcbmltcG9ydCB7IFJlY29nbml6ZXJBcGkgfSBmcm9tIFwiLi90cmFpdHMvcmVjb2duaXplcl9hcGkuanNcIjtcbmltcG9ydCB7IFJlY29nbml6ZXJFbmdpbmUgfSBmcm9tIFwiLi90cmFpdHMvcmVjb2duaXplcl9lbmdpbmUuanNcIjtcbmltcG9ydCB7IEVycm9ySGFuZGxlciB9IGZyb20gXCIuL3RyYWl0cy9lcnJvcl9oYW5kbGVyLmpzXCI7XG5pbXBvcnQgeyBDb250ZW50QXNzaXN0IH0gZnJvbSBcIi4vdHJhaXRzL2NvbnRleHRfYXNzaXN0LmpzXCI7XG5pbXBvcnQgeyBHYXN0UmVjb3JkZXIgfSBmcm9tIFwiLi90cmFpdHMvZ2FzdF9yZWNvcmRlci5qc1wiO1xuaW1wb3J0IHsgUGVyZm9ybWFuY2VUcmFjZXIgfSBmcm9tIFwiLi90cmFpdHMvcGVyZl90cmFjZXIuanNcIjtcbmltcG9ydCB7IGFwcGx5TWl4aW5zIH0gZnJvbSBcIi4vdXRpbHMvYXBwbHlfbWl4aW5zLmpzXCI7XG5pbXBvcnQgeyB2YWxpZGF0ZUxvb2thaGVhZCB9IGZyb20gXCIuLi9ncmFtbWFyL2NoZWNrcy5qc1wiO1xuZXhwb3J0IGNvbnN0IEVORF9PRl9GSUxFID0gY3JlYXRlVG9rZW5JbnN0YW5jZShFT0YsIFwiXCIsIE5hTiwgTmFOLCBOYU4sIE5hTiwgTmFOLCBOYU4pO1xuT2JqZWN0LmZyZWV6ZShFTkRfT0ZfRklMRSk7XG5leHBvcnQgY29uc3QgREVGQVVMVF9QQVJTRVJfQ09ORklHID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgcmVjb3ZlcnlFbmFibGVkOiBmYWxzZSxcbiAgICBtYXhMb29rYWhlYWQ6IDMsXG4gICAgZHluYW1pY1Rva2Vuc0VuYWJsZWQ6IGZhbHNlLFxuICAgIG91dHB1dENzdDogdHJ1ZSxcbiAgICBlcnJvck1lc3NhZ2VQcm92aWRlcjogZGVmYXVsdFBhcnNlckVycm9yUHJvdmlkZXIsXG4gICAgbm9kZUxvY2F0aW9uVHJhY2tpbmc6IFwibm9uZVwiLFxuICAgIHRyYWNlSW5pdFBlcmY6IGZhbHNlLFxuICAgIHNraXBWYWxpZGF0aW9uczogZmFsc2UsXG59KTtcbmV4cG9ydCBjb25zdCBERUZBVUxUX1JVTEVfQ09ORklHID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgcmVjb3ZlcnlWYWx1ZUZ1bmM6ICgpID0+IHVuZGVmaW5lZCxcbiAgICByZXN5bmNFbmFibGVkOiB0cnVlLFxufSk7XG5leHBvcnQgdmFyIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGU7XG4oZnVuY3Rpb24gKFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUpIHtcbiAgICBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1BhcnNlckRlZmluaXRpb25FcnJvclR5cGVbXCJJTlZBTElEX1JVTEVfTkFNRVwiXSA9IDBdID0gXCJJTlZBTElEX1JVTEVfTkFNRVwiO1xuICAgIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGVbUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtcIkRVUExJQ0FURV9SVUxFX05BTUVcIl0gPSAxXSA9IFwiRFVQTElDQVRFX1JVTEVfTkFNRVwiO1xuICAgIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGVbUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtcIklOVkFMSURfUlVMRV9PVkVSUklERVwiXSA9IDJdID0gXCJJTlZBTElEX1JVTEVfT1ZFUlJJREVcIjtcbiAgICBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1BhcnNlckRlZmluaXRpb25FcnJvclR5cGVbXCJEVVBMSUNBVEVfUFJPRFVDVElPTlNcIl0gPSAzXSA9IFwiRFVQTElDQVRFX1BST0RVQ1RJT05TXCI7XG4gICAgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiVU5SRVNPTFZFRF9TVUJSVUxFX1JFRlwiXSA9IDRdID0gXCJVTlJFU09MVkVEX1NVQlJVTEVfUkVGXCI7XG4gICAgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiTEVGVF9SRUNVUlNJT05cIl0gPSA1XSA9IFwiTEVGVF9SRUNVUlNJT05cIjtcbiAgICBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1BhcnNlckRlZmluaXRpb25FcnJvclR5cGVbXCJOT05FX0xBU1RfRU1QVFlfQUxUXCJdID0gNl0gPSBcIk5PTkVfTEFTVF9FTVBUWV9BTFRcIjtcbiAgICBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1BhcnNlckRlZmluaXRpb25FcnJvclR5cGVbXCJBTUJJR1VPVVNfQUxUU1wiXSA9IDddID0gXCJBTUJJR1VPVVNfQUxUU1wiO1xuICAgIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGVbUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtcIkNPTkZMSUNUX1RPS0VOU19SVUxFU19OQU1FU1BBQ0VcIl0gPSA4XSA9IFwiQ09ORkxJQ1RfVE9LRU5TX1JVTEVTX05BTUVTUEFDRVwiO1xuICAgIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGVbUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtcIklOVkFMSURfVE9LRU5fTkFNRVwiXSA9IDldID0gXCJJTlZBTElEX1RPS0VOX05BTUVcIjtcbiAgICBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1BhcnNlckRlZmluaXRpb25FcnJvclR5cGVbXCJOT19OT05fRU1QVFlfTE9PS0FIRUFEXCJdID0gMTBdID0gXCJOT19OT05fRU1QVFlfTE9PS0FIRUFEXCI7XG4gICAgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiQU1CSUdVT1VTX1BSRUZJWF9BTFRTXCJdID0gMTFdID0gXCJBTUJJR1VPVVNfUFJFRklYX0FMVFNcIjtcbiAgICBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1BhcnNlckRlZmluaXRpb25FcnJvclR5cGVbXCJUT09fTUFOWV9BTFRTXCJdID0gMTJdID0gXCJUT09fTUFOWV9BTFRTXCI7XG4gICAgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiQ1VTVE9NX0xPT0tBSEVBRF9WQUxJREFUSU9OXCJdID0gMTNdID0gXCJDVVNUT01fTE9PS0FIRUFEX1ZBTElEQVRJT05cIjtcbn0pKFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUgfHwgKFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUgPSB7fSkpO1xuZXhwb3J0IGZ1bmN0aW9uIEVNUFRZX0FMVCh2YWx1ZSA9IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xufVxuZXhwb3J0IGNsYXNzIFBhcnNlciB7XG4gICAgLyoqXG4gICAgICogIEBkZXByZWNhdGVkIHVzZSB0aGUgKippbnN0YW5jZSoqIG1ldGhvZCB3aXRoIHRoZSBzYW1lIG5hbWUgaW5zdGVhZFxuICAgICAqL1xuICAgIHN0YXRpYyBwZXJmb3JtU2VsZkFuYWx5c2lzKHBhcnNlckluc3RhbmNlKSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiVGhlICoqc3RhdGljKiogYHBlcmZvcm1TZWxmQW5hbHlzaXNgIG1ldGhvZCBoYXMgYmVlbiBkZXByZWNhdGVkLlwiICtcbiAgICAgICAgICAgIFwiXFx0XFxuVXNlIHRoZSAqKmluc3RhbmNlKiogbWV0aG9kIHdpdGggdGhlIHNhbWUgbmFtZSBpbnN0ZWFkLlwiKTtcbiAgICB9XG4gICAgcGVyZm9ybVNlbGZBbmFseXNpcygpIHtcbiAgICAgICAgdGhpcy5UUkFDRV9JTklUKFwicGVyZm9ybVNlbGZBbmFseXNpc1wiLCAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgZGVmRXJyb3JzTXNncztcbiAgICAgICAgICAgIHRoaXMuc2VsZkFuYWx5c2lzRG9uZSA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCBjbGFzc05hbWUgPSB0aGlzLmNsYXNzTmFtZTtcbiAgICAgICAgICAgIHRoaXMuVFJBQ0VfSU5JVChcInRvRmFzdFByb3BzXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBXaXRob3V0IHRoaXMgdm9vZG9vIG1hZ2ljIHRoZSBwYXJzZXIgd291bGQgYmUgeDMteDQgc2xvd2VyXG4gICAgICAgICAgICAgICAgLy8gSXQgc2VlbXMgaXQgaXMgYmV0dGVyIHRvIGludm9rZSBgdG9GYXN0UHJvcGVydGllc2AgKipiZWZvcmUqKlxuICAgICAgICAgICAgICAgIC8vIEFueSBtYW5pcHVsYXRpb25zIG9mIHRoZSBgdGhpc2Agb2JqZWN0IGRvbmUgZHVyaW5nIHRoZSByZWNvcmRpbmcgcGhhc2UuXG4gICAgICAgICAgICAgICAgdG9GYXN0UHJvcGVydGllcyh0aGlzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5UUkFDRV9JTklUKFwiR3JhbW1hciBSZWNvcmRpbmdcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5hYmxlUmVjb3JkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEJ1aWxkaW5nIHRoZSBHQVNUXG4gICAgICAgICAgICAgICAgICAgIGZvckVhY2godGhpcy5kZWZpbmVkUnVsZXNOYW1lcywgKGN1cnJSdWxlTmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd3JhcHBlZFJ1bGUgPSB0aGlzW2N1cnJSdWxlTmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbEdyYW1tYXJBY3Rpb24gPSB3cmFwcGVkUnVsZVtcIm9yaWdpbmFsR3JhbW1hckFjdGlvblwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZWNvcmRlZFJ1bGVHYXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5UUkFDRV9JTklUKGAke2N1cnJSdWxlTmFtZX0gUnVsZWAsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvcmRlZFJ1bGVHYXN0ID0gdGhpcy50b3BMZXZlbFJ1bGVSZWNvcmQoY3VyclJ1bGVOYW1lLCBvcmlnaW5hbEdyYW1tYXJBY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhc3RQcm9kdWN0aW9uc0NhY2hlW2N1cnJSdWxlTmFtZV0gPSByZWNvcmRlZFJ1bGVHYXN0O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZVJlY29yZGluZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGV0IHJlc29sdmVyRXJyb3JzID0gW107XG4gICAgICAgICAgICB0aGlzLlRSQUNFX0lOSVQoXCJHcmFtbWFyIFJlc29sdmluZ1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZXJFcnJvcnMgPSByZXNvbHZlR3JhbW1hcih7XG4gICAgICAgICAgICAgICAgICAgIHJ1bGVzOiB2YWx1ZXModGhpcy5nYXN0UHJvZHVjdGlvbnNDYWNoZSksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWZpbml0aW9uRXJyb3JzID0gdGhpcy5kZWZpbml0aW9uRXJyb3JzLmNvbmNhdChyZXNvbHZlckVycm9ycyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuVFJBQ0VfSU5JVChcIkdyYW1tYXIgVmFsaWRhdGlvbnNcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIG9ubHkgcGVyZm9ybSBhZGRpdGlvbmFsIGdyYW1tYXIgdmFsaWRhdGlvbnMgSUZGIG5vIHJlc29sdmluZyBlcnJvcnMgaGF2ZSBvY2N1cnJlZC5cbiAgICAgICAgICAgICAgICAvLyBhcyB1bnJlc29sdmVkIGdyYW1tYXIgbWF5IGxlYWQgdG8gdW5oYW5kbGVkIHJ1bnRpbWUgZXhjZXB0aW9ucyBpbiB0aGUgZm9sbG93IHVwIHZhbGlkYXRpb25zLlxuICAgICAgICAgICAgICAgIGlmIChpc0VtcHR5KHJlc29sdmVyRXJyb3JzKSAmJiB0aGlzLnNraXBWYWxpZGF0aW9ucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsaWRhdGlvbkVycm9ycyA9IHZhbGlkYXRlR3JhbW1hcih7XG4gICAgICAgICAgICAgICAgICAgICAgICBydWxlczogdmFsdWVzKHRoaXMuZ2FzdFByb2R1Y3Rpb25zQ2FjaGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5UeXBlczogdmFsdWVzKHRoaXMudG9rZW5zTWFwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVyck1zZ1Byb3ZpZGVyOiBkZWZhdWx0R3JhbW1hclZhbGlkYXRvckVycm9yUHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBncmFtbWFyTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9va2FoZWFkVmFsaWRhdGlvbkVycm9ycyA9IHZhbGlkYXRlTG9va2FoZWFkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvb2thaGVhZFN0cmF0ZWd5OiB0aGlzLmxvb2thaGVhZFN0cmF0ZWd5LFxuICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM6IHZhbHVlcyh0aGlzLmdhc3RQcm9kdWN0aW9uc0NhY2hlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuVHlwZXM6IHZhbHVlcyh0aGlzLnRva2Vuc01hcCksXG4gICAgICAgICAgICAgICAgICAgICAgICBncmFtbWFyTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWZpbml0aW9uRXJyb3JzID0gdGhpcy5kZWZpbml0aW9uRXJyb3JzLmNvbmNhdCh2YWxpZGF0aW9uRXJyb3JzLCBsb29rYWhlYWRWYWxpZGF0aW9uRXJyb3JzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHRoaXMgYW5hbHlzaXMgbWF5IGZhaWwgaWYgdGhlIGdyYW1tYXIgaXMgbm90IHBlcmZlY3RseSB2YWxpZFxuICAgICAgICAgICAgaWYgKGlzRW1wdHkodGhpcy5kZWZpbml0aW9uRXJyb3JzKSkge1xuICAgICAgICAgICAgICAgIC8vIFRoZSByZXN1bHRzIG9mIHRoZXNlIGNvbXB1dGF0aW9ucyBhcmUgbm90IG5lZWRlZCB1bmxlc3MgZXJyb3IgcmVjb3ZlcnkgaXMgZW5hYmxlZC5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWNvdmVyeUVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5UUkFDRV9JTklUKFwiY29tcHV0ZUFsbFByb2RzRm9sbG93c1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxGb2xsb3dzID0gY29tcHV0ZUFsbFByb2RzRm9sbG93cyh2YWx1ZXModGhpcy5nYXN0UHJvZHVjdGlvbnNDYWNoZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN5bmNGb2xsb3dzID0gYWxsRm9sbG93cztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuVFJBQ0VfSU5JVChcIkNvbXB1dGVMb29rYWhlYWRGdW5jdGlvbnNcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLmxvb2thaGVhZFN0cmF0ZWd5KS5pbml0aWFsaXplKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM6IHZhbHVlcyh0aGlzLmdhc3RQcm9kdWN0aW9uc0NhY2hlKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlQ29tcHV0ZUxvb2thaGVhZEZ1bmN0aW9ucyh2YWx1ZXModGhpcy5nYXN0UHJvZHVjdGlvbnNDYWNoZSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFQYXJzZXIuREVGRVJfREVGSU5JVElPTl9FUlJPUlNfSEFORExJTkcgJiZcbiAgICAgICAgICAgICAgICAhaXNFbXB0eSh0aGlzLmRlZmluaXRpb25FcnJvcnMpKSB7XG4gICAgICAgICAgICAgICAgZGVmRXJyb3JzTXNncyA9IG1hcCh0aGlzLmRlZmluaXRpb25FcnJvcnMsIChkZWZFcnJvcikgPT4gZGVmRXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQYXJzZXIgRGVmaW5pdGlvbiBFcnJvcnMgZGV0ZWN0ZWQ6XFxuICR7ZGVmRXJyb3JzTXNncy5qb2luKFwiXFxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcblwiKX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHRva2VuVm9jYWJ1bGFyeSwgY29uZmlnKSB7XG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbkVycm9ycyA9IFtdO1xuICAgICAgICB0aGlzLnNlbGZBbmFseXNpc0RvbmUgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgdGhhdCA9IHRoaXM7XG4gICAgICAgIHRoYXQuaW5pdEVycm9ySGFuZGxlcihjb25maWcpO1xuICAgICAgICB0aGF0LmluaXRMZXhlckFkYXB0ZXIoKTtcbiAgICAgICAgdGhhdC5pbml0TG9va3NBaGVhZChjb25maWcpO1xuICAgICAgICB0aGF0LmluaXRSZWNvZ25pemVyRW5naW5lKHRva2VuVm9jYWJ1bGFyeSwgY29uZmlnKTtcbiAgICAgICAgdGhhdC5pbml0UmVjb3ZlcmFibGUoY29uZmlnKTtcbiAgICAgICAgdGhhdC5pbml0VHJlZUJ1aWxkZXIoY29uZmlnKTtcbiAgICAgICAgdGhhdC5pbml0Q29udGVudEFzc2lzdCgpO1xuICAgICAgICB0aGF0LmluaXRHYXN0UmVjb3JkZXIoY29uZmlnKTtcbiAgICAgICAgdGhhdC5pbml0UGVyZm9ybWFuY2VUcmFjZXIoY29uZmlnKTtcbiAgICAgICAgaWYgKGhhcyhjb25maWcsIFwiaWdub3JlZElzc3Vlc1wiKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIDxpZ25vcmVkSXNzdWVzPiBJUGFyc2VyQ29uZmlnIHByb3BlcnR5IGhhcyBiZWVuIGRlcHJlY2F0ZWQuXFxuXFx0XCIgK1xuICAgICAgICAgICAgICAgIFwiUGxlYXNlIHVzZSB0aGUgPElHTk9SRV9BTUJJR1VJVElFUz4gZmxhZyBvbiB0aGUgcmVsZXZhbnQgRFNMIG1ldGhvZCBpbnN0ZWFkLlxcblxcdFwiICtcbiAgICAgICAgICAgICAgICBcIlNlZTogaHR0cHM6Ly9jaGV2cm90YWluLmlvL2RvY3MvZ3VpZGUvcmVzb2x2aW5nX2dyYW1tYXJfZXJyb3JzLmh0bWwjSUdOT1JJTkdfQU1CSUdVSVRJRVNcXG5cXHRcIiArXG4gICAgICAgICAgICAgICAgXCJGb3IgZnVydGhlciBkZXRhaWxzLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNraXBWYWxpZGF0aW9ucyA9IGhhcyhjb25maWcsIFwic2tpcFZhbGlkYXRpb25zXCIpXG4gICAgICAgICAgICA/IGNvbmZpZy5za2lwVmFsaWRhdGlvbnMgLy8gY2FzdGluZyBhc3N1bWVzIHRoZSBlbmQgdXNlciBwYXNzaW5nIHRoZSBjb3JyZWN0IHR5cGVcbiAgICAgICAgICAgIDogREVGQVVMVF9QQVJTRVJfQ09ORklHLnNraXBWYWxpZGF0aW9ucztcbiAgICB9XG59XG4vLyBTZXQgdGhpcyBmbGFnIHRvIHRydWUgaWYgeW91IGRvbid0IHdhbnQgdGhlIFBhcnNlciB0byB0aHJvdyBlcnJvciB3aGVuIHByb2JsZW1zIGluIGl0J3MgZGVmaW5pdGlvbiBhcmUgZGV0ZWN0ZWQuXG4vLyAobm9ybWFsbHkgZHVyaW5nIHRoZSBwYXJzZXIncyBjb25zdHJ1Y3RvcikuXG4vLyBUaGlzIGlzIGEgZGVzaWduIHRpbWUgZmxhZywgaXQgd2lsbCBub3QgYWZmZWN0IHRoZSBydW50aW1lIGVycm9yIGhhbmRsaW5nIG9mIHRoZSBwYXJzZXIsIGp1c3QgZGVzaWduIHRpbWUgZXJyb3JzLFxuLy8gZm9yIGV4YW1wbGU6IGR1cGxpY2F0ZSBydWxlIG5hbWVzLCByZWZlcmVuY2luZyBhbiB1bnJlc29sdmVkIHN1YnJ1bGUsIGVjdC4uLlxuLy8gVGhpcyBmbGFnIHNob3VsZCBub3QgYmUgZW5hYmxlZCBkdXJpbmcgbm9ybWFsIHVzYWdlLCBpdCBpcyB1c2VkIGluIHNwZWNpYWwgc2l0dWF0aW9ucywgZm9yIGV4YW1wbGUgd2hlblxuLy8gbmVlZGluZyB0byBkaXNwbGF5IHRoZSBwYXJzZXIgZGVmaW5pdGlvbiBlcnJvcnMgaW4gc29tZSBHVUkob25saW5lIHBsYXlncm91bmQpLlxuUGFyc2VyLkRFRkVSX0RFRklOSVRJT05fRVJST1JTX0hBTkRMSU5HID0gZmFsc2U7XG5hcHBseU1peGlucyhQYXJzZXIsIFtcbiAgICBSZWNvdmVyYWJsZSxcbiAgICBMb29rc0FoZWFkLFxuICAgIFRyZWVCdWlsZGVyLFxuICAgIExleGVyQWRhcHRlcixcbiAgICBSZWNvZ25pemVyRW5naW5lLFxuICAgIFJlY29nbml6ZXJBcGksXG4gICAgRXJyb3JIYW5kbGVyLFxuICAgIENvbnRlbnRBc3Npc3QsXG4gICAgR2FzdFJlY29yZGVyLFxuICAgIFBlcmZvcm1hbmNlVHJhY2VyLFxuXSk7XG5leHBvcnQgY2xhc3MgQ3N0UGFyc2VyIGV4dGVuZHMgUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3Rvcih0b2tlblZvY2FidWxhcnksIGNvbmZpZyA9IERFRkFVTFRfUEFSU0VSX0NPTkZJRykge1xuICAgICAgICBjb25zdCBjb25maWdDbG9uZSA9IGNsb25lKGNvbmZpZyk7XG4gICAgICAgIGNvbmZpZ0Nsb25lLm91dHB1dENzdCA9IHRydWU7XG4gICAgICAgIHN1cGVyKHRva2VuVm9jYWJ1bGFyeSwgY29uZmlnQ2xvbmUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBFbWJlZGRlZEFjdGlvbnNQYXJzZXIgZXh0ZW5kcyBQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKHRva2VuVm9jYWJ1bGFyeSwgY29uZmlnID0gREVGQVVMVF9QQVJTRVJfQ09ORklHKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZ0Nsb25lID0gY2xvbmUoY29uZmlnKTtcbiAgICAgICAgY29uZmlnQ2xvbmUub3V0cHV0Q3N0ID0gZmFsc2U7XG4gICAgICAgIHN1cGVyKHRva2VuVm9jYWJ1bGFyeSwgY29uZmlnQ2xvbmUpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnNlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/parse/parser/parser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/context_assist.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/parse/parser/traits/context_assist.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ContentAssist: () => (/* binding */ ContentAssist)\n/* harmony export */ });\n/* harmony import */ var _grammar_interpreter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../grammar/interpreter.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/interpreter.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isUndefined.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/head.js\");\n\n\nclass ContentAssist {\n    initContentAssist() { }\n    computeContentAssist(startRuleName, precedingInput) {\n        const startRuleGast = this.gastProductionsCache[startRuleName];\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(startRuleGast)) {\n            throw Error(`Rule ->${startRuleName}<- does not exist in this grammar.`);\n        }\n        return (0,_grammar_interpreter_js__WEBPACK_IMPORTED_MODULE_0__.nextPossibleTokensAfter)([startRuleGast], precedingInput, this.tokenMatcher, this.maxLookahead);\n    }\n    // TODO: should this be a member method or a utility? it does not have any state or usage of 'this'...\n    // TODO: should this be more explicitly part of the public API?\n    getNextPossibleTokenTypes(grammarPath) {\n        const topRuleName = (0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(grammarPath.ruleStack);\n        const gastProductions = this.getGAstProductions();\n        const topProduction = gastProductions[topRuleName];\n        const nextPossibleTokenTypes = new _grammar_interpreter_js__WEBPACK_IMPORTED_MODULE_0__.NextAfterTokenWalker(topProduction, grammarPath).startWalking();\n        return nextPossibleTokenTypes;\n    }\n}\n//# sourceMappingURL=context_assist.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvY29udGV4dF9hc3Npc3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUE4RjtBQUMvQztBQUN4QztBQUNQO0FBQ0E7QUFDQTtBQUNBLFlBQVkscURBQVc7QUFDdkIsa0NBQWtDLGNBQWM7QUFDaEQ7QUFDQSxlQUFlLGdGQUF1QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixxREFBSztBQUNqQztBQUNBO0FBQ0EsMkNBQTJDLHlFQUFvQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL21lcm1haWQtZGlhZ3JhbS1lZGl0b3IvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvY29udGV4dF9hc3Npc3QuanM/Njk3YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QWZ0ZXJUb2tlbldhbGtlciwgbmV4dFBvc3NpYmxlVG9rZW5zQWZ0ZXIsIH0gZnJvbSBcIi4uLy4uL2dyYW1tYXIvaW50ZXJwcmV0ZXIuanNcIjtcbmltcG9ydCB7IGZpcnN0LCBpc1VuZGVmaW5lZCB9IGZyb20gXCJsb2Rhc2gtZXNcIjtcbmV4cG9ydCBjbGFzcyBDb250ZW50QXNzaXN0IHtcbiAgICBpbml0Q29udGVudEFzc2lzdCgpIHsgfVxuICAgIGNvbXB1dGVDb250ZW50QXNzaXN0KHN0YXJ0UnVsZU5hbWUsIHByZWNlZGluZ0lucHV0KSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0UnVsZUdhc3QgPSB0aGlzLmdhc3RQcm9kdWN0aW9uc0NhY2hlW3N0YXJ0UnVsZU5hbWVdO1xuICAgICAgICBpZiAoaXNVbmRlZmluZWQoc3RhcnRSdWxlR2FzdCkpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBSdWxlIC0+JHtzdGFydFJ1bGVOYW1lfTwtIGRvZXMgbm90IGV4aXN0IGluIHRoaXMgZ3JhbW1hci5gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dFBvc3NpYmxlVG9rZW5zQWZ0ZXIoW3N0YXJ0UnVsZUdhc3RdLCBwcmVjZWRpbmdJbnB1dCwgdGhpcy50b2tlbk1hdGNoZXIsIHRoaXMubWF4TG9va2FoZWFkKTtcbiAgICB9XG4gICAgLy8gVE9ETzogc2hvdWxkIHRoaXMgYmUgYSBtZW1iZXIgbWV0aG9kIG9yIGEgdXRpbGl0eT8gaXQgZG9lcyBub3QgaGF2ZSBhbnkgc3RhdGUgb3IgdXNhZ2Ugb2YgJ3RoaXMnLi4uXG4gICAgLy8gVE9ETzogc2hvdWxkIHRoaXMgYmUgbW9yZSBleHBsaWNpdGx5IHBhcnQgb2YgdGhlIHB1YmxpYyBBUEk/XG4gICAgZ2V0TmV4dFBvc3NpYmxlVG9rZW5UeXBlcyhncmFtbWFyUGF0aCkge1xuICAgICAgICBjb25zdCB0b3BSdWxlTmFtZSA9IGZpcnN0KGdyYW1tYXJQYXRoLnJ1bGVTdGFjayk7XG4gICAgICAgIGNvbnN0IGdhc3RQcm9kdWN0aW9ucyA9IHRoaXMuZ2V0R0FzdFByb2R1Y3Rpb25zKCk7XG4gICAgICAgIGNvbnN0IHRvcFByb2R1Y3Rpb24gPSBnYXN0UHJvZHVjdGlvbnNbdG9wUnVsZU5hbWVdO1xuICAgICAgICBjb25zdCBuZXh0UG9zc2libGVUb2tlblR5cGVzID0gbmV3IE5leHRBZnRlclRva2VuV2Fsa2VyKHRvcFByb2R1Y3Rpb24sIGdyYW1tYXJQYXRoKS5zdGFydFdhbGtpbmcoKTtcbiAgICAgICAgcmV0dXJuIG5leHRQb3NzaWJsZVRva2VuVHlwZXM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udGV4dF9hc3Npc3QuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/context_assist.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/error_handler.js":
/*!******************************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/parse/parser/traits/error_handler.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ErrorHandler: () => (/* binding */ ErrorHandler)\n/* harmony export */ });\n/* harmony import */ var _exceptions_public_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../exceptions_public.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/exceptions_public.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/has.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/clone.js\");\n/* harmony import */ var _grammar_lookahead_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../grammar/lookahead.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/lookahead.js\");\n/* harmony import */ var _parser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../parser.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/parser/parser.js\");\n\n\n\n\n/**\n * Trait responsible for runtime parsing errors.\n */\nclass ErrorHandler {\n    initErrorHandler(config) {\n        this._errors = [];\n        this.errorMessageProvider = (0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(config, \"errorMessageProvider\")\n            ? config.errorMessageProvider // assumes end user provides the correct config value/type\n            : _parser_js__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_PARSER_CONFIG.errorMessageProvider;\n    }\n    SAVE_ERROR(error) {\n        if ((0,_exceptions_public_js__WEBPACK_IMPORTED_MODULE_0__.isRecognitionException)(error)) {\n            error.context = {\n                ruleStack: this.getHumanReadableRuleStack(),\n                ruleOccurrenceStack: (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.RULE_OCCURRENCE_STACK),\n            };\n            this._errors.push(error);\n            return error;\n        }\n        else {\n            throw Error(\"Trying to save an Error which is not a RecognitionException\");\n        }\n    }\n    get errors() {\n        return (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this._errors);\n    }\n    set errors(newErrors) {\n        this._errors = newErrors;\n    }\n    // TODO: consider caching the error message computed information\n    raiseEarlyExitException(occurrence, prodType, userDefinedErrMsg) {\n        const ruleName = this.getCurrRuleFullName();\n        const ruleGrammar = this.getGAstProductions()[ruleName];\n        const lookAheadPathsPerAlternative = (0,_grammar_lookahead_js__WEBPACK_IMPORTED_MODULE_1__.getLookaheadPathsForOptionalProd)(occurrence, ruleGrammar, prodType, this.maxLookahead);\n        const insideProdPaths = lookAheadPathsPerAlternative[0];\n        const actualTokens = [];\n        for (let i = 1; i <= this.maxLookahead; i++) {\n            actualTokens.push(this.LA(i));\n        }\n        const msg = this.errorMessageProvider.buildEarlyExitMessage({\n            expectedIterationPaths: insideProdPaths,\n            actual: actualTokens,\n            previous: this.LA(0),\n            customUserDescription: userDefinedErrMsg,\n            ruleName: ruleName,\n        });\n        throw this.SAVE_ERROR(new _exceptions_public_js__WEBPACK_IMPORTED_MODULE_0__.EarlyExitException(msg, this.LA(1), this.LA(0)));\n    }\n    // TODO: consider caching the error message computed information\n    raiseNoAltException(occurrence, errMsgTypes) {\n        const ruleName = this.getCurrRuleFullName();\n        const ruleGrammar = this.getGAstProductions()[ruleName];\n        // TODO: getLookaheadPathsForOr can be slow for large enough maxLookahead and certain grammars, consider caching ?\n        const lookAheadPathsPerAlternative = (0,_grammar_lookahead_js__WEBPACK_IMPORTED_MODULE_1__.getLookaheadPathsForOr)(occurrence, ruleGrammar, this.maxLookahead);\n        const actualTokens = [];\n        for (let i = 1; i <= this.maxLookahead; i++) {\n            actualTokens.push(this.LA(i));\n        }\n        const previousToken = this.LA(0);\n        const errMsg = this.errorMessageProvider.buildNoViableAltMessage({\n            expectedPathsPerAlt: lookAheadPathsPerAlternative,\n            actual: actualTokens,\n            previous: previousToken,\n            customUserDescription: errMsgTypes,\n            ruleName: this.getCurrRuleFullName(),\n        });\n        throw this.SAVE_ERROR(new _exceptions_public_js__WEBPACK_IMPORTED_MODULE_0__.NoViableAltException(errMsg, this.LA(1), previousToken));\n    }\n}\n//# sourceMappingURL=error_handler.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvZXJyb3JfaGFuZGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBK0c7QUFDeEU7QUFDZ0U7QUFDbEQ7QUFDckQ7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0Esb0NBQW9DLHFEQUFHO0FBQ3ZDO0FBQ0EsY0FBYyw2REFBcUI7QUFDbkM7QUFDQTtBQUNBLFlBQVksNkVBQXNCO0FBQ2xDO0FBQ0E7QUFDQSxxQ0FBcUMscURBQUs7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxxREFBSztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLHVGQUFnQztBQUM3RTtBQUNBO0FBQ0Esd0JBQXdCLHdCQUF3QjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULGtDQUFrQyxxRUFBa0I7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLDZFQUFzQjtBQUNuRTtBQUNBLHdCQUF3Qix3QkFBd0I7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULGtDQUFrQyx1RUFBb0I7QUFDdEQ7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVybWFpZC1kaWFncmFtLWVkaXRvci8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9lcnJvcl9oYW5kbGVyLmpzPzhjYWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRWFybHlFeGl0RXhjZXB0aW9uLCBpc1JlY29nbml0aW9uRXhjZXB0aW9uLCBOb1ZpYWJsZUFsdEV4Y2VwdGlvbiwgfSBmcm9tIFwiLi4vLi4vZXhjZXB0aW9uc19wdWJsaWMuanNcIjtcbmltcG9ydCB7IGNsb25lLCBoYXMgfSBmcm9tIFwibG9kYXNoLWVzXCI7XG5pbXBvcnQgeyBnZXRMb29rYWhlYWRQYXRoc0Zvck9wdGlvbmFsUHJvZCwgZ2V0TG9va2FoZWFkUGF0aHNGb3JPciwgfSBmcm9tIFwiLi4vLi4vZ3JhbW1hci9sb29rYWhlYWQuanNcIjtcbmltcG9ydCB7IERFRkFVTFRfUEFSU0VSX0NPTkZJRyB9IGZyb20gXCIuLi9wYXJzZXIuanNcIjtcbi8qKlxuICogVHJhaXQgcmVzcG9uc2libGUgZm9yIHJ1bnRpbWUgcGFyc2luZyBlcnJvcnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBFcnJvckhhbmRsZXIge1xuICAgIGluaXRFcnJvckhhbmRsZXIoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuX2Vycm9ycyA9IFtdO1xuICAgICAgICB0aGlzLmVycm9yTWVzc2FnZVByb3ZpZGVyID0gaGFzKGNvbmZpZywgXCJlcnJvck1lc3NhZ2VQcm92aWRlclwiKVxuICAgICAgICAgICAgPyBjb25maWcuZXJyb3JNZXNzYWdlUHJvdmlkZXIgLy8gYXNzdW1lcyBlbmQgdXNlciBwcm92aWRlcyB0aGUgY29ycmVjdCBjb25maWcgdmFsdWUvdHlwZVxuICAgICAgICAgICAgOiBERUZBVUxUX1BBUlNFUl9DT05GSUcuZXJyb3JNZXNzYWdlUHJvdmlkZXI7XG4gICAgfVxuICAgIFNBVkVfRVJST1IoZXJyb3IpIHtcbiAgICAgICAgaWYgKGlzUmVjb2duaXRpb25FeGNlcHRpb24oZXJyb3IpKSB7XG4gICAgICAgICAgICBlcnJvci5jb250ZXh0ID0ge1xuICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogdGhpcy5nZXRIdW1hblJlYWRhYmxlUnVsZVN0YWNrKCksXG4gICAgICAgICAgICAgICAgcnVsZU9jY3VycmVuY2VTdGFjazogY2xvbmUodGhpcy5SVUxFX09DQ1VSUkVOQ0VfU1RBQ0spLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuX2Vycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiVHJ5aW5nIHRvIHNhdmUgYW4gRXJyb3Igd2hpY2ggaXMgbm90IGEgUmVjb2duaXRpb25FeGNlcHRpb25cIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGVycm9ycygpIHtcbiAgICAgICAgcmV0dXJuIGNsb25lKHRoaXMuX2Vycm9ycyk7XG4gICAgfVxuICAgIHNldCBlcnJvcnMobmV3RXJyb3JzKSB7XG4gICAgICAgIHRoaXMuX2Vycm9ycyA9IG5ld0Vycm9ycztcbiAgICB9XG4gICAgLy8gVE9ETzogY29uc2lkZXIgY2FjaGluZyB0aGUgZXJyb3IgbWVzc2FnZSBjb21wdXRlZCBpbmZvcm1hdGlvblxuICAgIHJhaXNlRWFybHlFeGl0RXhjZXB0aW9uKG9jY3VycmVuY2UsIHByb2RUeXBlLCB1c2VyRGVmaW5lZEVyck1zZykge1xuICAgICAgICBjb25zdCBydWxlTmFtZSA9IHRoaXMuZ2V0Q3VyclJ1bGVGdWxsTmFtZSgpO1xuICAgICAgICBjb25zdCBydWxlR3JhbW1hciA9IHRoaXMuZ2V0R0FzdFByb2R1Y3Rpb25zKClbcnVsZU5hbWVdO1xuICAgICAgICBjb25zdCBsb29rQWhlYWRQYXRoc1BlckFsdGVybmF0aXZlID0gZ2V0TG9va2FoZWFkUGF0aHNGb3JPcHRpb25hbFByb2Qob2NjdXJyZW5jZSwgcnVsZUdyYW1tYXIsIHByb2RUeXBlLCB0aGlzLm1heExvb2thaGVhZCk7XG4gICAgICAgIGNvbnN0IGluc2lkZVByb2RQYXRocyA9IGxvb2tBaGVhZFBhdGhzUGVyQWx0ZXJuYXRpdmVbMF07XG4gICAgICAgIGNvbnN0IGFjdHVhbFRva2VucyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSB0aGlzLm1heExvb2thaGVhZDsgaSsrKSB7XG4gICAgICAgICAgICBhY3R1YWxUb2tlbnMucHVzaCh0aGlzLkxBKGkpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtc2cgPSB0aGlzLmVycm9yTWVzc2FnZVByb3ZpZGVyLmJ1aWxkRWFybHlFeGl0TWVzc2FnZSh7XG4gICAgICAgICAgICBleHBlY3RlZEl0ZXJhdGlvblBhdGhzOiBpbnNpZGVQcm9kUGF0aHMsXG4gICAgICAgICAgICBhY3R1YWw6IGFjdHVhbFRva2VucyxcbiAgICAgICAgICAgIHByZXZpb3VzOiB0aGlzLkxBKDApLFxuICAgICAgICAgICAgY3VzdG9tVXNlckRlc2NyaXB0aW9uOiB1c2VyRGVmaW5lZEVyck1zZyxcbiAgICAgICAgICAgIHJ1bGVOYW1lOiBydWxlTmFtZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRocm93IHRoaXMuU0FWRV9FUlJPUihuZXcgRWFybHlFeGl0RXhjZXB0aW9uKG1zZywgdGhpcy5MQSgxKSwgdGhpcy5MQSgwKSkpO1xuICAgIH1cbiAgICAvLyBUT0RPOiBjb25zaWRlciBjYWNoaW5nIHRoZSBlcnJvciBtZXNzYWdlIGNvbXB1dGVkIGluZm9ybWF0aW9uXG4gICAgcmFpc2VOb0FsdEV4Y2VwdGlvbihvY2N1cnJlbmNlLCBlcnJNc2dUeXBlcykge1xuICAgICAgICBjb25zdCBydWxlTmFtZSA9IHRoaXMuZ2V0Q3VyclJ1bGVGdWxsTmFtZSgpO1xuICAgICAgICBjb25zdCBydWxlR3JhbW1hciA9IHRoaXMuZ2V0R0FzdFByb2R1Y3Rpb25zKClbcnVsZU5hbWVdO1xuICAgICAgICAvLyBUT0RPOiBnZXRMb29rYWhlYWRQYXRoc0Zvck9yIGNhbiBiZSBzbG93IGZvciBsYXJnZSBlbm91Z2ggbWF4TG9va2FoZWFkIGFuZCBjZXJ0YWluIGdyYW1tYXJzLCBjb25zaWRlciBjYWNoaW5nID9cbiAgICAgICAgY29uc3QgbG9va0FoZWFkUGF0aHNQZXJBbHRlcm5hdGl2ZSA9IGdldExvb2thaGVhZFBhdGhzRm9yT3Iob2NjdXJyZW5jZSwgcnVsZUdyYW1tYXIsIHRoaXMubWF4TG9va2FoZWFkKTtcbiAgICAgICAgY29uc3QgYWN0dWFsVG9rZW5zID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IHRoaXMubWF4TG9va2FoZWFkOyBpKyspIHtcbiAgICAgICAgICAgIGFjdHVhbFRva2Vucy5wdXNoKHRoaXMuTEEoaSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByZXZpb3VzVG9rZW4gPSB0aGlzLkxBKDApO1xuICAgICAgICBjb25zdCBlcnJNc2cgPSB0aGlzLmVycm9yTWVzc2FnZVByb3ZpZGVyLmJ1aWxkTm9WaWFibGVBbHRNZXNzYWdlKHtcbiAgICAgICAgICAgIGV4cGVjdGVkUGF0aHNQZXJBbHQ6IGxvb2tBaGVhZFBhdGhzUGVyQWx0ZXJuYXRpdmUsXG4gICAgICAgICAgICBhY3R1YWw6IGFjdHVhbFRva2VucyxcbiAgICAgICAgICAgIHByZXZpb3VzOiBwcmV2aW91c1Rva2VuLFxuICAgICAgICAgICAgY3VzdG9tVXNlckRlc2NyaXB0aW9uOiBlcnJNc2dUeXBlcyxcbiAgICAgICAgICAgIHJ1bGVOYW1lOiB0aGlzLmdldEN1cnJSdWxlRnVsbE5hbWUoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRocm93IHRoaXMuU0FWRV9FUlJPUihuZXcgTm9WaWFibGVBbHRFeGNlcHRpb24oZXJyTXNnLCB0aGlzLkxBKDEpLCBwcmV2aW91c1Rva2VuKSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JfaGFuZGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/error_handler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/gast_recorder.js":
/*!******************************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/parse/parser/traits/gast_recorder.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GastRecorder: () => (/* binding */ GastRecorder)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/has.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/last.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isFunction.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isArray.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/some.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/forEach.js\");\n/* harmony import */ var _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @chevrotain/gast */ \"(ssr)/./node_modules/@chevrotain/gast/lib/src/api.js\");\n/* harmony import */ var _scan_lexer_public_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../scan/lexer_public.js */ \"(ssr)/./node_modules/chevrotain/lib/src/scan/lexer_public.js\");\n/* harmony import */ var _scan_tokens_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../scan/tokens.js */ \"(ssr)/./node_modules/chevrotain/lib/src/scan/tokens.js\");\n/* harmony import */ var _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../scan/tokens_public.js */ \"(ssr)/./node_modules/chevrotain/lib/src/scan/tokens_public.js\");\n/* harmony import */ var _parser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../parser.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/parser/parser.js\");\n/* harmony import */ var _grammar_keys_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../grammar/keys.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/keys.js\");\n\n\n\n\n\n\n\nconst RECORDING_NULL_OBJECT = {\n    description: \"This Object indicates the Parser is during Recording Phase\",\n};\nObject.freeze(RECORDING_NULL_OBJECT);\nconst HANDLE_SEPARATOR = true;\nconst MAX_METHOD_IDX = Math.pow(2, _grammar_keys_js__WEBPACK_IMPORTED_MODULE_5__.BITS_FOR_OCCURRENCE_IDX) - 1;\nconst RFT = (0,_scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_3__.createToken)({ name: \"RECORDING_PHASE_TOKEN\", pattern: _scan_lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.Lexer.NA });\n(0,_scan_tokens_js__WEBPACK_IMPORTED_MODULE_2__.augmentTokenTypes)([RFT]);\nconst RECORDING_PHASE_TOKEN = (0,_scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_3__.createTokenInstance)(RFT, \"This IToken indicates the Parser is in Recording Phase\\n\\t\" +\n    \"\" +\n    \"See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details\", \n// Using \"-1\" instead of NaN (as in EOF) because an actual number is less likely to\n// cause errors if the output of LA or CONSUME would be (incorrectly) used during the recording phase.\n-1, -1, -1, -1, -1, -1);\nObject.freeze(RECORDING_PHASE_TOKEN);\nconst RECORDING_PHASE_CSTNODE = {\n    name: \"This CSTNode indicates the Parser is in Recording Phase\\n\\t\" +\n        \"See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details\",\n    children: {},\n};\n/**\n * This trait handles the creation of the GAST structure for Chevrotain Grammars\n */\nclass GastRecorder {\n    initGastRecorder(config) {\n        this.recordingProdStack = [];\n        this.RECORDING_PHASE = false;\n    }\n    enableRecording() {\n        this.RECORDING_PHASE = true;\n        this.TRACE_INIT(\"Enable Recording\", () => {\n            /**\n             * Warning Dark Voodoo Magic upcoming!\n             * We are \"replacing\" the public parsing DSL methods API\n             * With **new** alternative implementations on the Parser **instance**\n             *\n             * So far this is the only way I've found to avoid performance regressions during parsing time.\n             * - Approx 30% performance regression was measured on Chrome 75 Canary when attempting to replace the \"internal\"\n             *   implementations directly instead.\n             */\n            for (let i = 0; i < 10; i++) {\n                const idx = i > 0 ? i : \"\";\n                this[`CONSUME${idx}`] = function (arg1, arg2) {\n                    return this.consumeInternalRecord(arg1, i, arg2);\n                };\n                this[`SUBRULE${idx}`] = function (arg1, arg2) {\n                    return this.subruleInternalRecord(arg1, i, arg2);\n                };\n                this[`OPTION${idx}`] = function (arg1) {\n                    return this.optionInternalRecord(arg1, i);\n                };\n                this[`OR${idx}`] = function (arg1) {\n                    return this.orInternalRecord(arg1, i);\n                };\n                this[`MANY${idx}`] = function (arg1) {\n                    this.manyInternalRecord(i, arg1);\n                };\n                this[`MANY_SEP${idx}`] = function (arg1) {\n                    this.manySepFirstInternalRecord(i, arg1);\n                };\n                this[`AT_LEAST_ONE${idx}`] = function (arg1) {\n                    this.atLeastOneInternalRecord(i, arg1);\n                };\n                this[`AT_LEAST_ONE_SEP${idx}`] = function (arg1) {\n                    this.atLeastOneSepFirstInternalRecord(i, arg1);\n                };\n            }\n            // DSL methods with the idx(suffix) as an argument\n            this[`consume`] = function (idx, arg1, arg2) {\n                return this.consumeInternalRecord(arg1, idx, arg2);\n            };\n            this[`subrule`] = function (idx, arg1, arg2) {\n                return this.subruleInternalRecord(arg1, idx, arg2);\n            };\n            this[`option`] = function (idx, arg1) {\n                return this.optionInternalRecord(arg1, idx);\n            };\n            this[`or`] = function (idx, arg1) {\n                return this.orInternalRecord(arg1, idx);\n            };\n            this[`many`] = function (idx, arg1) {\n                this.manyInternalRecord(idx, arg1);\n            };\n            this[`atLeastOne`] = function (idx, arg1) {\n                this.atLeastOneInternalRecord(idx, arg1);\n            };\n            this.ACTION = this.ACTION_RECORD;\n            this.BACKTRACK = this.BACKTRACK_RECORD;\n            this.LA = this.LA_RECORD;\n        });\n    }\n    disableRecording() {\n        this.RECORDING_PHASE = false;\n        // By deleting these **instance** properties, any future invocation\n        // will be deferred to the original methods on the **prototype** object\n        // This seems to get rid of any incorrect optimizations that V8 may\n        // do during the recording phase.\n        this.TRACE_INIT(\"Deleting Recording methods\", () => {\n            const that = this;\n            for (let i = 0; i < 10; i++) {\n                const idx = i > 0 ? i : \"\";\n                delete that[`CONSUME${idx}`];\n                delete that[`SUBRULE${idx}`];\n                delete that[`OPTION${idx}`];\n                delete that[`OR${idx}`];\n                delete that[`MANY${idx}`];\n                delete that[`MANY_SEP${idx}`];\n                delete that[`AT_LEAST_ONE${idx}`];\n                delete that[`AT_LEAST_ONE_SEP${idx}`];\n            }\n            delete that[`consume`];\n            delete that[`subrule`];\n            delete that[`option`];\n            delete that[`or`];\n            delete that[`many`];\n            delete that[`atLeastOne`];\n            delete that.ACTION;\n            delete that.BACKTRACK;\n            delete that.LA;\n        });\n    }\n    //   Parser methods are called inside an ACTION?\n    //   Maybe try/catch/finally on ACTIONS while disabling the recorders state changes?\n    // @ts-expect-error -- noop place holder\n    ACTION_RECORD(impl) {\n        // NO-OP during recording\n    }\n    // Executing backtracking logic will break our recording logic assumptions\n    BACKTRACK_RECORD(grammarRule, args) {\n        return () => true;\n    }\n    // LA is part of the official API and may be used for custom lookahead logic\n    // by end users who may forget to wrap it in ACTION or inside a GATE\n    LA_RECORD(howMuch) {\n        // We cannot use the RECORD_PHASE_TOKEN here because someone may depend\n        // On LA return EOF at the end of the input so an infinite loop may occur.\n        return _parser_js__WEBPACK_IMPORTED_MODULE_4__.END_OF_FILE;\n    }\n    topLevelRuleRecord(name, def) {\n        try {\n            const newTopLevelRule = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Rule({ definition: [], name: name });\n            newTopLevelRule.name = name;\n            this.recordingProdStack.push(newTopLevelRule);\n            def.call(this);\n            this.recordingProdStack.pop();\n            return newTopLevelRule;\n        }\n        catch (originalError) {\n            if (originalError.KNOWN_RECORDER_ERROR !== true) {\n                try {\n                    originalError.message =\n                        originalError.message +\n                            '\\n\\t This error was thrown during the \"grammar recording phase\" For more info see:\\n\\t' +\n                            \"https://chevrotain.io/docs/guide/internals.html#grammar-recording\";\n                }\n                catch (mutabilityError) {\n                    // We may not be able to modify the original error object\n                    throw originalError;\n                }\n            }\n            throw originalError;\n        }\n    }\n    // Implementation of parsing DSL\n    optionInternalRecord(actionORMethodDef, occurrence) {\n        return recordProd.call(this, _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Option, actionORMethodDef, occurrence);\n    }\n    atLeastOneInternalRecord(occurrence, actionORMethodDef) {\n        recordProd.call(this, _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.RepetitionMandatory, actionORMethodDef, occurrence);\n    }\n    atLeastOneSepFirstInternalRecord(occurrence, options) {\n        recordProd.call(this, _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.RepetitionMandatoryWithSeparator, options, occurrence, HANDLE_SEPARATOR);\n    }\n    manyInternalRecord(occurrence, actionORMethodDef) {\n        recordProd.call(this, _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Repetition, actionORMethodDef, occurrence);\n    }\n    manySepFirstInternalRecord(occurrence, options) {\n        recordProd.call(this, _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.RepetitionWithSeparator, options, occurrence, HANDLE_SEPARATOR);\n    }\n    orInternalRecord(altsOrOpts, occurrence) {\n        return recordOrProd.call(this, altsOrOpts, occurrence);\n    }\n    subruleInternalRecord(ruleToCall, occurrence, options) {\n        assertMethodIdxIsValid(occurrence);\n        if (!ruleToCall || (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(ruleToCall, \"ruleName\") === false) {\n            const error = new Error(`<SUBRULE${getIdxSuffix(occurrence)}> argument is invalid` +\n                ` expecting a Parser method reference but got: <${JSON.stringify(ruleToCall)}>` +\n                `\\n inside top level rule: <${this.recordingProdStack[0].name}>`);\n            error.KNOWN_RECORDER_ERROR = true;\n            throw error;\n        }\n        const prevProd = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(this.recordingProdStack);\n        const ruleName = ruleToCall.ruleName;\n        const newNoneTerminal = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.NonTerminal({\n            idx: occurrence,\n            nonTerminalName: ruleName,\n            label: options === null || options === void 0 ? void 0 : options.LABEL,\n            // The resolving of the `referencedRule` property will be done once all the Rule's GASTs have been created\n            referencedRule: undefined,\n        });\n        prevProd.definition.push(newNoneTerminal);\n        return this.outputCst\n            ? RECORDING_PHASE_CSTNODE\n            : RECORDING_NULL_OBJECT;\n    }\n    consumeInternalRecord(tokType, occurrence, options) {\n        assertMethodIdxIsValid(occurrence);\n        if (!(0,_scan_tokens_js__WEBPACK_IMPORTED_MODULE_2__.hasShortKeyProperty)(tokType)) {\n            const error = new Error(`<CONSUME${getIdxSuffix(occurrence)}> argument is invalid` +\n                ` expecting a TokenType reference but got: <${JSON.stringify(tokType)}>` +\n                `\\n inside top level rule: <${this.recordingProdStack[0].name}>`);\n            error.KNOWN_RECORDER_ERROR = true;\n            throw error;\n        }\n        const prevProd = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(this.recordingProdStack);\n        const newNoneTerminal = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Terminal({\n            idx: occurrence,\n            terminalType: tokType,\n            label: options === null || options === void 0 ? void 0 : options.LABEL,\n        });\n        prevProd.definition.push(newNoneTerminal);\n        return RECORDING_PHASE_TOKEN;\n    }\n}\nfunction recordProd(prodConstructor, mainProdArg, occurrence, handleSep = false) {\n    assertMethodIdxIsValid(occurrence);\n    const prevProd = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(this.recordingProdStack);\n    const grammarAction = (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(mainProdArg) ? mainProdArg : mainProdArg.DEF;\n    const newProd = new prodConstructor({ definition: [], idx: occurrence });\n    if (handleSep) {\n        newProd.separator = mainProdArg.SEP;\n    }\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(mainProdArg, \"MAX_LOOKAHEAD\")) {\n        newProd.maxLookahead = mainProdArg.MAX_LOOKAHEAD;\n    }\n    this.recordingProdStack.push(newProd);\n    grammarAction.call(this);\n    prevProd.definition.push(newProd);\n    this.recordingProdStack.pop();\n    return RECORDING_NULL_OBJECT;\n}\nfunction recordOrProd(mainProdArg, occurrence) {\n    assertMethodIdxIsValid(occurrence);\n    const prevProd = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(this.recordingProdStack);\n    // Only an array of alternatives\n    const hasOptions = (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(mainProdArg) === false;\n    const alts = hasOptions === false ? mainProdArg : mainProdArg.DEF;\n    const newOrProd = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Alternation({\n        definition: [],\n        idx: occurrence,\n        ignoreAmbiguities: hasOptions && mainProdArg.IGNORE_AMBIGUITIES === true,\n    });\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(mainProdArg, \"MAX_LOOKAHEAD\")) {\n        newOrProd.maxLookahead = mainProdArg.MAX_LOOKAHEAD;\n    }\n    const hasPredicates = (0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(alts, (currAlt) => (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(currAlt.GATE));\n    newOrProd.hasPredicates = hasPredicates;\n    prevProd.definition.push(newOrProd);\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(alts, (currAlt) => {\n        const currAltFlat = new _chevrotain_gast__WEBPACK_IMPORTED_MODULE_0__.Alternative({ definition: [] });\n        newOrProd.definition.push(currAltFlat);\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currAlt, \"IGNORE_AMBIGUITIES\")) {\n            currAltFlat.ignoreAmbiguities = currAlt.IGNORE_AMBIGUITIES; // assumes end user provides the correct config value/type\n        }\n        // **implicit** ignoreAmbiguities due to usage of gate\n        else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(currAlt, \"GATE\")) {\n            currAltFlat.ignoreAmbiguities = true;\n        }\n        this.recordingProdStack.push(currAltFlat);\n        currAlt.ALT.call(this);\n        this.recordingProdStack.pop();\n    });\n    return RECORDING_NULL_OBJECT;\n}\nfunction getIdxSuffix(idx) {\n    return idx === 0 ? \"\" : `${idx}`;\n}\nfunction assertMethodIdxIsValid(idx) {\n    if (idx < 0 || idx > MAX_METHOD_IDX) {\n        const error = new Error(\n        // The stack trace will contain all the needed details\n        `Invalid DSL Method idx value: <${idx}>\\n\\t` +\n            `Idx value must be a none negative value smaller than ${MAX_METHOD_IDX + 1}`);\n        error.KNOWN_RECORDER_ERROR = true;\n        throw error;\n    }\n}\n//# sourceMappingURL=gast_recorder.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvZ2FzdF9yZWNvcmRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQW1GO0FBQzJHO0FBQ3hJO0FBQzRCO0FBQ0M7QUFDeEM7QUFDcUI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxxRUFBdUI7QUFDMUQsWUFBWSxtRUFBVyxHQUFHLHdDQUF3Qyx3REFBSyxLQUFLO0FBQzVFLGtFQUFpQjtBQUNqQiw4QkFBOEIsMkVBQW1CO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsUUFBUTtBQUNwQztBQUNBLCtCQUErQixJQUFJO0FBQ25DO0FBQ0E7QUFDQSwrQkFBK0IsSUFBSTtBQUNuQztBQUNBO0FBQ0EsOEJBQThCLElBQUk7QUFDbEM7QUFDQTtBQUNBLDBCQUEwQixJQUFJO0FBQzlCO0FBQ0E7QUFDQSw0QkFBNEIsSUFBSTtBQUNoQztBQUNBO0FBQ0EsZ0NBQWdDLElBQUk7QUFDcEM7QUFDQTtBQUNBLG9DQUFvQyxJQUFJO0FBQ3hDO0FBQ0E7QUFDQSx3Q0FBd0MsSUFBSTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsUUFBUTtBQUNwQztBQUNBLHNDQUFzQyxJQUFJO0FBQzFDLHNDQUFzQyxJQUFJO0FBQzFDLHFDQUFxQyxJQUFJO0FBQ3pDLGlDQUFpQyxJQUFJO0FBQ3JDLG1DQUFtQyxJQUFJO0FBQ3ZDLHVDQUF1QyxJQUFJO0FBQzNDLDJDQUEyQyxJQUFJO0FBQy9DLCtDQUErQyxJQUFJO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxtREFBVztBQUMxQjtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0Msa0RBQUksR0FBRyw0QkFBNEI7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLG9EQUFNO0FBQzNDO0FBQ0E7QUFDQSw4QkFBOEIsaUVBQW1CO0FBQ2pEO0FBQ0E7QUFDQSw4QkFBOEIsOEVBQWdDO0FBQzlEO0FBQ0E7QUFDQSw4QkFBOEIsd0RBQVU7QUFDeEM7QUFDQTtBQUNBLDhCQUE4QixxRUFBdUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHFEQUFHO0FBQzlCLCtDQUErQyx5QkFBeUI7QUFDeEUsa0VBQWtFLDJCQUEyQjtBQUM3Riw4Q0FBOEMsZ0NBQWdDO0FBQzlFO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixxREFBSTtBQUM3QjtBQUNBLG9DQUFvQyx5REFBVztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxvRUFBbUI7QUFDaEMsK0NBQStDLHlCQUF5QjtBQUN4RSw4REFBOEQsd0JBQXdCO0FBQ3RGLDhDQUE4QyxnQ0FBZ0M7QUFDOUU7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHFEQUFJO0FBQzdCLG9DQUFvQyxzREFBUTtBQUM1QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHFEQUFJO0FBQ3pCLDBCQUEwQixxREFBVTtBQUNwQywwQ0FBMEMsaUNBQWlDO0FBQzNFO0FBQ0E7QUFDQTtBQUNBLFFBQVEscURBQUc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixxREFBSTtBQUN6QjtBQUNBLHVCQUF1QixxREFBTztBQUM5QjtBQUNBLDBCQUEwQix5REFBVztBQUNyQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsUUFBUSxxREFBRztBQUNYO0FBQ0E7QUFDQSwwQkFBMEIsc0RBQUksb0JBQW9CLHFEQUFVO0FBQzVEO0FBQ0E7QUFDQSxJQUFJLHNEQUFPO0FBQ1gsZ0NBQWdDLHlEQUFXLEdBQUcsZ0JBQWdCO0FBQzlEO0FBQ0EsWUFBWSxxREFBRztBQUNmLHdFQUF3RTtBQUN4RTtBQUNBO0FBQ0EsaUJBQWlCLHFEQUFHO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLElBQUk7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxJQUFJO0FBQzlDLG9FQUFvRSxtQkFBbUI7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL21lcm1haWQtZGlhZ3JhbS1lZGl0b3IvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvZ2FzdF9yZWNvcmRlci5qcz9kYzIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZvckVhY2gsIGhhcywgaXNBcnJheSwgaXNGdW5jdGlvbiwgbGFzdCBhcyBwZWVrLCBzb21lLCB9IGZyb20gXCJsb2Rhc2gtZXNcIjtcbmltcG9ydCB7IEFsdGVybmF0aW9uLCBBbHRlcm5hdGl2ZSwgTm9uVGVybWluYWwsIE9wdGlvbiwgUmVwZXRpdGlvbiwgUmVwZXRpdGlvbk1hbmRhdG9yeSwgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IsIFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yLCBSdWxlLCBUZXJtaW5hbCwgfSBmcm9tIFwiQGNoZXZyb3RhaW4vZ2FzdFwiO1xuaW1wb3J0IHsgTGV4ZXIgfSBmcm9tIFwiLi4vLi4vLi4vc2Nhbi9sZXhlcl9wdWJsaWMuanNcIjtcbmltcG9ydCB7IGF1Z21lbnRUb2tlblR5cGVzLCBoYXNTaG9ydEtleVByb3BlcnR5LCB9IGZyb20gXCIuLi8uLi8uLi9zY2FuL3Rva2Vucy5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlVG9rZW4sIGNyZWF0ZVRva2VuSW5zdGFuY2UsIH0gZnJvbSBcIi4uLy4uLy4uL3NjYW4vdG9rZW5zX3B1YmxpYy5qc1wiO1xuaW1wb3J0IHsgRU5EX09GX0ZJTEUgfSBmcm9tIFwiLi4vcGFyc2VyLmpzXCI7XG5pbXBvcnQgeyBCSVRTX0ZPUl9PQ0NVUlJFTkNFX0lEWCB9IGZyb20gXCIuLi8uLi9ncmFtbWFyL2tleXMuanNcIjtcbmNvbnN0IFJFQ09SRElOR19OVUxMX09CSkVDVCA9IHtcbiAgICBkZXNjcmlwdGlvbjogXCJUaGlzIE9iamVjdCBpbmRpY2F0ZXMgdGhlIFBhcnNlciBpcyBkdXJpbmcgUmVjb3JkaW5nIFBoYXNlXCIsXG59O1xuT2JqZWN0LmZyZWV6ZShSRUNPUkRJTkdfTlVMTF9PQkpFQ1QpO1xuY29uc3QgSEFORExFX1NFUEFSQVRPUiA9IHRydWU7XG5jb25zdCBNQVhfTUVUSE9EX0lEWCA9IE1hdGgucG93KDIsIEJJVFNfRk9SX09DQ1VSUkVOQ0VfSURYKSAtIDE7XG5jb25zdCBSRlQgPSBjcmVhdGVUb2tlbih7IG5hbWU6IFwiUkVDT1JESU5HX1BIQVNFX1RPS0VOXCIsIHBhdHRlcm46IExleGVyLk5BIH0pO1xuYXVnbWVudFRva2VuVHlwZXMoW1JGVF0pO1xuY29uc3QgUkVDT1JESU5HX1BIQVNFX1RPS0VOID0gY3JlYXRlVG9rZW5JbnN0YW5jZShSRlQsIFwiVGhpcyBJVG9rZW4gaW5kaWNhdGVzIHRoZSBQYXJzZXIgaXMgaW4gUmVjb3JkaW5nIFBoYXNlXFxuXFx0XCIgK1xuICAgIFwiXCIgK1xuICAgIFwiU2VlOiBodHRwczovL2NoZXZyb3RhaW4uaW8vZG9jcy9ndWlkZS9pbnRlcm5hbHMuaHRtbCNncmFtbWFyLXJlY29yZGluZyBmb3IgZGV0YWlsc1wiLCBcbi8vIFVzaW5nIFwiLTFcIiBpbnN0ZWFkIG9mIE5hTiAoYXMgaW4gRU9GKSBiZWNhdXNlIGFuIGFjdHVhbCBudW1iZXIgaXMgbGVzcyBsaWtlbHkgdG9cbi8vIGNhdXNlIGVycm9ycyBpZiB0aGUgb3V0cHV0IG9mIExBIG9yIENPTlNVTUUgd291bGQgYmUgKGluY29ycmVjdGx5KSB1c2VkIGR1cmluZyB0aGUgcmVjb3JkaW5nIHBoYXNlLlxuLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSk7XG5PYmplY3QuZnJlZXplKFJFQ09SRElOR19QSEFTRV9UT0tFTik7XG5jb25zdCBSRUNPUkRJTkdfUEhBU0VfQ1NUTk9ERSA9IHtcbiAgICBuYW1lOiBcIlRoaXMgQ1NUTm9kZSBpbmRpY2F0ZXMgdGhlIFBhcnNlciBpcyBpbiBSZWNvcmRpbmcgUGhhc2VcXG5cXHRcIiArXG4gICAgICAgIFwiU2VlOiBodHRwczovL2NoZXZyb3RhaW4uaW8vZG9jcy9ndWlkZS9pbnRlcm5hbHMuaHRtbCNncmFtbWFyLXJlY29yZGluZyBmb3IgZGV0YWlsc1wiLFxuICAgIGNoaWxkcmVuOiB7fSxcbn07XG4vKipcbiAqIFRoaXMgdHJhaXQgaGFuZGxlcyB0aGUgY3JlYXRpb24gb2YgdGhlIEdBU1Qgc3RydWN0dXJlIGZvciBDaGV2cm90YWluIEdyYW1tYXJzXG4gKi9cbmV4cG9ydCBjbGFzcyBHYXN0UmVjb3JkZXIge1xuICAgIGluaXRHYXN0UmVjb3JkZXIoY29uZmlnKSB7XG4gICAgICAgIHRoaXMucmVjb3JkaW5nUHJvZFN0YWNrID0gW107XG4gICAgICAgIHRoaXMuUkVDT1JESU5HX1BIQVNFID0gZmFsc2U7XG4gICAgfVxuICAgIGVuYWJsZVJlY29yZGluZygpIHtcbiAgICAgICAgdGhpcy5SRUNPUkRJTkdfUEhBU0UgPSB0cnVlO1xuICAgICAgICB0aGlzLlRSQUNFX0lOSVQoXCJFbmFibGUgUmVjb3JkaW5nXCIsICgpID0+IHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV2FybmluZyBEYXJrIFZvb2RvbyBNYWdpYyB1cGNvbWluZyFcbiAgICAgICAgICAgICAqIFdlIGFyZSBcInJlcGxhY2luZ1wiIHRoZSBwdWJsaWMgcGFyc2luZyBEU0wgbWV0aG9kcyBBUElcbiAgICAgICAgICAgICAqIFdpdGggKipuZXcqKiBhbHRlcm5hdGl2ZSBpbXBsZW1lbnRhdGlvbnMgb24gdGhlIFBhcnNlciAqKmluc3RhbmNlKipcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBTbyBmYXIgdGhpcyBpcyB0aGUgb25seSB3YXkgSSd2ZSBmb3VuZCB0byBhdm9pZCBwZXJmb3JtYW5jZSByZWdyZXNzaW9ucyBkdXJpbmcgcGFyc2luZyB0aW1lLlxuICAgICAgICAgICAgICogLSBBcHByb3ggMzAlIHBlcmZvcm1hbmNlIHJlZ3Jlc3Npb24gd2FzIG1lYXN1cmVkIG9uIENocm9tZSA3NSBDYW5hcnkgd2hlbiBhdHRlbXB0aW5nIHRvIHJlcGxhY2UgdGhlIFwiaW50ZXJuYWxcIlxuICAgICAgICAgICAgICogICBpbXBsZW1lbnRhdGlvbnMgZGlyZWN0bHkgaW5zdGVhZC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaWR4ID0gaSA+IDAgPyBpIDogXCJcIjtcbiAgICAgICAgICAgICAgICB0aGlzW2BDT05TVU1FJHtpZHh9YF0gPSBmdW5jdGlvbiAoYXJnMSwgYXJnMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lSW50ZXJuYWxSZWNvcmQoYXJnMSwgaSwgYXJnMik7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzW2BTVUJSVUxFJHtpZHh9YF0gPSBmdW5jdGlvbiAoYXJnMSwgYXJnMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdWJydWxlSW50ZXJuYWxSZWNvcmQoYXJnMSwgaSwgYXJnMik7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzW2BPUFRJT04ke2lkeH1gXSA9IGZ1bmN0aW9uIChhcmcxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbkludGVybmFsUmVjb3JkKGFyZzEsIGkpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpc1tgT1Ike2lkeH1gXSA9IGZ1bmN0aW9uIChhcmcxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9ySW50ZXJuYWxSZWNvcmQoYXJnMSwgaSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzW2BNQU5ZJHtpZHh9YF0gPSBmdW5jdGlvbiAoYXJnMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hbnlJbnRlcm5hbFJlY29yZChpLCBhcmcxKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXNbYE1BTllfU0VQJHtpZHh9YF0gPSBmdW5jdGlvbiAoYXJnMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hbnlTZXBGaXJzdEludGVybmFsUmVjb3JkKGksIGFyZzEpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpc1tgQVRfTEVBU1RfT05FJHtpZHh9YF0gPSBmdW5jdGlvbiAoYXJnMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF0TGVhc3RPbmVJbnRlcm5hbFJlY29yZChpLCBhcmcxKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXNbYEFUX0xFQVNUX09ORV9TRVAke2lkeH1gXSA9IGZ1bmN0aW9uIChhcmcxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWxSZWNvcmQoaSwgYXJnMSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIERTTCBtZXRob2RzIHdpdGggdGhlIGlkeChzdWZmaXgpIGFzIGFuIGFyZ3VtZW50XG4gICAgICAgICAgICB0aGlzW2Bjb25zdW1lYF0gPSBmdW5jdGlvbiAoaWR4LCBhcmcxLCBhcmcyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUludGVybmFsUmVjb3JkKGFyZzEsIGlkeCwgYXJnMik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpc1tgc3VicnVsZWBdID0gZnVuY3Rpb24gKGlkeCwgYXJnMSwgYXJnMikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN1YnJ1bGVJbnRlcm5hbFJlY29yZChhcmcxLCBpZHgsIGFyZzIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXNbYG9wdGlvbmBdID0gZnVuY3Rpb24gKGlkeCwgYXJnMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbkludGVybmFsUmVjb3JkKGFyZzEsIGlkeCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpc1tgb3JgXSA9IGZ1bmN0aW9uIChpZHgsIGFyZzEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vckludGVybmFsUmVjb3JkKGFyZzEsIGlkeCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpc1tgbWFueWBdID0gZnVuY3Rpb24gKGlkeCwgYXJnMSkge1xuICAgICAgICAgICAgICAgIHRoaXMubWFueUludGVybmFsUmVjb3JkKGlkeCwgYXJnMSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpc1tgYXRMZWFzdE9uZWBdID0gZnVuY3Rpb24gKGlkeCwgYXJnMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXRMZWFzdE9uZUludGVybmFsUmVjb3JkKGlkeCwgYXJnMSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5BQ1RJT04gPSB0aGlzLkFDVElPTl9SRUNPUkQ7XG4gICAgICAgICAgICB0aGlzLkJBQ0tUUkFDSyA9IHRoaXMuQkFDS1RSQUNLX1JFQ09SRDtcbiAgICAgICAgICAgIHRoaXMuTEEgPSB0aGlzLkxBX1JFQ09SRDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRpc2FibGVSZWNvcmRpbmcoKSB7XG4gICAgICAgIHRoaXMuUkVDT1JESU5HX1BIQVNFID0gZmFsc2U7XG4gICAgICAgIC8vIEJ5IGRlbGV0aW5nIHRoZXNlICoqaW5zdGFuY2UqKiBwcm9wZXJ0aWVzLCBhbnkgZnV0dXJlIGludm9jYXRpb25cbiAgICAgICAgLy8gd2lsbCBiZSBkZWZlcnJlZCB0byB0aGUgb3JpZ2luYWwgbWV0aG9kcyBvbiB0aGUgKipwcm90b3R5cGUqKiBvYmplY3RcbiAgICAgICAgLy8gVGhpcyBzZWVtcyB0byBnZXQgcmlkIG9mIGFueSBpbmNvcnJlY3Qgb3B0aW1pemF0aW9ucyB0aGF0IFY4IG1heVxuICAgICAgICAvLyBkbyBkdXJpbmcgdGhlIHJlY29yZGluZyBwaGFzZS5cbiAgICAgICAgdGhpcy5UUkFDRV9JTklUKFwiRGVsZXRpbmcgUmVjb3JkaW5nIG1ldGhvZHNcIiwgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpZHggPSBpID4gMCA/IGkgOiBcIlwiO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGF0W2BDT05TVU1FJHtpZHh9YF07XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoYXRbYFNVQlJVTEUke2lkeH1gXTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhhdFtgT1BUSU9OJHtpZHh9YF07XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoYXRbYE9SJHtpZHh9YF07XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoYXRbYE1BTlkke2lkeH1gXTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhhdFtgTUFOWV9TRVAke2lkeH1gXTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhhdFtgQVRfTEVBU1RfT05FJHtpZHh9YF07XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoYXRbYEFUX0xFQVNUX09ORV9TRVAke2lkeH1gXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbGV0ZSB0aGF0W2Bjb25zdW1lYF07XG4gICAgICAgICAgICBkZWxldGUgdGhhdFtgc3VicnVsZWBdO1xuICAgICAgICAgICAgZGVsZXRlIHRoYXRbYG9wdGlvbmBdO1xuICAgICAgICAgICAgZGVsZXRlIHRoYXRbYG9yYF07XG4gICAgICAgICAgICBkZWxldGUgdGhhdFtgbWFueWBdO1xuICAgICAgICAgICAgZGVsZXRlIHRoYXRbYGF0TGVhc3RPbmVgXTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGF0LkFDVElPTjtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGF0LkJBQ0tUUkFDSztcbiAgICAgICAgICAgIGRlbGV0ZSB0aGF0LkxBO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gICBQYXJzZXIgbWV0aG9kcyBhcmUgY2FsbGVkIGluc2lkZSBhbiBBQ1RJT04/XG4gICAgLy8gICBNYXliZSB0cnkvY2F0Y2gvZmluYWxseSBvbiBBQ1RJT05TIHdoaWxlIGRpc2FibGluZyB0aGUgcmVjb3JkZXJzIHN0YXRlIGNoYW5nZXM/XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtLSBub29wIHBsYWNlIGhvbGRlclxuICAgIEFDVElPTl9SRUNPUkQoaW1wbCkge1xuICAgICAgICAvLyBOTy1PUCBkdXJpbmcgcmVjb3JkaW5nXG4gICAgfVxuICAgIC8vIEV4ZWN1dGluZyBiYWNrdHJhY2tpbmcgbG9naWMgd2lsbCBicmVhayBvdXIgcmVjb3JkaW5nIGxvZ2ljIGFzc3VtcHRpb25zXG4gICAgQkFDS1RSQUNLX1JFQ09SRChncmFtbWFyUnVsZSwgYXJncykge1xuICAgICAgICByZXR1cm4gKCkgPT4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gTEEgaXMgcGFydCBvZiB0aGUgb2ZmaWNpYWwgQVBJIGFuZCBtYXkgYmUgdXNlZCBmb3IgY3VzdG9tIGxvb2thaGVhZCBsb2dpY1xuICAgIC8vIGJ5IGVuZCB1c2VycyB3aG8gbWF5IGZvcmdldCB0byB3cmFwIGl0IGluIEFDVElPTiBvciBpbnNpZGUgYSBHQVRFXG4gICAgTEFfUkVDT1JEKGhvd011Y2gpIHtcbiAgICAgICAgLy8gV2UgY2Fubm90IHVzZSB0aGUgUkVDT1JEX1BIQVNFX1RPS0VOIGhlcmUgYmVjYXVzZSBzb21lb25lIG1heSBkZXBlbmRcbiAgICAgICAgLy8gT24gTEEgcmV0dXJuIEVPRiBhdCB0aGUgZW5kIG9mIHRoZSBpbnB1dCBzbyBhbiBpbmZpbml0ZSBsb29wIG1heSBvY2N1ci5cbiAgICAgICAgcmV0dXJuIEVORF9PRl9GSUxFO1xuICAgIH1cbiAgICB0b3BMZXZlbFJ1bGVSZWNvcmQobmFtZSwgZGVmKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBuZXdUb3BMZXZlbFJ1bGUgPSBuZXcgUnVsZSh7IGRlZmluaXRpb246IFtdLCBuYW1lOiBuYW1lIH0pO1xuICAgICAgICAgICAgbmV3VG9wTGV2ZWxSdWxlLm5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgdGhpcy5yZWNvcmRpbmdQcm9kU3RhY2sucHVzaChuZXdUb3BMZXZlbFJ1bGUpO1xuICAgICAgICAgICAgZGVmLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnJlY29yZGluZ1Byb2RTdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHJldHVybiBuZXdUb3BMZXZlbFJ1bGU7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKG9yaWdpbmFsRXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChvcmlnaW5hbEVycm9yLktOT1dOX1JFQ09SREVSX0VSUk9SICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvci5tZXNzYWdlID1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3IubWVzc2FnZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1xcblxcdCBUaGlzIGVycm9yIHdhcyB0aHJvd24gZHVyaW5nIHRoZSBcImdyYW1tYXIgcmVjb3JkaW5nIHBoYXNlXCIgRm9yIG1vcmUgaW5mbyBzZWU6XFxuXFx0JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJodHRwczovL2NoZXZyb3RhaW4uaW8vZG9jcy9ndWlkZS9pbnRlcm5hbHMuaHRtbCNncmFtbWFyLXJlY29yZGluZ1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAobXV0YWJpbGl0eUVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIG1heSBub3QgYmUgYWJsZSB0byBtb2RpZnkgdGhlIG9yaWdpbmFsIGVycm9yIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBvcmlnaW5hbEVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG9yaWdpbmFsRXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gSW1wbGVtZW50YXRpb24gb2YgcGFyc2luZyBEU0xcbiAgICBvcHRpb25JbnRlcm5hbFJlY29yZChhY3Rpb25PUk1ldGhvZERlZiwgb2NjdXJyZW5jZSkge1xuICAgICAgICByZXR1cm4gcmVjb3JkUHJvZC5jYWxsKHRoaXMsIE9wdGlvbiwgYWN0aW9uT1JNZXRob2REZWYsIG9jY3VycmVuY2UpO1xuICAgIH1cbiAgICBhdExlYXN0T25lSW50ZXJuYWxSZWNvcmQob2NjdXJyZW5jZSwgYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgcmVjb3JkUHJvZC5jYWxsKHRoaXMsIFJlcGV0aXRpb25NYW5kYXRvcnksIGFjdGlvbk9STWV0aG9kRGVmLCBvY2N1cnJlbmNlKTtcbiAgICB9XG4gICAgYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWxSZWNvcmQob2NjdXJyZW5jZSwgb3B0aW9ucykge1xuICAgICAgICByZWNvcmRQcm9kLmNhbGwodGhpcywgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IsIG9wdGlvbnMsIG9jY3VycmVuY2UsIEhBTkRMRV9TRVBBUkFUT1IpO1xuICAgIH1cbiAgICBtYW55SW50ZXJuYWxSZWNvcmQob2NjdXJyZW5jZSwgYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgcmVjb3JkUHJvZC5jYWxsKHRoaXMsIFJlcGV0aXRpb24sIGFjdGlvbk9STWV0aG9kRGVmLCBvY2N1cnJlbmNlKTtcbiAgICB9XG4gICAgbWFueVNlcEZpcnN0SW50ZXJuYWxSZWNvcmQob2NjdXJyZW5jZSwgb3B0aW9ucykge1xuICAgICAgICByZWNvcmRQcm9kLmNhbGwodGhpcywgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IsIG9wdGlvbnMsIG9jY3VycmVuY2UsIEhBTkRMRV9TRVBBUkFUT1IpO1xuICAgIH1cbiAgICBvckludGVybmFsUmVjb3JkKGFsdHNPck9wdHMsIG9jY3VycmVuY2UpIHtcbiAgICAgICAgcmV0dXJuIHJlY29yZE9yUHJvZC5jYWxsKHRoaXMsIGFsdHNPck9wdHMsIG9jY3VycmVuY2UpO1xuICAgIH1cbiAgICBzdWJydWxlSW50ZXJuYWxSZWNvcmQocnVsZVRvQ2FsbCwgb2NjdXJyZW5jZSwgb3B0aW9ucykge1xuICAgICAgICBhc3NlcnRNZXRob2RJZHhJc1ZhbGlkKG9jY3VycmVuY2UpO1xuICAgICAgICBpZiAoIXJ1bGVUb0NhbGwgfHwgaGFzKHJ1bGVUb0NhbGwsIFwicnVsZU5hbWVcIikgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgPFNVQlJVTEUke2dldElkeFN1ZmZpeChvY2N1cnJlbmNlKX0+IGFyZ3VtZW50IGlzIGludmFsaWRgICtcbiAgICAgICAgICAgICAgICBgIGV4cGVjdGluZyBhIFBhcnNlciBtZXRob2QgcmVmZXJlbmNlIGJ1dCBnb3Q6IDwke0pTT04uc3RyaW5naWZ5KHJ1bGVUb0NhbGwpfT5gICtcbiAgICAgICAgICAgICAgICBgXFxuIGluc2lkZSB0b3AgbGV2ZWwgcnVsZTogPCR7dGhpcy5yZWNvcmRpbmdQcm9kU3RhY2tbMF0ubmFtZX0+YCk7XG4gICAgICAgICAgICBlcnJvci5LTk9XTl9SRUNPUkRFUl9FUlJPUiA9IHRydWU7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcmV2UHJvZCA9IHBlZWsodGhpcy5yZWNvcmRpbmdQcm9kU3RhY2spO1xuICAgICAgICBjb25zdCBydWxlTmFtZSA9IHJ1bGVUb0NhbGwucnVsZU5hbWU7XG4gICAgICAgIGNvbnN0IG5ld05vbmVUZXJtaW5hbCA9IG5ldyBOb25UZXJtaW5hbCh7XG4gICAgICAgICAgICBpZHg6IG9jY3VycmVuY2UsXG4gICAgICAgICAgICBub25UZXJtaW5hbE5hbWU6IHJ1bGVOYW1lLFxuICAgICAgICAgICAgbGFiZWw6IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5MQUJFTCxcbiAgICAgICAgICAgIC8vIFRoZSByZXNvbHZpbmcgb2YgdGhlIGByZWZlcmVuY2VkUnVsZWAgcHJvcGVydHkgd2lsbCBiZSBkb25lIG9uY2UgYWxsIHRoZSBSdWxlJ3MgR0FTVHMgaGF2ZSBiZWVuIGNyZWF0ZWRcbiAgICAgICAgICAgIHJlZmVyZW5jZWRSdWxlOiB1bmRlZmluZWQsXG4gICAgICAgIH0pO1xuICAgICAgICBwcmV2UHJvZC5kZWZpbml0aW9uLnB1c2gobmV3Tm9uZVRlcm1pbmFsKTtcbiAgICAgICAgcmV0dXJuIHRoaXMub3V0cHV0Q3N0XG4gICAgICAgICAgICA/IFJFQ09SRElOR19QSEFTRV9DU1ROT0RFXG4gICAgICAgICAgICA6IFJFQ09SRElOR19OVUxMX09CSkVDVDtcbiAgICB9XG4gICAgY29uc3VtZUludGVybmFsUmVjb3JkKHRva1R5cGUsIG9jY3VycmVuY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgYXNzZXJ0TWV0aG9kSWR4SXNWYWxpZChvY2N1cnJlbmNlKTtcbiAgICAgICAgaWYgKCFoYXNTaG9ydEtleVByb3BlcnR5KHRva1R5cGUpKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgPENPTlNVTUUke2dldElkeFN1ZmZpeChvY2N1cnJlbmNlKX0+IGFyZ3VtZW50IGlzIGludmFsaWRgICtcbiAgICAgICAgICAgICAgICBgIGV4cGVjdGluZyBhIFRva2VuVHlwZSByZWZlcmVuY2UgYnV0IGdvdDogPCR7SlNPTi5zdHJpbmdpZnkodG9rVHlwZSl9PmAgK1xuICAgICAgICAgICAgICAgIGBcXG4gaW5zaWRlIHRvcCBsZXZlbCBydWxlOiA8JHt0aGlzLnJlY29yZGluZ1Byb2RTdGFja1swXS5uYW1lfT5gKTtcbiAgICAgICAgICAgIGVycm9yLktOT1dOX1JFQ09SREVSX0VSUk9SID0gdHJ1ZTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByZXZQcm9kID0gcGVlayh0aGlzLnJlY29yZGluZ1Byb2RTdGFjayk7XG4gICAgICAgIGNvbnN0IG5ld05vbmVUZXJtaW5hbCA9IG5ldyBUZXJtaW5hbCh7XG4gICAgICAgICAgICBpZHg6IG9jY3VycmVuY2UsXG4gICAgICAgICAgICB0ZXJtaW5hbFR5cGU6IHRva1R5cGUsXG4gICAgICAgICAgICBsYWJlbDogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLkxBQkVMLFxuICAgICAgICB9KTtcbiAgICAgICAgcHJldlByb2QuZGVmaW5pdGlvbi5wdXNoKG5ld05vbmVUZXJtaW5hbCk7XG4gICAgICAgIHJldHVybiBSRUNPUkRJTkdfUEhBU0VfVE9LRU47XG4gICAgfVxufVxuZnVuY3Rpb24gcmVjb3JkUHJvZChwcm9kQ29uc3RydWN0b3IsIG1haW5Qcm9kQXJnLCBvY2N1cnJlbmNlLCBoYW5kbGVTZXAgPSBmYWxzZSkge1xuICAgIGFzc2VydE1ldGhvZElkeElzVmFsaWQob2NjdXJyZW5jZSk7XG4gICAgY29uc3QgcHJldlByb2QgPSBwZWVrKHRoaXMucmVjb3JkaW5nUHJvZFN0YWNrKTtcbiAgICBjb25zdCBncmFtbWFyQWN0aW9uID0gaXNGdW5jdGlvbihtYWluUHJvZEFyZykgPyBtYWluUHJvZEFyZyA6IG1haW5Qcm9kQXJnLkRFRjtcbiAgICBjb25zdCBuZXdQcm9kID0gbmV3IHByb2RDb25zdHJ1Y3Rvcih7IGRlZmluaXRpb246IFtdLCBpZHg6IG9jY3VycmVuY2UgfSk7XG4gICAgaWYgKGhhbmRsZVNlcCkge1xuICAgICAgICBuZXdQcm9kLnNlcGFyYXRvciA9IG1haW5Qcm9kQXJnLlNFUDtcbiAgICB9XG4gICAgaWYgKGhhcyhtYWluUHJvZEFyZywgXCJNQVhfTE9PS0FIRUFEXCIpKSB7XG4gICAgICAgIG5ld1Byb2QubWF4TG9va2FoZWFkID0gbWFpblByb2RBcmcuTUFYX0xPT0tBSEVBRDtcbiAgICB9XG4gICAgdGhpcy5yZWNvcmRpbmdQcm9kU3RhY2sucHVzaChuZXdQcm9kKTtcbiAgICBncmFtbWFyQWN0aW9uLmNhbGwodGhpcyk7XG4gICAgcHJldlByb2QuZGVmaW5pdGlvbi5wdXNoKG5ld1Byb2QpO1xuICAgIHRoaXMucmVjb3JkaW5nUHJvZFN0YWNrLnBvcCgpO1xuICAgIHJldHVybiBSRUNPUkRJTkdfTlVMTF9PQkpFQ1Q7XG59XG5mdW5jdGlvbiByZWNvcmRPclByb2QobWFpblByb2RBcmcsIG9jY3VycmVuY2UpIHtcbiAgICBhc3NlcnRNZXRob2RJZHhJc1ZhbGlkKG9jY3VycmVuY2UpO1xuICAgIGNvbnN0IHByZXZQcm9kID0gcGVlayh0aGlzLnJlY29yZGluZ1Byb2RTdGFjayk7XG4gICAgLy8gT25seSBhbiBhcnJheSBvZiBhbHRlcm5hdGl2ZXNcbiAgICBjb25zdCBoYXNPcHRpb25zID0gaXNBcnJheShtYWluUHJvZEFyZykgPT09IGZhbHNlO1xuICAgIGNvbnN0IGFsdHMgPSBoYXNPcHRpb25zID09PSBmYWxzZSA/IG1haW5Qcm9kQXJnIDogbWFpblByb2RBcmcuREVGO1xuICAgIGNvbnN0IG5ld09yUHJvZCA9IG5ldyBBbHRlcm5hdGlvbih7XG4gICAgICAgIGRlZmluaXRpb246IFtdLFxuICAgICAgICBpZHg6IG9jY3VycmVuY2UsXG4gICAgICAgIGlnbm9yZUFtYmlndWl0aWVzOiBoYXNPcHRpb25zICYmIG1haW5Qcm9kQXJnLklHTk9SRV9BTUJJR1VJVElFUyA9PT0gdHJ1ZSxcbiAgICB9KTtcbiAgICBpZiAoaGFzKG1haW5Qcm9kQXJnLCBcIk1BWF9MT09LQUhFQURcIikpIHtcbiAgICAgICAgbmV3T3JQcm9kLm1heExvb2thaGVhZCA9IG1haW5Qcm9kQXJnLk1BWF9MT09LQUhFQUQ7XG4gICAgfVxuICAgIGNvbnN0IGhhc1ByZWRpY2F0ZXMgPSBzb21lKGFsdHMsIChjdXJyQWx0KSA9PiBpc0Z1bmN0aW9uKGN1cnJBbHQuR0FURSkpO1xuICAgIG5ld09yUHJvZC5oYXNQcmVkaWNhdGVzID0gaGFzUHJlZGljYXRlcztcbiAgICBwcmV2UHJvZC5kZWZpbml0aW9uLnB1c2gobmV3T3JQcm9kKTtcbiAgICBmb3JFYWNoKGFsdHMsIChjdXJyQWx0KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJBbHRGbGF0ID0gbmV3IEFsdGVybmF0aXZlKHsgZGVmaW5pdGlvbjogW10gfSk7XG4gICAgICAgIG5ld09yUHJvZC5kZWZpbml0aW9uLnB1c2goY3VyckFsdEZsYXQpO1xuICAgICAgICBpZiAoaGFzKGN1cnJBbHQsIFwiSUdOT1JFX0FNQklHVUlUSUVTXCIpKSB7XG4gICAgICAgICAgICBjdXJyQWx0RmxhdC5pZ25vcmVBbWJpZ3VpdGllcyA9IGN1cnJBbHQuSUdOT1JFX0FNQklHVUlUSUVTOyAvLyBhc3N1bWVzIGVuZCB1c2VyIHByb3ZpZGVzIHRoZSBjb3JyZWN0IGNvbmZpZyB2YWx1ZS90eXBlXG4gICAgICAgIH1cbiAgICAgICAgLy8gKippbXBsaWNpdCoqIGlnbm9yZUFtYmlndWl0aWVzIGR1ZSB0byB1c2FnZSBvZiBnYXRlXG4gICAgICAgIGVsc2UgaWYgKGhhcyhjdXJyQWx0LCBcIkdBVEVcIikpIHtcbiAgICAgICAgICAgIGN1cnJBbHRGbGF0Lmlnbm9yZUFtYmlndWl0aWVzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlY29yZGluZ1Byb2RTdGFjay5wdXNoKGN1cnJBbHRGbGF0KTtcbiAgICAgICAgY3VyckFsdC5BTFQuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWNvcmRpbmdQcm9kU3RhY2sucG9wKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFJFQ09SRElOR19OVUxMX09CSkVDVDtcbn1cbmZ1bmN0aW9uIGdldElkeFN1ZmZpeChpZHgpIHtcbiAgICByZXR1cm4gaWR4ID09PSAwID8gXCJcIiA6IGAke2lkeH1gO1xufVxuZnVuY3Rpb24gYXNzZXJ0TWV0aG9kSWR4SXNWYWxpZChpZHgpIHtcbiAgICBpZiAoaWR4IDwgMCB8fCBpZHggPiBNQVhfTUVUSE9EX0lEWCkge1xuICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgLy8gVGhlIHN0YWNrIHRyYWNlIHdpbGwgY29udGFpbiBhbGwgdGhlIG5lZWRlZCBkZXRhaWxzXG4gICAgICAgIGBJbnZhbGlkIERTTCBNZXRob2QgaWR4IHZhbHVlOiA8JHtpZHh9PlxcblxcdGAgK1xuICAgICAgICAgICAgYElkeCB2YWx1ZSBtdXN0IGJlIGEgbm9uZSBuZWdhdGl2ZSB2YWx1ZSBzbWFsbGVyIHRoYW4gJHtNQVhfTUVUSE9EX0lEWCArIDF9YCk7XG4gICAgICAgIGVycm9yLktOT1dOX1JFQ09SREVSX0VSUk9SID0gdHJ1ZTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2FzdF9yZWNvcmRlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/gast_recorder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/lexer_adapter.js":
/*!******************************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/parse/parser/traits/lexer_adapter.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LexerAdapter: () => (/* binding */ LexerAdapter)\n/* harmony export */ });\n/* harmony import */ var _parser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parser.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/parser/parser.js\");\n\n/**\n * Trait responsible abstracting over the interaction with Lexer output (Token vector).\n *\n * This could be generalized to support other kinds of lexers, e.g.\n * - Just in Time Lexing / Lexer-Less parsing.\n * - Streaming Lexer.\n */\nclass LexerAdapter {\n    initLexerAdapter() {\n        this.tokVector = [];\n        this.tokVectorLength = 0;\n        this.currIdx = -1;\n    }\n    set input(newInput) {\n        // @ts-ignore - `this parameter` not supported in setters/getters\n        //   - https://www.typescriptlang.org/docs/handbook/functions.html#this-parameters\n        if (this.selfAnalysisDone !== true) {\n            throw Error(`Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.`);\n        }\n        // @ts-ignore - `this parameter` not supported in setters/getters\n        //   - https://www.typescriptlang.org/docs/handbook/functions.html#this-parameters\n        this.reset();\n        this.tokVector = newInput;\n        this.tokVectorLength = newInput.length;\n    }\n    get input() {\n        return this.tokVector;\n    }\n    // skips a token and returns the next token\n    SKIP_TOKEN() {\n        if (this.currIdx <= this.tokVector.length - 2) {\n            this.consumeToken();\n            return this.LA(1);\n        }\n        else {\n            return _parser_js__WEBPACK_IMPORTED_MODULE_0__.END_OF_FILE;\n        }\n    }\n    // Lexer (accessing Token vector) related methods which can be overridden to implement lazy lexers\n    // or lexers dependent on parser context.\n    LA(howMuch) {\n        const soughtIdx = this.currIdx + howMuch;\n        if (soughtIdx < 0 || this.tokVectorLength <= soughtIdx) {\n            return _parser_js__WEBPACK_IMPORTED_MODULE_0__.END_OF_FILE;\n        }\n        else {\n            return this.tokVector[soughtIdx];\n        }\n    }\n    consumeToken() {\n        this.currIdx++;\n    }\n    exportLexerState() {\n        return this.currIdx;\n    }\n    importLexerState(newState) {\n        this.currIdx = newState;\n    }\n    resetLexerState() {\n        this.currIdx = -1;\n    }\n    moveToTerminatedState() {\n        this.currIdx = this.tokVector.length - 1;\n    }\n    getLexerPosition() {\n        return this.exportLexerState();\n    }\n}\n//# sourceMappingURL=lexer_adapter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvbGV4ZXJfYWRhcHRlci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG1EQUFXO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG1EQUFXO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVybWFpZC1kaWFncmFtLWVkaXRvci8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9sZXhlcl9hZGFwdGVyLmpzPzM3YTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRU5EX09GX0ZJTEUgfSBmcm9tIFwiLi4vcGFyc2VyLmpzXCI7XG4vKipcbiAqIFRyYWl0IHJlc3BvbnNpYmxlIGFic3RyYWN0aW5nIG92ZXIgdGhlIGludGVyYWN0aW9uIHdpdGggTGV4ZXIgb3V0cHV0IChUb2tlbiB2ZWN0b3IpLlxuICpcbiAqIFRoaXMgY291bGQgYmUgZ2VuZXJhbGl6ZWQgdG8gc3VwcG9ydCBvdGhlciBraW5kcyBvZiBsZXhlcnMsIGUuZy5cbiAqIC0gSnVzdCBpbiBUaW1lIExleGluZyAvIExleGVyLUxlc3MgcGFyc2luZy5cbiAqIC0gU3RyZWFtaW5nIExleGVyLlxuICovXG5leHBvcnQgY2xhc3MgTGV4ZXJBZGFwdGVyIHtcbiAgICBpbml0TGV4ZXJBZGFwdGVyKCkge1xuICAgICAgICB0aGlzLnRva1ZlY3RvciA9IFtdO1xuICAgICAgICB0aGlzLnRva1ZlY3Rvckxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuY3VycklkeCA9IC0xO1xuICAgIH1cbiAgICBzZXQgaW5wdXQobmV3SW5wdXQpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZSAtIGB0aGlzIHBhcmFtZXRlcmAgbm90IHN1cHBvcnRlZCBpbiBzZXR0ZXJzL2dldHRlcnNcbiAgICAgICAgLy8gICAtIGh0dHBzOi8vd3d3LnR5cGVzY3JpcHRsYW5nLm9yZy9kb2NzL2hhbmRib29rL2Z1bmN0aW9ucy5odG1sI3RoaXMtcGFyYW1ldGVyc1xuICAgICAgICBpZiAodGhpcy5zZWxmQW5hbHlzaXNEb25lICE9PSB0cnVlKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgTWlzc2luZyA8cGVyZm9ybVNlbGZBbmFseXNpcz4gaW52b2NhdGlvbiBhdCB0aGUgZW5kIG9mIHRoZSBQYXJzZXIncyBjb25zdHJ1Y3Rvci5gKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBAdHMtaWdub3JlIC0gYHRoaXMgcGFyYW1ldGVyYCBub3Qgc3VwcG9ydGVkIGluIHNldHRlcnMvZ2V0dGVyc1xuICAgICAgICAvLyAgIC0gaHR0cHM6Ly93d3cudHlwZXNjcmlwdGxhbmcub3JnL2RvY3MvaGFuZGJvb2svZnVuY3Rpb25zLmh0bWwjdGhpcy1wYXJhbWV0ZXJzXG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgdGhpcy50b2tWZWN0b3IgPSBuZXdJbnB1dDtcbiAgICAgICAgdGhpcy50b2tWZWN0b3JMZW5ndGggPSBuZXdJbnB1dC5sZW5ndGg7XG4gICAgfVxuICAgIGdldCBpbnB1dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9rVmVjdG9yO1xuICAgIH1cbiAgICAvLyBza2lwcyBhIHRva2VuIGFuZCByZXR1cm5zIHRoZSBuZXh0IHRva2VuXG4gICAgU0tJUF9UT0tFTigpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycklkeCA8PSB0aGlzLnRva1ZlY3Rvci5sZW5ndGggLSAyKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVUb2tlbigpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuTEEoMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gRU5EX09GX0ZJTEU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gTGV4ZXIgKGFjY2Vzc2luZyBUb2tlbiB2ZWN0b3IpIHJlbGF0ZWQgbWV0aG9kcyB3aGljaCBjYW4gYmUgb3ZlcnJpZGRlbiB0byBpbXBsZW1lbnQgbGF6eSBsZXhlcnNcbiAgICAvLyBvciBsZXhlcnMgZGVwZW5kZW50IG9uIHBhcnNlciBjb250ZXh0LlxuICAgIExBKGhvd011Y2gpIHtcbiAgICAgICAgY29uc3Qgc291Z2h0SWR4ID0gdGhpcy5jdXJySWR4ICsgaG93TXVjaDtcbiAgICAgICAgaWYgKHNvdWdodElkeCA8IDAgfHwgdGhpcy50b2tWZWN0b3JMZW5ndGggPD0gc291Z2h0SWR4KSB7XG4gICAgICAgICAgICByZXR1cm4gRU5EX09GX0ZJTEU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b2tWZWN0b3Jbc291Z2h0SWR4XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdW1lVG9rZW4oKSB7XG4gICAgICAgIHRoaXMuY3VycklkeCsrO1xuICAgIH1cbiAgICBleHBvcnRMZXhlclN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJySWR4O1xuICAgIH1cbiAgICBpbXBvcnRMZXhlclN0YXRlKG5ld1N0YXRlKSB7XG4gICAgICAgIHRoaXMuY3VycklkeCA9IG5ld1N0YXRlO1xuICAgIH1cbiAgICByZXNldExleGVyU3RhdGUoKSB7XG4gICAgICAgIHRoaXMuY3VycklkeCA9IC0xO1xuICAgIH1cbiAgICBtb3ZlVG9UZXJtaW5hdGVkU3RhdGUoKSB7XG4gICAgICAgIHRoaXMuY3VycklkeCA9IHRoaXMudG9rVmVjdG9yLmxlbmd0aCAtIDE7XG4gICAgfVxuICAgIGdldExleGVyUG9zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV4cG9ydExleGVyU3RhdGUoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sZXhlcl9hZGFwdGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/lexer_adapter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/looksahead.js":
/*!***************************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/parse/parser/traits/looksahead.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LooksAhead: () => (/* binding */ LooksAhead),\n/* harmony export */   collectMethods: () => (/* binding */ collectMethods)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/has.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/forEach.js\");\n/* harmony import */ var _parser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parser.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/parser/parser.js\");\n/* harmony import */ var _grammar_keys_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../grammar/keys.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/keys.js\");\n/* harmony import */ var _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chevrotain/gast */ \"(ssr)/./node_modules/@chevrotain/gast/lib/src/api.js\");\n/* harmony import */ var _grammar_llk_lookahead_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../grammar/llk_lookahead.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/llk_lookahead.js\");\n\n\n\n\n\n/**\n * Trait responsible for the lookahead related utilities and optimizations.\n */\nclass LooksAhead {\n    initLooksAhead(config) {\n        this.dynamicTokensEnabled = (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config, \"dynamicTokensEnabled\")\n            ? config.dynamicTokensEnabled // assumes end user provides the correct config value/type\n            : _parser_js__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_PARSER_CONFIG.dynamicTokensEnabled;\n        this.maxLookahead = (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config, \"maxLookahead\")\n            ? config.maxLookahead // assumes end user provides the correct config value/type\n            : _parser_js__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_PARSER_CONFIG.maxLookahead;\n        this.lookaheadStrategy = (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config, \"lookaheadStrategy\")\n            ? config.lookaheadStrategy // assumes end user provides the correct config value/type\n            : new _grammar_llk_lookahead_js__WEBPACK_IMPORTED_MODULE_3__.LLkLookaheadStrategy({ maxLookahead: this.maxLookahead });\n        this.lookAheadFuncsCache = new Map();\n    }\n    preComputeLookaheadFunctions(rules) {\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(rules, (currRule) => {\n            this.TRACE_INIT(`${currRule.name} Rule Lookahead`, () => {\n                const { alternation, repetition, option, repetitionMandatory, repetitionMandatoryWithSeparator, repetitionWithSeparator, } = collectMethods(currRule);\n                (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(alternation, (currProd) => {\n                    const prodIdx = currProd.idx === 0 ? \"\" : currProd.idx;\n                    this.TRACE_INIT(`${(0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.getProductionDslName)(currProd)}${prodIdx}`, () => {\n                        const laFunc = this.lookaheadStrategy.buildLookaheadForAlternation({\n                            prodOccurrence: currProd.idx,\n                            rule: currRule,\n                            maxLookahead: currProd.maxLookahead || this.maxLookahead,\n                            hasPredicates: currProd.hasPredicates,\n                            dynamicTokensEnabled: this.dynamicTokensEnabled,\n                        });\n                        const key = (0,_grammar_keys_js__WEBPACK_IMPORTED_MODULE_1__.getKeyForAutomaticLookahead)(this.fullRuleNameToShort[currRule.name], _grammar_keys_js__WEBPACK_IMPORTED_MODULE_1__.OR_IDX, currProd.idx);\n                        this.setLaFuncCache(key, laFunc);\n                    });\n                });\n                (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(repetition, (currProd) => {\n                    this.computeLookaheadFunc(currRule, currProd.idx, _grammar_keys_js__WEBPACK_IMPORTED_MODULE_1__.MANY_IDX, \"Repetition\", currProd.maxLookahead, (0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.getProductionDslName)(currProd));\n                });\n                (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(option, (currProd) => {\n                    this.computeLookaheadFunc(currRule, currProd.idx, _grammar_keys_js__WEBPACK_IMPORTED_MODULE_1__.OPTION_IDX, \"Option\", currProd.maxLookahead, (0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.getProductionDslName)(currProd));\n                });\n                (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(repetitionMandatory, (currProd) => {\n                    this.computeLookaheadFunc(currRule, currProd.idx, _grammar_keys_js__WEBPACK_IMPORTED_MODULE_1__.AT_LEAST_ONE_IDX, \"RepetitionMandatory\", currProd.maxLookahead, (0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.getProductionDslName)(currProd));\n                });\n                (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(repetitionMandatoryWithSeparator, (currProd) => {\n                    this.computeLookaheadFunc(currRule, currProd.idx, _grammar_keys_js__WEBPACK_IMPORTED_MODULE_1__.AT_LEAST_ONE_SEP_IDX, \"RepetitionMandatoryWithSeparator\", currProd.maxLookahead, (0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.getProductionDslName)(currProd));\n                });\n                (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(repetitionWithSeparator, (currProd) => {\n                    this.computeLookaheadFunc(currRule, currProd.idx, _grammar_keys_js__WEBPACK_IMPORTED_MODULE_1__.MANY_SEP_IDX, \"RepetitionWithSeparator\", currProd.maxLookahead, (0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.getProductionDslName)(currProd));\n                });\n            });\n        });\n    }\n    computeLookaheadFunc(rule, prodOccurrence, prodKey, prodType, prodMaxLookahead, dslMethodName) {\n        this.TRACE_INIT(`${dslMethodName}${prodOccurrence === 0 ? \"\" : prodOccurrence}`, () => {\n            const laFunc = this.lookaheadStrategy.buildLookaheadForOptional({\n                prodOccurrence,\n                rule,\n                maxLookahead: prodMaxLookahead || this.maxLookahead,\n                dynamicTokensEnabled: this.dynamicTokensEnabled,\n                prodType,\n            });\n            const key = (0,_grammar_keys_js__WEBPACK_IMPORTED_MODULE_1__.getKeyForAutomaticLookahead)(this.fullRuleNameToShort[rule.name], prodKey, prodOccurrence);\n            this.setLaFuncCache(key, laFunc);\n        });\n    }\n    // this actually returns a number, but it is always used as a string (object prop key)\n    getKeyForAutomaticLookahead(dslMethodIdx, occurrence) {\n        const currRuleShortName = this.getLastExplicitRuleShortName();\n        return (0,_grammar_keys_js__WEBPACK_IMPORTED_MODULE_1__.getKeyForAutomaticLookahead)(currRuleShortName, dslMethodIdx, occurrence);\n    }\n    getLaFuncFromCache(key) {\n        return this.lookAheadFuncsCache.get(key);\n    }\n    /* istanbul ignore next */\n    setLaFuncCache(key, value) {\n        this.lookAheadFuncsCache.set(key, value);\n    }\n}\nclass DslMethodsCollectorVisitor extends _chevrotain_gast__WEBPACK_IMPORTED_MODULE_2__.GAstVisitor {\n    constructor() {\n        super(...arguments);\n        this.dslMethods = {\n            option: [],\n            alternation: [],\n            repetition: [],\n            repetitionWithSeparator: [],\n            repetitionMandatory: [],\n            repetitionMandatoryWithSeparator: [],\n        };\n    }\n    reset() {\n        this.dslMethods = {\n            option: [],\n            alternation: [],\n            repetition: [],\n            repetitionWithSeparator: [],\n            repetitionMandatory: [],\n            repetitionMandatoryWithSeparator: [],\n        };\n    }\n    visitOption(option) {\n        this.dslMethods.option.push(option);\n    }\n    visitRepetitionWithSeparator(manySep) {\n        this.dslMethods.repetitionWithSeparator.push(manySep);\n    }\n    visitRepetitionMandatory(atLeastOne) {\n        this.dslMethods.repetitionMandatory.push(atLeastOne);\n    }\n    visitRepetitionMandatoryWithSeparator(atLeastOneSep) {\n        this.dslMethods.repetitionMandatoryWithSeparator.push(atLeastOneSep);\n    }\n    visitRepetition(many) {\n        this.dslMethods.repetition.push(many);\n    }\n    visitAlternation(or) {\n        this.dslMethods.alternation.push(or);\n    }\n}\nconst collectorVisitor = new DslMethodsCollectorVisitor();\nfunction collectMethods(rule) {\n    collectorVisitor.reset();\n    rule.accept(collectorVisitor);\n    const dslMethods = collectorVisitor.dslMethods;\n    // avoid uncleaned references\n    collectorVisitor.reset();\n    return dslMethods;\n}\n//# sourceMappingURL=looksahead.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvbG9va3NhaGVhZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUF5QztBQUNZO0FBQ29HO0FBQ25GO0FBQ0E7QUFDdEU7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLG9DQUFvQyxxREFBRztBQUN2QztBQUNBLGNBQWMsNkRBQXFCO0FBQ25DLDRCQUE0QixxREFBRztBQUMvQjtBQUNBLGNBQWMsNkRBQXFCO0FBQ25DLGlDQUFpQyxxREFBRztBQUNwQztBQUNBLGtCQUFrQiwyRUFBb0IsR0FBRyxpQ0FBaUM7QUFDMUU7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxREFBTztBQUNmLCtCQUErQixlQUFlO0FBQzlDLHdCQUF3QixtSEFBbUg7QUFDM0ksZ0JBQWdCLHFEQUFPO0FBQ3ZCO0FBQ0EsdUNBQXVDLHNFQUFvQixXQUFXLEVBQUUsUUFBUTtBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsb0NBQW9DLDZFQUEyQiwwQ0FBMEMsb0RBQU07QUFDL0c7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCLGdCQUFnQixxREFBTztBQUN2QixzRUFBc0Usc0RBQVEsdUNBQXVDLHNFQUFvQjtBQUN6SSxpQkFBaUI7QUFDakIsZ0JBQWdCLHFEQUFPO0FBQ3ZCLHNFQUFzRSx3REFBVSxtQ0FBbUMsc0VBQW9CO0FBQ3ZJLGlCQUFpQjtBQUNqQixnQkFBZ0IscURBQU87QUFDdkIsc0VBQXNFLDhEQUFnQixnREFBZ0Qsc0VBQW9CO0FBQzFKLGlCQUFpQjtBQUNqQixnQkFBZ0IscURBQU87QUFDdkIsc0VBQXNFLGtFQUFvQiw2REFBNkQsc0VBQW9CO0FBQzNLLGlCQUFpQjtBQUNqQixnQkFBZ0IscURBQU87QUFDdkIsc0VBQXNFLDBEQUFZLG9EQUFvRCxzRUFBb0I7QUFDMUosaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLDJCQUEyQixjQUFjLEVBQUUsMkNBQTJDO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYix3QkFBd0IsNkVBQTJCO0FBQ25EO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw2RUFBMkI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLHlEQUFXO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXJtYWlkLWRpYWdyYW0tZWRpdG9yLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy9wYXJzZS9wYXJzZXIvdHJhaXRzL2xvb2tzYWhlYWQuanM/YzQ5ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmb3JFYWNoLCBoYXMgfSBmcm9tIFwibG9kYXNoLWVzXCI7XG5pbXBvcnQgeyBERUZBVUxUX1BBUlNFUl9DT05GSUcgfSBmcm9tIFwiLi4vcGFyc2VyLmpzXCI7XG5pbXBvcnQgeyBBVF9MRUFTVF9PTkVfSURYLCBBVF9MRUFTVF9PTkVfU0VQX0lEWCwgZ2V0S2V5Rm9yQXV0b21hdGljTG9va2FoZWFkLCBNQU5ZX0lEWCwgTUFOWV9TRVBfSURYLCBPUFRJT05fSURYLCBPUl9JRFgsIH0gZnJvbSBcIi4uLy4uL2dyYW1tYXIva2V5cy5qc1wiO1xuaW1wb3J0IHsgR0FzdFZpc2l0b3IsIGdldFByb2R1Y3Rpb25Ec2xOYW1lLCB9IGZyb20gXCJAY2hldnJvdGFpbi9nYXN0XCI7XG5pbXBvcnQgeyBMTGtMb29rYWhlYWRTdHJhdGVneSB9IGZyb20gXCIuLi8uLi9ncmFtbWFyL2xsa19sb29rYWhlYWQuanNcIjtcbi8qKlxuICogVHJhaXQgcmVzcG9uc2libGUgZm9yIHRoZSBsb29rYWhlYWQgcmVsYXRlZCB1dGlsaXRpZXMgYW5kIG9wdGltaXphdGlvbnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBMb29rc0FoZWFkIHtcbiAgICBpbml0TG9va3NBaGVhZChjb25maWcpIHtcbiAgICAgICAgdGhpcy5keW5hbWljVG9rZW5zRW5hYmxlZCA9IGhhcyhjb25maWcsIFwiZHluYW1pY1Rva2Vuc0VuYWJsZWRcIilcbiAgICAgICAgICAgID8gY29uZmlnLmR5bmFtaWNUb2tlbnNFbmFibGVkIC8vIGFzc3VtZXMgZW5kIHVzZXIgcHJvdmlkZXMgdGhlIGNvcnJlY3QgY29uZmlnIHZhbHVlL3R5cGVcbiAgICAgICAgICAgIDogREVGQVVMVF9QQVJTRVJfQ09ORklHLmR5bmFtaWNUb2tlbnNFbmFibGVkO1xuICAgICAgICB0aGlzLm1heExvb2thaGVhZCA9IGhhcyhjb25maWcsIFwibWF4TG9va2FoZWFkXCIpXG4gICAgICAgICAgICA/IGNvbmZpZy5tYXhMb29rYWhlYWQgLy8gYXNzdW1lcyBlbmQgdXNlciBwcm92aWRlcyB0aGUgY29ycmVjdCBjb25maWcgdmFsdWUvdHlwZVxuICAgICAgICAgICAgOiBERUZBVUxUX1BBUlNFUl9DT05GSUcubWF4TG9va2FoZWFkO1xuICAgICAgICB0aGlzLmxvb2thaGVhZFN0cmF0ZWd5ID0gaGFzKGNvbmZpZywgXCJsb29rYWhlYWRTdHJhdGVneVwiKVxuICAgICAgICAgICAgPyBjb25maWcubG9va2FoZWFkU3RyYXRlZ3kgLy8gYXNzdW1lcyBlbmQgdXNlciBwcm92aWRlcyB0aGUgY29ycmVjdCBjb25maWcgdmFsdWUvdHlwZVxuICAgICAgICAgICAgOiBuZXcgTExrTG9va2FoZWFkU3RyYXRlZ3koeyBtYXhMb29rYWhlYWQ6IHRoaXMubWF4TG9va2FoZWFkIH0pO1xuICAgICAgICB0aGlzLmxvb2tBaGVhZEZ1bmNzQ2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIHByZUNvbXB1dGVMb29rYWhlYWRGdW5jdGlvbnMocnVsZXMpIHtcbiAgICAgICAgZm9yRWFjaChydWxlcywgKGN1cnJSdWxlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLlRSQUNFX0lOSVQoYCR7Y3VyclJ1bGUubmFtZX0gUnVsZSBMb29rYWhlYWRgLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBhbHRlcm5hdGlvbiwgcmVwZXRpdGlvbiwgb3B0aW9uLCByZXBldGl0aW9uTWFuZGF0b3J5LCByZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciwgcmVwZXRpdGlvbldpdGhTZXBhcmF0b3IsIH0gPSBjb2xsZWN0TWV0aG9kcyhjdXJyUnVsZSk7XG4gICAgICAgICAgICAgICAgZm9yRWFjaChhbHRlcm5hdGlvbiwgKGN1cnJQcm9kKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2RJZHggPSBjdXJyUHJvZC5pZHggPT09IDAgPyBcIlwiIDogY3VyclByb2QuaWR4O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLlRSQUNFX0lOSVQoYCR7Z2V0UHJvZHVjdGlvbkRzbE5hbWUoY3VyclByb2QpfSR7cHJvZElkeH1gLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYUZ1bmMgPSB0aGlzLmxvb2thaGVhZFN0cmF0ZWd5LmJ1aWxkTG9va2FoZWFkRm9yQWx0ZXJuYXRpb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2RPY2N1cnJlbmNlOiBjdXJyUHJvZC5pZHgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZTogY3VyclJ1bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4TG9va2FoZWFkOiBjdXJyUHJvZC5tYXhMb29rYWhlYWQgfHwgdGhpcy5tYXhMb29rYWhlYWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzUHJlZGljYXRlczogY3VyclByb2QuaGFzUHJlZGljYXRlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkeW5hbWljVG9rZW5zRW5hYmxlZDogdGhpcy5keW5hbWljVG9rZW5zRW5hYmxlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gZ2V0S2V5Rm9yQXV0b21hdGljTG9va2FoZWFkKHRoaXMuZnVsbFJ1bGVOYW1lVG9TaG9ydFtjdXJyUnVsZS5uYW1lXSwgT1JfSURYLCBjdXJyUHJvZC5pZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRMYUZ1bmNDYWNoZShrZXksIGxhRnVuYyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZvckVhY2gocmVwZXRpdGlvbiwgKGN1cnJQcm9kKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcHV0ZUxvb2thaGVhZEZ1bmMoY3VyclJ1bGUsIGN1cnJQcm9kLmlkeCwgTUFOWV9JRFgsIFwiUmVwZXRpdGlvblwiLCBjdXJyUHJvZC5tYXhMb29rYWhlYWQsIGdldFByb2R1Y3Rpb25Ec2xOYW1lKGN1cnJQcm9kKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZm9yRWFjaChvcHRpb24sIChjdXJyUHJvZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXB1dGVMb29rYWhlYWRGdW5jKGN1cnJSdWxlLCBjdXJyUHJvZC5pZHgsIE9QVElPTl9JRFgsIFwiT3B0aW9uXCIsIGN1cnJQcm9kLm1heExvb2thaGVhZCwgZ2V0UHJvZHVjdGlvbkRzbE5hbWUoY3VyclByb2QpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBmb3JFYWNoKHJlcGV0aXRpb25NYW5kYXRvcnksIChjdXJyUHJvZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXB1dGVMb29rYWhlYWRGdW5jKGN1cnJSdWxlLCBjdXJyUHJvZC5pZHgsIEFUX0xFQVNUX09ORV9JRFgsIFwiUmVwZXRpdGlvbk1hbmRhdG9yeVwiLCBjdXJyUHJvZC5tYXhMb29rYWhlYWQsIGdldFByb2R1Y3Rpb25Ec2xOYW1lKGN1cnJQcm9kKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZm9yRWFjaChyZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciwgKGN1cnJQcm9kKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcHV0ZUxvb2thaGVhZEZ1bmMoY3VyclJ1bGUsIGN1cnJQcm9kLmlkeCwgQVRfTEVBU1RfT05FX1NFUF9JRFgsIFwiUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3JcIiwgY3VyclByb2QubWF4TG9va2FoZWFkLCBnZXRQcm9kdWN0aW9uRHNsTmFtZShjdXJyUHJvZCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZvckVhY2gocmVwZXRpdGlvbldpdGhTZXBhcmF0b3IsIChjdXJyUHJvZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXB1dGVMb29rYWhlYWRGdW5jKGN1cnJSdWxlLCBjdXJyUHJvZC5pZHgsIE1BTllfU0VQX0lEWCwgXCJSZXBldGl0aW9uV2l0aFNlcGFyYXRvclwiLCBjdXJyUHJvZC5tYXhMb29rYWhlYWQsIGdldFByb2R1Y3Rpb25Ec2xOYW1lKGN1cnJQcm9kKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbXB1dGVMb29rYWhlYWRGdW5jKHJ1bGUsIHByb2RPY2N1cnJlbmNlLCBwcm9kS2V5LCBwcm9kVHlwZSwgcHJvZE1heExvb2thaGVhZCwgZHNsTWV0aG9kTmFtZSkge1xuICAgICAgICB0aGlzLlRSQUNFX0lOSVQoYCR7ZHNsTWV0aG9kTmFtZX0ke3Byb2RPY2N1cnJlbmNlID09PSAwID8gXCJcIiA6IHByb2RPY2N1cnJlbmNlfWAsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxhRnVuYyA9IHRoaXMubG9va2FoZWFkU3RyYXRlZ3kuYnVpbGRMb29rYWhlYWRGb3JPcHRpb25hbCh7XG4gICAgICAgICAgICAgICAgcHJvZE9jY3VycmVuY2UsXG4gICAgICAgICAgICAgICAgcnVsZSxcbiAgICAgICAgICAgICAgICBtYXhMb29rYWhlYWQ6IHByb2RNYXhMb29rYWhlYWQgfHwgdGhpcy5tYXhMb29rYWhlYWQsXG4gICAgICAgICAgICAgICAgZHluYW1pY1Rva2Vuc0VuYWJsZWQ6IHRoaXMuZHluYW1pY1Rva2Vuc0VuYWJsZWQsXG4gICAgICAgICAgICAgICAgcHJvZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZCh0aGlzLmZ1bGxSdWxlTmFtZVRvU2hvcnRbcnVsZS5uYW1lXSwgcHJvZEtleSwgcHJvZE9jY3VycmVuY2UpO1xuICAgICAgICAgICAgdGhpcy5zZXRMYUZ1bmNDYWNoZShrZXksIGxhRnVuYyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyB0aGlzIGFjdHVhbGx5IHJldHVybnMgYSBudW1iZXIsIGJ1dCBpdCBpcyBhbHdheXMgdXNlZCBhcyBhIHN0cmluZyAob2JqZWN0IHByb3Aga2V5KVxuICAgIGdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZChkc2xNZXRob2RJZHgsIG9jY3VycmVuY2UpIHtcbiAgICAgICAgY29uc3QgY3VyclJ1bGVTaG9ydE5hbWUgPSB0aGlzLmdldExhc3RFeHBsaWNpdFJ1bGVTaG9ydE5hbWUoKTtcbiAgICAgICAgcmV0dXJuIGdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZChjdXJyUnVsZVNob3J0TmFtZSwgZHNsTWV0aG9kSWR4LCBvY2N1cnJlbmNlKTtcbiAgICB9XG4gICAgZ2V0TGFGdW5jRnJvbUNhY2hlKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb29rQWhlYWRGdW5jc0NhY2hlLmdldChrZXkpO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHNldExhRnVuY0NhY2hlKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5sb29rQWhlYWRGdW5jc0NhY2hlLnNldChrZXksIHZhbHVlKTtcbiAgICB9XG59XG5jbGFzcyBEc2xNZXRob2RzQ29sbGVjdG9yVmlzaXRvciBleHRlbmRzIEdBc3RWaXNpdG9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5kc2xNZXRob2RzID0ge1xuICAgICAgICAgICAgb3B0aW9uOiBbXSxcbiAgICAgICAgICAgIGFsdGVybmF0aW9uOiBbXSxcbiAgICAgICAgICAgIHJlcGV0aXRpb246IFtdLFxuICAgICAgICAgICAgcmVwZXRpdGlvbldpdGhTZXBhcmF0b3I6IFtdLFxuICAgICAgICAgICAgcmVwZXRpdGlvbk1hbmRhdG9yeTogW10sXG4gICAgICAgICAgICByZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvcjogW10sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLmRzbE1ldGhvZHMgPSB7XG4gICAgICAgICAgICBvcHRpb246IFtdLFxuICAgICAgICAgICAgYWx0ZXJuYXRpb246IFtdLFxuICAgICAgICAgICAgcmVwZXRpdGlvbjogW10sXG4gICAgICAgICAgICByZXBldGl0aW9uV2l0aFNlcGFyYXRvcjogW10sXG4gICAgICAgICAgICByZXBldGl0aW9uTWFuZGF0b3J5OiBbXSxcbiAgICAgICAgICAgIHJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yOiBbXSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdmlzaXRPcHRpb24ob3B0aW9uKSB7XG4gICAgICAgIHRoaXMuZHNsTWV0aG9kcy5vcHRpb24ucHVzaChvcHRpb24pO1xuICAgIH1cbiAgICB2aXNpdFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yKG1hbnlTZXApIHtcbiAgICAgICAgdGhpcy5kc2xNZXRob2RzLnJlcGV0aXRpb25XaXRoU2VwYXJhdG9yLnB1c2gobWFueVNlcCk7XG4gICAgfVxuICAgIHZpc2l0UmVwZXRpdGlvbk1hbmRhdG9yeShhdExlYXN0T25lKSB7XG4gICAgICAgIHRoaXMuZHNsTWV0aG9kcy5yZXBldGl0aW9uTWFuZGF0b3J5LnB1c2goYXRMZWFzdE9uZSk7XG4gICAgfVxuICAgIHZpc2l0UmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IoYXRMZWFzdE9uZVNlcCkge1xuICAgICAgICB0aGlzLmRzbE1ldGhvZHMucmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IucHVzaChhdExlYXN0T25lU2VwKTtcbiAgICB9XG4gICAgdmlzaXRSZXBldGl0aW9uKG1hbnkpIHtcbiAgICAgICAgdGhpcy5kc2xNZXRob2RzLnJlcGV0aXRpb24ucHVzaChtYW55KTtcbiAgICB9XG4gICAgdmlzaXRBbHRlcm5hdGlvbihvcikge1xuICAgICAgICB0aGlzLmRzbE1ldGhvZHMuYWx0ZXJuYXRpb24ucHVzaChvcik7XG4gICAgfVxufVxuY29uc3QgY29sbGVjdG9yVmlzaXRvciA9IG5ldyBEc2xNZXRob2RzQ29sbGVjdG9yVmlzaXRvcigpO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbGxlY3RNZXRob2RzKHJ1bGUpIHtcbiAgICBjb2xsZWN0b3JWaXNpdG9yLnJlc2V0KCk7XG4gICAgcnVsZS5hY2NlcHQoY29sbGVjdG9yVmlzaXRvcik7XG4gICAgY29uc3QgZHNsTWV0aG9kcyA9IGNvbGxlY3RvclZpc2l0b3IuZHNsTWV0aG9kcztcbiAgICAvLyBhdm9pZCB1bmNsZWFuZWQgcmVmZXJlbmNlc1xuICAgIGNvbGxlY3RvclZpc2l0b3IucmVzZXQoKTtcbiAgICByZXR1cm4gZHNsTWV0aG9kcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvb2tzYWhlYWQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/looksahead.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/perf_tracer.js":
/*!****************************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/parse/parser/traits/perf_tracer.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PerformanceTracer: () => (/* binding */ PerformanceTracer)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/has.js\");\n/* harmony import */ var _chevrotain_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @chevrotain/utils */ \"(ssr)/./node_modules/@chevrotain/utils/lib/src/api.js\");\n/* harmony import */ var _parser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parser.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/parser/parser.js\");\n\n\n\n/**\n * Trait responsible for runtime parsing errors.\n */\nclass PerformanceTracer {\n    initPerformanceTracer(config) {\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(config, \"traceInitPerf\")) {\n            const userTraceInitPerf = config.traceInitPerf;\n            const traceIsNumber = typeof userTraceInitPerf === \"number\";\n            this.traceInitMaxIdent = traceIsNumber\n                ? userTraceInitPerf\n                : Infinity;\n            this.traceInitPerf = traceIsNumber\n                ? userTraceInitPerf > 0\n                : userTraceInitPerf; // assumes end user provides the correct config value/type\n        }\n        else {\n            this.traceInitMaxIdent = 0;\n            this.traceInitPerf = _parser_js__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_PARSER_CONFIG.traceInitPerf;\n        }\n        this.traceInitIndent = -1;\n    }\n    TRACE_INIT(phaseDesc, phaseImpl) {\n        // No need to optimize this using NOOP pattern because\n        // It is not called in a hot spot...\n        if (this.traceInitPerf === true) {\n            this.traceInitIndent++;\n            const indent = new Array(this.traceInitIndent + 1).join(\"\\t\");\n            if (this.traceInitIndent < this.traceInitMaxIdent) {\n                console.log(`${indent}--> <${phaseDesc}>`);\n            }\n            const { time, value } = (0,_chevrotain_utils__WEBPACK_IMPORTED_MODULE_0__.timer)(phaseImpl);\n            /* istanbul ignore next - Difficult to reproduce specific performance behavior (>10ms) in tests */\n            const traceMethod = time > 10 ? console.warn : console.log;\n            if (this.traceInitIndent < this.traceInitMaxIdent) {\n                traceMethod(`${indent}<-- <${phaseDesc}> time: ${time}ms`);\n            }\n            this.traceInitIndent--;\n            return value;\n        }\n        else {\n            return phaseImpl();\n        }\n    }\n}\n//# sourceMappingURL=perf_tracer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvcGVyZl90cmFjZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFnQztBQUNVO0FBQ1c7QUFDckQ7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLFlBQVkscURBQUc7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsNkRBQXFCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLE9BQU8sT0FBTyxVQUFVO0FBQ3ZEO0FBQ0Esb0JBQW9CLGNBQWMsRUFBRSx3REFBSztBQUN6QztBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsT0FBTyxPQUFPLFVBQVUsVUFBVSxLQUFLO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVybWFpZC1kaWFncmFtLWVkaXRvci8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9wZXJmX3RyYWNlci5qcz9hMjIzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGhhcyB9IGZyb20gXCJsb2Rhc2gtZXNcIjtcbmltcG9ydCB7IHRpbWVyIH0gZnJvbSBcIkBjaGV2cm90YWluL3V0aWxzXCI7XG5pbXBvcnQgeyBERUZBVUxUX1BBUlNFUl9DT05GSUcgfSBmcm9tIFwiLi4vcGFyc2VyLmpzXCI7XG4vKipcbiAqIFRyYWl0IHJlc3BvbnNpYmxlIGZvciBydW50aW1lIHBhcnNpbmcgZXJyb3JzLlxuICovXG5leHBvcnQgY2xhc3MgUGVyZm9ybWFuY2VUcmFjZXIge1xuICAgIGluaXRQZXJmb3JtYW5jZVRyYWNlcihjb25maWcpIHtcbiAgICAgICAgaWYgKGhhcyhjb25maWcsIFwidHJhY2VJbml0UGVyZlwiKSkge1xuICAgICAgICAgICAgY29uc3QgdXNlclRyYWNlSW5pdFBlcmYgPSBjb25maWcudHJhY2VJbml0UGVyZjtcbiAgICAgICAgICAgIGNvbnN0IHRyYWNlSXNOdW1iZXIgPSB0eXBlb2YgdXNlclRyYWNlSW5pdFBlcmYgPT09IFwibnVtYmVyXCI7XG4gICAgICAgICAgICB0aGlzLnRyYWNlSW5pdE1heElkZW50ID0gdHJhY2VJc051bWJlclxuICAgICAgICAgICAgICAgID8gdXNlclRyYWNlSW5pdFBlcmZcbiAgICAgICAgICAgICAgICA6IEluZmluaXR5O1xuICAgICAgICAgICAgdGhpcy50cmFjZUluaXRQZXJmID0gdHJhY2VJc051bWJlclxuICAgICAgICAgICAgICAgID8gdXNlclRyYWNlSW5pdFBlcmYgPiAwXG4gICAgICAgICAgICAgICAgOiB1c2VyVHJhY2VJbml0UGVyZjsgLy8gYXNzdW1lcyBlbmQgdXNlciBwcm92aWRlcyB0aGUgY29ycmVjdCBjb25maWcgdmFsdWUvdHlwZVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50cmFjZUluaXRNYXhJZGVudCA9IDA7XG4gICAgICAgICAgICB0aGlzLnRyYWNlSW5pdFBlcmYgPSBERUZBVUxUX1BBUlNFUl9DT05GSUcudHJhY2VJbml0UGVyZjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYWNlSW5pdEluZGVudCA9IC0xO1xuICAgIH1cbiAgICBUUkFDRV9JTklUKHBoYXNlRGVzYywgcGhhc2VJbXBsKSB7XG4gICAgICAgIC8vIE5vIG5lZWQgdG8gb3B0aW1pemUgdGhpcyB1c2luZyBOT09QIHBhdHRlcm4gYmVjYXVzZVxuICAgICAgICAvLyBJdCBpcyBub3QgY2FsbGVkIGluIGEgaG90IHNwb3QuLi5cbiAgICAgICAgaWYgKHRoaXMudHJhY2VJbml0UGVyZiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy50cmFjZUluaXRJbmRlbnQrKztcbiAgICAgICAgICAgIGNvbnN0IGluZGVudCA9IG5ldyBBcnJheSh0aGlzLnRyYWNlSW5pdEluZGVudCArIDEpLmpvaW4oXCJcXHRcIik7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFjZUluaXRJbmRlbnQgPCB0aGlzLnRyYWNlSW5pdE1heElkZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYCR7aW5kZW50fS0tPiA8JHtwaGFzZURlc2N9PmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyB0aW1lLCB2YWx1ZSB9ID0gdGltZXIocGhhc2VJbXBsKTtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0gRGlmZmljdWx0IHRvIHJlcHJvZHVjZSBzcGVjaWZpYyBwZXJmb3JtYW5jZSBiZWhhdmlvciAoPjEwbXMpIGluIHRlc3RzICovXG4gICAgICAgICAgICBjb25zdCB0cmFjZU1ldGhvZCA9IHRpbWUgPiAxMCA/IGNvbnNvbGUud2FybiA6IGNvbnNvbGUubG9nO1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhY2VJbml0SW5kZW50IDwgdGhpcy50cmFjZUluaXRNYXhJZGVudCkge1xuICAgICAgICAgICAgICAgIHRyYWNlTWV0aG9kKGAke2luZGVudH08LS0gPCR7cGhhc2VEZXNjfT4gdGltZTogJHt0aW1lfW1zYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRyYWNlSW5pdEluZGVudC0tO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHBoYXNlSW1wbCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGVyZl90cmFjZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/perf_tracer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/recognizer_api.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/parse/parser/traits/recognizer_api.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RecognizerApi: () => (/* binding */ RecognizerApi)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/includes.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/values.js\");\n/* harmony import */ var _exceptions_public_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../exceptions_public.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/exceptions_public.js\");\n/* harmony import */ var _parser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parser.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/parser/parser.js\");\n/* harmony import */ var _errors_public_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../errors_public.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/errors_public.js\");\n/* harmony import */ var _grammar_checks_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../grammar/checks.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/checks.js\");\n/* harmony import */ var _chevrotain_gast__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @chevrotain/gast */ \"(ssr)/./node_modules/@chevrotain/gast/lib/src/api.js\");\n\n\n\n\n\n\n/**\n * This trait is responsible for implementing the public API\n * for defining Chevrotain parsers, i.e:\n * - CONSUME\n * - RULE\n * - OPTION\n * - ...\n */\nclass RecognizerApi {\n    ACTION(impl) {\n        return impl.call(this);\n    }\n    consume(idx, tokType, options) {\n        return this.consumeInternal(tokType, idx, options);\n    }\n    subrule(idx, ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, idx, options);\n    }\n    option(idx, actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, idx);\n    }\n    or(idx, altsOrOpts) {\n        return this.orInternal(altsOrOpts, idx);\n    }\n    many(idx, actionORMethodDef) {\n        return this.manyInternal(idx, actionORMethodDef);\n    }\n    atLeastOne(idx, actionORMethodDef) {\n        return this.atLeastOneInternal(idx, actionORMethodDef);\n    }\n    CONSUME(tokType, options) {\n        return this.consumeInternal(tokType, 0, options);\n    }\n    CONSUME1(tokType, options) {\n        return this.consumeInternal(tokType, 1, options);\n    }\n    CONSUME2(tokType, options) {\n        return this.consumeInternal(tokType, 2, options);\n    }\n    CONSUME3(tokType, options) {\n        return this.consumeInternal(tokType, 3, options);\n    }\n    CONSUME4(tokType, options) {\n        return this.consumeInternal(tokType, 4, options);\n    }\n    CONSUME5(tokType, options) {\n        return this.consumeInternal(tokType, 5, options);\n    }\n    CONSUME6(tokType, options) {\n        return this.consumeInternal(tokType, 6, options);\n    }\n    CONSUME7(tokType, options) {\n        return this.consumeInternal(tokType, 7, options);\n    }\n    CONSUME8(tokType, options) {\n        return this.consumeInternal(tokType, 8, options);\n    }\n    CONSUME9(tokType, options) {\n        return this.consumeInternal(tokType, 9, options);\n    }\n    SUBRULE(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 0, options);\n    }\n    SUBRULE1(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 1, options);\n    }\n    SUBRULE2(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 2, options);\n    }\n    SUBRULE3(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 3, options);\n    }\n    SUBRULE4(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 4, options);\n    }\n    SUBRULE5(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 5, options);\n    }\n    SUBRULE6(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 6, options);\n    }\n    SUBRULE7(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 7, options);\n    }\n    SUBRULE8(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 8, options);\n    }\n    SUBRULE9(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 9, options);\n    }\n    OPTION(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 0);\n    }\n    OPTION1(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 1);\n    }\n    OPTION2(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 2);\n    }\n    OPTION3(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 3);\n    }\n    OPTION4(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 4);\n    }\n    OPTION5(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 5);\n    }\n    OPTION6(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 6);\n    }\n    OPTION7(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 7);\n    }\n    OPTION8(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 8);\n    }\n    OPTION9(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 9);\n    }\n    OR(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 0);\n    }\n    OR1(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 1);\n    }\n    OR2(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 2);\n    }\n    OR3(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 3);\n    }\n    OR4(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 4);\n    }\n    OR5(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 5);\n    }\n    OR6(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 6);\n    }\n    OR7(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 7);\n    }\n    OR8(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 8);\n    }\n    OR9(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 9);\n    }\n    MANY(actionORMethodDef) {\n        this.manyInternal(0, actionORMethodDef);\n    }\n    MANY1(actionORMethodDef) {\n        this.manyInternal(1, actionORMethodDef);\n    }\n    MANY2(actionORMethodDef) {\n        this.manyInternal(2, actionORMethodDef);\n    }\n    MANY3(actionORMethodDef) {\n        this.manyInternal(3, actionORMethodDef);\n    }\n    MANY4(actionORMethodDef) {\n        this.manyInternal(4, actionORMethodDef);\n    }\n    MANY5(actionORMethodDef) {\n        this.manyInternal(5, actionORMethodDef);\n    }\n    MANY6(actionORMethodDef) {\n        this.manyInternal(6, actionORMethodDef);\n    }\n    MANY7(actionORMethodDef) {\n        this.manyInternal(7, actionORMethodDef);\n    }\n    MANY8(actionORMethodDef) {\n        this.manyInternal(8, actionORMethodDef);\n    }\n    MANY9(actionORMethodDef) {\n        this.manyInternal(9, actionORMethodDef);\n    }\n    MANY_SEP(options) {\n        this.manySepFirstInternal(0, options);\n    }\n    MANY_SEP1(options) {\n        this.manySepFirstInternal(1, options);\n    }\n    MANY_SEP2(options) {\n        this.manySepFirstInternal(2, options);\n    }\n    MANY_SEP3(options) {\n        this.manySepFirstInternal(3, options);\n    }\n    MANY_SEP4(options) {\n        this.manySepFirstInternal(4, options);\n    }\n    MANY_SEP5(options) {\n        this.manySepFirstInternal(5, options);\n    }\n    MANY_SEP6(options) {\n        this.manySepFirstInternal(6, options);\n    }\n    MANY_SEP7(options) {\n        this.manySepFirstInternal(7, options);\n    }\n    MANY_SEP8(options) {\n        this.manySepFirstInternal(8, options);\n    }\n    MANY_SEP9(options) {\n        this.manySepFirstInternal(9, options);\n    }\n    AT_LEAST_ONE(actionORMethodDef) {\n        this.atLeastOneInternal(0, actionORMethodDef);\n    }\n    AT_LEAST_ONE1(actionORMethodDef) {\n        return this.atLeastOneInternal(1, actionORMethodDef);\n    }\n    AT_LEAST_ONE2(actionORMethodDef) {\n        this.atLeastOneInternal(2, actionORMethodDef);\n    }\n    AT_LEAST_ONE3(actionORMethodDef) {\n        this.atLeastOneInternal(3, actionORMethodDef);\n    }\n    AT_LEAST_ONE4(actionORMethodDef) {\n        this.atLeastOneInternal(4, actionORMethodDef);\n    }\n    AT_LEAST_ONE5(actionORMethodDef) {\n        this.atLeastOneInternal(5, actionORMethodDef);\n    }\n    AT_LEAST_ONE6(actionORMethodDef) {\n        this.atLeastOneInternal(6, actionORMethodDef);\n    }\n    AT_LEAST_ONE7(actionORMethodDef) {\n        this.atLeastOneInternal(7, actionORMethodDef);\n    }\n    AT_LEAST_ONE8(actionORMethodDef) {\n        this.atLeastOneInternal(8, actionORMethodDef);\n    }\n    AT_LEAST_ONE9(actionORMethodDef) {\n        this.atLeastOneInternal(9, actionORMethodDef);\n    }\n    AT_LEAST_ONE_SEP(options) {\n        this.atLeastOneSepFirstInternal(0, options);\n    }\n    AT_LEAST_ONE_SEP1(options) {\n        this.atLeastOneSepFirstInternal(1, options);\n    }\n    AT_LEAST_ONE_SEP2(options) {\n        this.atLeastOneSepFirstInternal(2, options);\n    }\n    AT_LEAST_ONE_SEP3(options) {\n        this.atLeastOneSepFirstInternal(3, options);\n    }\n    AT_LEAST_ONE_SEP4(options) {\n        this.atLeastOneSepFirstInternal(4, options);\n    }\n    AT_LEAST_ONE_SEP5(options) {\n        this.atLeastOneSepFirstInternal(5, options);\n    }\n    AT_LEAST_ONE_SEP6(options) {\n        this.atLeastOneSepFirstInternal(6, options);\n    }\n    AT_LEAST_ONE_SEP7(options) {\n        this.atLeastOneSepFirstInternal(7, options);\n    }\n    AT_LEAST_ONE_SEP8(options) {\n        this.atLeastOneSepFirstInternal(8, options);\n    }\n    AT_LEAST_ONE_SEP9(options) {\n        this.atLeastOneSepFirstInternal(9, options);\n    }\n    RULE(name, implementation, config = _parser_js__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_RULE_CONFIG) {\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.definedRulesNames, name)) {\n            const errMsg = _errors_public_js__WEBPACK_IMPORTED_MODULE_2__.defaultGrammarValidatorErrorProvider.buildDuplicateRuleNameError({\n                topLevelRule: name,\n                grammarName: this.className,\n            });\n            const error = {\n                message: errMsg,\n                type: _parser_js__WEBPACK_IMPORTED_MODULE_1__.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,\n                ruleName: name,\n            };\n            this.definitionErrors.push(error);\n        }\n        this.definedRulesNames.push(name);\n        const ruleImplementation = this.defineRule(name, implementation, config);\n        this[name] = ruleImplementation;\n        return ruleImplementation;\n    }\n    OVERRIDE_RULE(name, impl, config = _parser_js__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_RULE_CONFIG) {\n        const ruleErrors = (0,_grammar_checks_js__WEBPACK_IMPORTED_MODULE_3__.validateRuleIsOverridden)(name, this.definedRulesNames, this.className);\n        this.definitionErrors = this.definitionErrors.concat(ruleErrors);\n        const ruleImplementation = this.defineRule(name, impl, config);\n        this[name] = ruleImplementation;\n        return ruleImplementation;\n    }\n    BACKTRACK(grammarRule, args) {\n        return function () {\n            // save org state\n            this.isBackTrackingStack.push(1);\n            const orgState = this.saveRecogState();\n            try {\n                grammarRule.apply(this, args);\n                // if no exception was thrown we have succeed parsing the rule.\n                return true;\n            }\n            catch (e) {\n                if ((0,_exceptions_public_js__WEBPACK_IMPORTED_MODULE_0__.isRecognitionException)(e)) {\n                    return false;\n                }\n                else {\n                    throw e;\n                }\n            }\n            finally {\n                this.reloadRecogState(orgState);\n                this.isBackTrackingStack.pop();\n            }\n        };\n    }\n    // GAST export APIs\n    getGAstProductions() {\n        return this.gastProductionsCache;\n    }\n    getSerializedGastProductions() {\n        return (0,_chevrotain_gast__WEBPACK_IMPORTED_MODULE_4__.serializeGrammar)((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(this.gastProductionsCache));\n    }\n}\n//# sourceMappingURL=recognizer_api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvcmVjb2duaXplcl9hcGkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBNkM7QUFDdUI7QUFDVTtBQUNBO0FBQ1g7QUFDZjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsMkRBQW1CO0FBQzNELFlBQVkscURBQVE7QUFDcEIsMkJBQTJCLG1GQUFvQztBQUMvRDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxzQkFBc0IsaUVBQXlCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QywyREFBbUI7QUFDMUQsMkJBQTJCLDRFQUF3QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw2RUFBc0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0VBQWdCLENBQUMscURBQU07QUFDdEM7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVybWFpZC1kaWFncmFtLWVkaXRvci8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9yZWNvZ25pemVyX2FwaS5qcz9iODcxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGluY2x1ZGVzLCB2YWx1ZXMgfSBmcm9tIFwibG9kYXNoLWVzXCI7XG5pbXBvcnQgeyBpc1JlY29nbml0aW9uRXhjZXB0aW9uIH0gZnJvbSBcIi4uLy4uL2V4Y2VwdGlvbnNfcHVibGljLmpzXCI7XG5pbXBvcnQgeyBERUZBVUxUX1JVTEVfQ09ORklHLCBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlIH0gZnJvbSBcIi4uL3BhcnNlci5qc1wiO1xuaW1wb3J0IHsgZGVmYXVsdEdyYW1tYXJWYWxpZGF0b3JFcnJvclByb3ZpZGVyIH0gZnJvbSBcIi4uLy4uL2Vycm9yc19wdWJsaWMuanNcIjtcbmltcG9ydCB7IHZhbGlkYXRlUnVsZUlzT3ZlcnJpZGRlbiB9IGZyb20gXCIuLi8uLi9ncmFtbWFyL2NoZWNrcy5qc1wiO1xuaW1wb3J0IHsgc2VyaWFsaXplR3JhbW1hciB9IGZyb20gXCJAY2hldnJvdGFpbi9nYXN0XCI7XG4vKipcbiAqIFRoaXMgdHJhaXQgaXMgcmVzcG9uc2libGUgZm9yIGltcGxlbWVudGluZyB0aGUgcHVibGljIEFQSVxuICogZm9yIGRlZmluaW5nIENoZXZyb3RhaW4gcGFyc2VycywgaS5lOlxuICogLSBDT05TVU1FXG4gKiAtIFJVTEVcbiAqIC0gT1BUSU9OXG4gKiAtIC4uLlxuICovXG5leHBvcnQgY2xhc3MgUmVjb2duaXplckFwaSB7XG4gICAgQUNUSU9OKGltcGwpIHtcbiAgICAgICAgcmV0dXJuIGltcGwuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgY29uc3VtZShpZHgsIHRva1R5cGUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUludGVybmFsKHRva1R5cGUsIGlkeCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIHN1YnJ1bGUoaWR4LCBydWxlVG9DYWxsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnJ1bGVJbnRlcm5hbChydWxlVG9DYWxsLCBpZHgsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBvcHRpb24oaWR4LCBhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25JbnRlcm5hbChhY3Rpb25PUk1ldGhvZERlZiwgaWR4KTtcbiAgICB9XG4gICAgb3IoaWR4LCBhbHRzT3JPcHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9ySW50ZXJuYWwoYWx0c09yT3B0cywgaWR4KTtcbiAgICB9XG4gICAgbWFueShpZHgsIGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hbnlJbnRlcm5hbChpZHgsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9XG4gICAgYXRMZWFzdE9uZShpZHgsIGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0TGVhc3RPbmVJbnRlcm5hbChpZHgsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9XG4gICAgQ09OU1VNRSh0b2tUeXBlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJbnRlcm5hbCh0b2tUeXBlLCAwLCBvcHRpb25zKTtcbiAgICB9XG4gICAgQ09OU1VNRTEodG9rVHlwZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lSW50ZXJuYWwodG9rVHlwZSwgMSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIENPTlNVTUUyKHRva1R5cGUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUludGVybmFsKHRva1R5cGUsIDIsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBDT05TVU1FMyh0b2tUeXBlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJbnRlcm5hbCh0b2tUeXBlLCAzLCBvcHRpb25zKTtcbiAgICB9XG4gICAgQ09OU1VNRTQodG9rVHlwZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lSW50ZXJuYWwodG9rVHlwZSwgNCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIENPTlNVTUU1KHRva1R5cGUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUludGVybmFsKHRva1R5cGUsIDUsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBDT05TVU1FNih0b2tUeXBlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJbnRlcm5hbCh0b2tUeXBlLCA2LCBvcHRpb25zKTtcbiAgICB9XG4gICAgQ09OU1VNRTcodG9rVHlwZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lSW50ZXJuYWwodG9rVHlwZSwgNywgb3B0aW9ucyk7XG4gICAgfVxuICAgIENPTlNVTUU4KHRva1R5cGUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUludGVybmFsKHRva1R5cGUsIDgsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBDT05TVU1FOSh0b2tUeXBlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJbnRlcm5hbCh0b2tUeXBlLCA5LCBvcHRpb25zKTtcbiAgICB9XG4gICAgU1VCUlVMRShydWxlVG9DYWxsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnJ1bGVJbnRlcm5hbChydWxlVG9DYWxsLCAwLCBvcHRpb25zKTtcbiAgICB9XG4gICAgU1VCUlVMRTEocnVsZVRvQ2FsbCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJydWxlSW50ZXJuYWwocnVsZVRvQ2FsbCwgMSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIFNVQlJVTEUyKHJ1bGVUb0NhbGwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VicnVsZUludGVybmFsKHJ1bGVUb0NhbGwsIDIsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBTVUJSVUxFMyhydWxlVG9DYWxsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnJ1bGVJbnRlcm5hbChydWxlVG9DYWxsLCAzLCBvcHRpb25zKTtcbiAgICB9XG4gICAgU1VCUlVMRTQocnVsZVRvQ2FsbCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJydWxlSW50ZXJuYWwocnVsZVRvQ2FsbCwgNCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIFNVQlJVTEU1KHJ1bGVUb0NhbGwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VicnVsZUludGVybmFsKHJ1bGVUb0NhbGwsIDUsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBTVUJSVUxFNihydWxlVG9DYWxsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnJ1bGVJbnRlcm5hbChydWxlVG9DYWxsLCA2LCBvcHRpb25zKTtcbiAgICB9XG4gICAgU1VCUlVMRTcocnVsZVRvQ2FsbCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJydWxlSW50ZXJuYWwocnVsZVRvQ2FsbCwgNywgb3B0aW9ucyk7XG4gICAgfVxuICAgIFNVQlJVTEU4KHJ1bGVUb0NhbGwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VicnVsZUludGVybmFsKHJ1bGVUb0NhbGwsIDgsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBTVUJSVUxFOShydWxlVG9DYWxsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnJ1bGVJbnRlcm5hbChydWxlVG9DYWxsLCA5LCBvcHRpb25zKTtcbiAgICB9XG4gICAgT1BUSU9OKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbkludGVybmFsKGFjdGlvbk9STWV0aG9kRGVmLCAwKTtcbiAgICB9XG4gICAgT1BUSU9OMShhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25JbnRlcm5hbChhY3Rpb25PUk1ldGhvZERlZiwgMSk7XG4gICAgfVxuICAgIE9QVElPTjIoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uSW50ZXJuYWwoYWN0aW9uT1JNZXRob2REZWYsIDIpO1xuICAgIH1cbiAgICBPUFRJT04zKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbkludGVybmFsKGFjdGlvbk9STWV0aG9kRGVmLCAzKTtcbiAgICB9XG4gICAgT1BUSU9ONChhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25JbnRlcm5hbChhY3Rpb25PUk1ldGhvZERlZiwgNCk7XG4gICAgfVxuICAgIE9QVElPTjUoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uSW50ZXJuYWwoYWN0aW9uT1JNZXRob2REZWYsIDUpO1xuICAgIH1cbiAgICBPUFRJT042KGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbkludGVybmFsKGFjdGlvbk9STWV0aG9kRGVmLCA2KTtcbiAgICB9XG4gICAgT1BUSU9ONyhhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25JbnRlcm5hbChhY3Rpb25PUk1ldGhvZERlZiwgNyk7XG4gICAgfVxuICAgIE9QVElPTjgoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uSW50ZXJuYWwoYWN0aW9uT1JNZXRob2REZWYsIDgpO1xuICAgIH1cbiAgICBPUFRJT045KGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbkludGVybmFsKGFjdGlvbk9STWV0aG9kRGVmLCA5KTtcbiAgICB9XG4gICAgT1IoYWx0c09yT3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5vckludGVybmFsKGFsdHNPck9wdHMsIDApO1xuICAgIH1cbiAgICBPUjEoYWx0c09yT3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5vckludGVybmFsKGFsdHNPck9wdHMsIDEpO1xuICAgIH1cbiAgICBPUjIoYWx0c09yT3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5vckludGVybmFsKGFsdHNPck9wdHMsIDIpO1xuICAgIH1cbiAgICBPUjMoYWx0c09yT3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5vckludGVybmFsKGFsdHNPck9wdHMsIDMpO1xuICAgIH1cbiAgICBPUjQoYWx0c09yT3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5vckludGVybmFsKGFsdHNPck9wdHMsIDQpO1xuICAgIH1cbiAgICBPUjUoYWx0c09yT3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5vckludGVybmFsKGFsdHNPck9wdHMsIDUpO1xuICAgIH1cbiAgICBPUjYoYWx0c09yT3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5vckludGVybmFsKGFsdHNPck9wdHMsIDYpO1xuICAgIH1cbiAgICBPUjcoYWx0c09yT3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5vckludGVybmFsKGFsdHNPck9wdHMsIDcpO1xuICAgIH1cbiAgICBPUjgoYWx0c09yT3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5vckludGVybmFsKGFsdHNPck9wdHMsIDgpO1xuICAgIH1cbiAgICBPUjkoYWx0c09yT3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5vckludGVybmFsKGFsdHNPck9wdHMsIDkpO1xuICAgIH1cbiAgICBNQU5ZKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMubWFueUludGVybmFsKDAsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9XG4gICAgTUFOWTEoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5tYW55SW50ZXJuYWwoMSwgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH1cbiAgICBNQU5ZMihhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICB0aGlzLm1hbnlJbnRlcm5hbCgyLCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfVxuICAgIE1BTlkzKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMubWFueUludGVybmFsKDMsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9XG4gICAgTUFOWTQoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5tYW55SW50ZXJuYWwoNCwgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH1cbiAgICBNQU5ZNShhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICB0aGlzLm1hbnlJbnRlcm5hbCg1LCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfVxuICAgIE1BTlk2KGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMubWFueUludGVybmFsKDYsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9XG4gICAgTUFOWTcoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5tYW55SW50ZXJuYWwoNywgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH1cbiAgICBNQU5ZOChhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICB0aGlzLm1hbnlJbnRlcm5hbCg4LCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfVxuICAgIE1BTlk5KGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMubWFueUludGVybmFsKDksIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9XG4gICAgTUFOWV9TRVAob3B0aW9ucykge1xuICAgICAgICB0aGlzLm1hbnlTZXBGaXJzdEludGVybmFsKDAsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBNQU5ZX1NFUDEob3B0aW9ucykge1xuICAgICAgICB0aGlzLm1hbnlTZXBGaXJzdEludGVybmFsKDEsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBNQU5ZX1NFUDIob3B0aW9ucykge1xuICAgICAgICB0aGlzLm1hbnlTZXBGaXJzdEludGVybmFsKDIsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBNQU5ZX1NFUDMob3B0aW9ucykge1xuICAgICAgICB0aGlzLm1hbnlTZXBGaXJzdEludGVybmFsKDMsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBNQU5ZX1NFUDQob3B0aW9ucykge1xuICAgICAgICB0aGlzLm1hbnlTZXBGaXJzdEludGVybmFsKDQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBNQU5ZX1NFUDUob3B0aW9ucykge1xuICAgICAgICB0aGlzLm1hbnlTZXBGaXJzdEludGVybmFsKDUsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBNQU5ZX1NFUDYob3B0aW9ucykge1xuICAgICAgICB0aGlzLm1hbnlTZXBGaXJzdEludGVybmFsKDYsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBNQU5ZX1NFUDcob3B0aW9ucykge1xuICAgICAgICB0aGlzLm1hbnlTZXBGaXJzdEludGVybmFsKDcsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBNQU5ZX1NFUDgob3B0aW9ucykge1xuICAgICAgICB0aGlzLm1hbnlTZXBGaXJzdEludGVybmFsKDgsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBNQU5ZX1NFUDkob3B0aW9ucykge1xuICAgICAgICB0aGlzLm1hbnlTZXBGaXJzdEludGVybmFsKDksIG9wdGlvbnMpO1xuICAgIH1cbiAgICBBVF9MRUFTVF9PTkUoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lSW50ZXJuYWwoMCwgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH1cbiAgICBBVF9MRUFTVF9PTkUxKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0TGVhc3RPbmVJbnRlcm5hbCgxLCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfVxuICAgIEFUX0xFQVNUX09ORTIoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lSW50ZXJuYWwoMiwgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH1cbiAgICBBVF9MRUFTVF9PTkUzKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZUludGVybmFsKDMsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9XG4gICAgQVRfTEVBU1RfT05FNChhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICB0aGlzLmF0TGVhc3RPbmVJbnRlcm5hbCg0LCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfVxuICAgIEFUX0xFQVNUX09ORTUoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lSW50ZXJuYWwoNSwgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH1cbiAgICBBVF9MRUFTVF9PTkU2KGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZUludGVybmFsKDYsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9XG4gICAgQVRfTEVBU1RfT05FNyhhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICB0aGlzLmF0TGVhc3RPbmVJbnRlcm5hbCg3LCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfVxuICAgIEFUX0xFQVNUX09ORTgoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lSW50ZXJuYWwoOCwgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH1cbiAgICBBVF9MRUFTVF9PTkU5KGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZUludGVybmFsKDksIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9XG4gICAgQVRfTEVBU1RfT05FX1NFUChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwoMCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIEFUX0xFQVNUX09ORV9TRVAxKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbCgxLCBvcHRpb25zKTtcbiAgICB9XG4gICAgQVRfTEVBU1RfT05FX1NFUDIob3B0aW9ucykge1xuICAgICAgICB0aGlzLmF0TGVhc3RPbmVTZXBGaXJzdEludGVybmFsKDIsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBBVF9MRUFTVF9PTkVfU0VQMyhvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwoMywgb3B0aW9ucyk7XG4gICAgfVxuICAgIEFUX0xFQVNUX09ORV9TRVA0KG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbCg0LCBvcHRpb25zKTtcbiAgICB9XG4gICAgQVRfTEVBU1RfT05FX1NFUDUob3B0aW9ucykge1xuICAgICAgICB0aGlzLmF0TGVhc3RPbmVTZXBGaXJzdEludGVybmFsKDUsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBBVF9MRUFTVF9PTkVfU0VQNihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwoNiwgb3B0aW9ucyk7XG4gICAgfVxuICAgIEFUX0xFQVNUX09ORV9TRVA3KG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbCg3LCBvcHRpb25zKTtcbiAgICB9XG4gICAgQVRfTEVBU1RfT05FX1NFUDgob3B0aW9ucykge1xuICAgICAgICB0aGlzLmF0TGVhc3RPbmVTZXBGaXJzdEludGVybmFsKDgsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBBVF9MRUFTVF9PTkVfU0VQOShvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwoOSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIFJVTEUobmFtZSwgaW1wbGVtZW50YXRpb24sIGNvbmZpZyA9IERFRkFVTFRfUlVMRV9DT05GSUcpIHtcbiAgICAgICAgaWYgKGluY2x1ZGVzKHRoaXMuZGVmaW5lZFJ1bGVzTmFtZXMsIG5hbWUpKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJNc2cgPSBkZWZhdWx0R3JhbW1hclZhbGlkYXRvckVycm9yUHJvdmlkZXIuYnVpbGREdXBsaWNhdGVSdWxlTmFtZUVycm9yKHtcbiAgICAgICAgICAgICAgICB0b3BMZXZlbFJ1bGU6IG5hbWUsXG4gICAgICAgICAgICAgICAgZ3JhbW1hck5hbWU6IHRoaXMuY2xhc3NOYW1lLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJNc2csXG4gICAgICAgICAgICAgICAgdHlwZTogUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZS5EVVBMSUNBVEVfUlVMRV9OQU1FLFxuICAgICAgICAgICAgICAgIHJ1bGVOYW1lOiBuYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuZGVmaW5pdGlvbkVycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlZmluZWRSdWxlc05hbWVzLnB1c2gobmFtZSk7XG4gICAgICAgIGNvbnN0IHJ1bGVJbXBsZW1lbnRhdGlvbiA9IHRoaXMuZGVmaW5lUnVsZShuYW1lLCBpbXBsZW1lbnRhdGlvbiwgY29uZmlnKTtcbiAgICAgICAgdGhpc1tuYW1lXSA9IHJ1bGVJbXBsZW1lbnRhdGlvbjtcbiAgICAgICAgcmV0dXJuIHJ1bGVJbXBsZW1lbnRhdGlvbjtcbiAgICB9XG4gICAgT1ZFUlJJREVfUlVMRShuYW1lLCBpbXBsLCBjb25maWcgPSBERUZBVUxUX1JVTEVfQ09ORklHKSB7XG4gICAgICAgIGNvbnN0IHJ1bGVFcnJvcnMgPSB2YWxpZGF0ZVJ1bGVJc092ZXJyaWRkZW4obmFtZSwgdGhpcy5kZWZpbmVkUnVsZXNOYW1lcywgdGhpcy5jbGFzc05hbWUpO1xuICAgICAgICB0aGlzLmRlZmluaXRpb25FcnJvcnMgPSB0aGlzLmRlZmluaXRpb25FcnJvcnMuY29uY2F0KHJ1bGVFcnJvcnMpO1xuICAgICAgICBjb25zdCBydWxlSW1wbGVtZW50YXRpb24gPSB0aGlzLmRlZmluZVJ1bGUobmFtZSwgaW1wbCwgY29uZmlnKTtcbiAgICAgICAgdGhpc1tuYW1lXSA9IHJ1bGVJbXBsZW1lbnRhdGlvbjtcbiAgICAgICAgcmV0dXJuIHJ1bGVJbXBsZW1lbnRhdGlvbjtcbiAgICB9XG4gICAgQkFDS1RSQUNLKGdyYW1tYXJSdWxlLCBhcmdzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBzYXZlIG9yZyBzdGF0ZVxuICAgICAgICAgICAgdGhpcy5pc0JhY2tUcmFja2luZ1N0YWNrLnB1c2goMSk7XG4gICAgICAgICAgICBjb25zdCBvcmdTdGF0ZSA9IHRoaXMuc2F2ZVJlY29nU3RhdGUoKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZ3JhbW1hclJ1bGUuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAgICAgLy8gaWYgbm8gZXhjZXB0aW9uIHdhcyB0aHJvd24gd2UgaGF2ZSBzdWNjZWVkIHBhcnNpbmcgdGhlIHJ1bGUuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGlmIChpc1JlY29nbml0aW9uRXhjZXB0aW9uKGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWxvYWRSZWNvZ1N0YXRlKG9yZ1N0YXRlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzQmFja1RyYWNraW5nU3RhY2sucG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIEdBU1QgZXhwb3J0IEFQSXNcbiAgICBnZXRHQXN0UHJvZHVjdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdhc3RQcm9kdWN0aW9uc0NhY2hlO1xuICAgIH1cbiAgICBnZXRTZXJpYWxpemVkR2FzdFByb2R1Y3Rpb25zKCkge1xuICAgICAgICByZXR1cm4gc2VyaWFsaXplR3JhbW1hcih2YWx1ZXModGhpcy5nYXN0UHJvZHVjdGlvbnNDYWNoZSkpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlY29nbml6ZXJfYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/recognizer_api.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/recognizer_engine.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/parse/parser/traits/recognizer_engine.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RecognizerEngine: () => (/* binding */ RecognizerEngine)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/has.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isArray.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isEmpty.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/reduce.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/every.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/flatten.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/values.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/uniq.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isObject.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/clone.js\");\n/* harmony import */ var _grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../grammar/keys.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/keys.js\");\n/* harmony import */ var _exceptions_public_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../exceptions_public.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/exceptions_public.js\");\n/* harmony import */ var _grammar_lookahead_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../grammar/lookahead.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/lookahead.js\");\n/* harmony import */ var _grammar_interpreter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../grammar/interpreter.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/grammar/interpreter.js\");\n/* harmony import */ var _parser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../parser.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/parser/parser.js\");\n/* harmony import */ var _recoverable_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./recoverable.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/recoverable.js\");\n/* harmony import */ var _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../scan/tokens_public.js */ \"(ssr)/./node_modules/chevrotain/lib/src/scan/tokens_public.js\");\n/* harmony import */ var _scan_tokens_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../scan/tokens.js */ \"(ssr)/./node_modules/chevrotain/lib/src/scan/tokens.js\");\n\n\n\n\n\n\n\n\n\n/**\n * This trait is responsible for the runtime parsing engine\n * Used by the official API (recognizer_api.ts)\n */\nclass RecognizerEngine {\n    initRecognizerEngine(tokenVocabulary, config) {\n        this.className = this.constructor.name;\n        // TODO: would using an ES6 Map or plain object be faster (CST building scenario)\n        this.shortRuleNameToFull = {};\n        this.fullRuleNameToShort = {};\n        this.ruleShortNameIdx = 256;\n        this.tokenMatcher = _scan_tokens_js__WEBPACK_IMPORTED_MODULE_7__.tokenStructuredMatcherNoCategories;\n        this.subruleIdx = 0;\n        this.definedRulesNames = [];\n        this.tokensMap = {};\n        this.isBackTrackingStack = [];\n        this.RULE_STACK = [];\n        this.RULE_OCCURRENCE_STACK = [];\n        this.gastProductionsCache = {};\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(config, \"serializedGrammar\")) {\n            throw Error(\"The Parser's configuration can no longer contain a <serializedGrammar> property.\\n\" +\n                \"\\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\\n\" +\n                \"\\tFor Further details.\");\n        }\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(tokenVocabulary)) {\n            // This only checks for Token vocabularies provided as arrays.\n            // That is good enough because the main objective is to detect users of pre-V4.0 APIs\n            // rather than all edge cases of empty Token vocabularies.\n            if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(tokenVocabulary)) {\n                throw Error(\"A Token Vocabulary cannot be empty.\\n\" +\n                    \"\\tNote that the first argument for the parser constructor\\n\" +\n                    \"\\tis no longer a Token vector (since v4.0).\");\n            }\n            if (typeof tokenVocabulary[0].startOffset === \"number\") {\n                throw Error(\"The Parser constructor no longer accepts a token vector as the first argument.\\n\" +\n                    \"\\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\\n\" +\n                    \"\\tFor Further details.\");\n            }\n        }\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(tokenVocabulary)) {\n            this.tokensMap = (0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(tokenVocabulary, (acc, tokType) => {\n                acc[tokType.name] = tokType;\n                return acc;\n            }, {});\n        }\n        else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(tokenVocabulary, \"modes\") &&\n            (0,lodash_es__WEBPACK_IMPORTED_MODULE_12__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(tokenVocabulary.modes)), _scan_tokens_js__WEBPACK_IMPORTED_MODULE_7__.isTokenType)) {\n            const allTokenTypes = (0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(tokenVocabulary.modes));\n            const uniqueTokens = (0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(allTokenTypes);\n            this.tokensMap = (0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(uniqueTokens, (acc, tokType) => {\n                acc[tokType.name] = tokType;\n                return acc;\n            }, {});\n        }\n        else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(tokenVocabulary)) {\n            this.tokensMap = (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(tokenVocabulary);\n        }\n        else {\n            throw new Error(\"<tokensDictionary> argument must be An Array of Token constructors,\" +\n                \" A dictionary of Token constructors or an IMultiModeLexerDefinition\");\n        }\n        // always add EOF to the tokenNames -> constructors map. it is useful to assure all the input has been\n        // parsed with a clear error message (\"expecting EOF but found ...\")\n        this.tokensMap[\"EOF\"] = _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_6__.EOF;\n        const allTokenTypes = (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(tokenVocabulary, \"modes\")\n            ? (0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(tokenVocabulary.modes))\n            : (0,lodash_es__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(tokenVocabulary);\n        const noTokenCategoriesUsed = (0,lodash_es__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(allTokenTypes, (tokenConstructor) => (0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(tokenConstructor.categoryMatches));\n        this.tokenMatcher = noTokenCategoriesUsed\n            ? _scan_tokens_js__WEBPACK_IMPORTED_MODULE_7__.tokenStructuredMatcherNoCategories\n            : _scan_tokens_js__WEBPACK_IMPORTED_MODULE_7__.tokenStructuredMatcher;\n        // Because ES2015+ syntax should be supported for creating Token classes\n        // We cannot assume that the Token classes were created using the \"extendToken\" utilities\n        // Therefore we must augment the Token classes both on Lexer initialization and on Parser initialization\n        (0,_scan_tokens_js__WEBPACK_IMPORTED_MODULE_7__.augmentTokenTypes)((0,lodash_es__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(this.tokensMap));\n    }\n    defineRule(ruleName, impl, config) {\n        if (this.selfAnalysisDone) {\n            throw Error(`Grammar rule <${ruleName}> may not be defined after the 'performSelfAnalysis' method has been called'\\n` +\n                `Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);\n        }\n        const resyncEnabled = (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(config, \"resyncEnabled\")\n            ? config.resyncEnabled // assumes end user provides the correct config value/type\n            : _parser_js__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_RULE_CONFIG.resyncEnabled;\n        const recoveryValueFunc = (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(config, \"recoveryValueFunc\")\n            ? config.recoveryValueFunc // assumes end user provides the correct config value/type\n            : _parser_js__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_RULE_CONFIG.recoveryValueFunc;\n        // performance optimization: Use small integers as keys for the longer human readable \"full\" rule names.\n        // this greatly improves Map access time (as much as 8% for some performance benchmarks).\n        const shortName = this.ruleShortNameIdx << (_grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__.BITS_FOR_METHOD_TYPE + _grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__.BITS_FOR_OCCURRENCE_IDX);\n        this.ruleShortNameIdx++;\n        this.shortRuleNameToFull[shortName] = ruleName;\n        this.fullRuleNameToShort[ruleName] = shortName;\n        let invokeRuleWithTry;\n        // Micro optimization, only check the condition **once** on rule definition\n        // instead of **every single** rule invocation.\n        if (this.outputCst === true) {\n            invokeRuleWithTry = function invokeRuleWithTry(...args) {\n                try {\n                    this.ruleInvocationStateUpdate(shortName, ruleName, this.subruleIdx);\n                    impl.apply(this, args);\n                    const cst = this.CST_STACK[this.CST_STACK.length - 1];\n                    this.cstPostRule(cst);\n                    return cst;\n                }\n                catch (e) {\n                    return this.invokeRuleCatch(e, resyncEnabled, recoveryValueFunc);\n                }\n                finally {\n                    this.ruleFinallyStateUpdate();\n                }\n            };\n        }\n        else {\n            invokeRuleWithTry = function invokeRuleWithTryCst(...args) {\n                try {\n                    this.ruleInvocationStateUpdate(shortName, ruleName, this.subruleIdx);\n                    return impl.apply(this, args);\n                }\n                catch (e) {\n                    return this.invokeRuleCatch(e, resyncEnabled, recoveryValueFunc);\n                }\n                finally {\n                    this.ruleFinallyStateUpdate();\n                }\n            };\n        }\n        const wrappedGrammarRule = Object.assign(invokeRuleWithTry, { ruleName, originalGrammarAction: impl });\n        return wrappedGrammarRule;\n    }\n    invokeRuleCatch(e, resyncEnabledConfig, recoveryValueFunc) {\n        const isFirstInvokedRule = this.RULE_STACK.length === 1;\n        // note the reSync is always enabled for the first rule invocation, because we must always be able to\n        // reSync with EOF and just output some INVALID ParseTree\n        // during backtracking reSync recovery is disabled, otherwise we can't be certain the backtracking\n        // path is really the most valid one\n        const reSyncEnabled = resyncEnabledConfig && !this.isBackTracking() && this.recoveryEnabled;\n        if ((0,_exceptions_public_js__WEBPACK_IMPORTED_MODULE_1__.isRecognitionException)(e)) {\n            const recogError = e;\n            if (reSyncEnabled) {\n                const reSyncTokType = this.findReSyncTokenType();\n                if (this.isInCurrentRuleReSyncSet(reSyncTokType)) {\n                    recogError.resyncedTokens = this.reSyncTo(reSyncTokType);\n                    if (this.outputCst) {\n                        const partialCstResult = this.CST_STACK[this.CST_STACK.length - 1];\n                        partialCstResult.recoveredNode = true;\n                        return partialCstResult;\n                    }\n                    else {\n                        return recoveryValueFunc(e);\n                    }\n                }\n                else {\n                    if (this.outputCst) {\n                        const partialCstResult = this.CST_STACK[this.CST_STACK.length - 1];\n                        partialCstResult.recoveredNode = true;\n                        recogError.partialCstResult = partialCstResult;\n                    }\n                    // to be handled Further up the call stack\n                    throw recogError;\n                }\n            }\n            else if (isFirstInvokedRule) {\n                // otherwise a Redundant input error will be created as well and we cannot guarantee that this is indeed the case\n                this.moveToTerminatedState();\n                // the parser should never throw one of its own errors outside its flow.\n                // even if error recovery is disabled\n                return recoveryValueFunc(e);\n            }\n            else {\n                // to be recovered Further up the call stack\n                throw recogError;\n            }\n        }\n        else {\n            // some other Error type which we don't know how to handle (for example a built in JavaScript Error)\n            throw e;\n        }\n    }\n    // Implementation of parsing DSL\n    optionInternal(actionORMethodDef, occurrence) {\n        const key = this.getKeyForAutomaticLookahead(_grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__.OPTION_IDX, occurrence);\n        return this.optionInternalLogic(actionORMethodDef, occurrence, key);\n    }\n    optionInternalLogic(actionORMethodDef, occurrence, key) {\n        let lookAheadFunc = this.getLaFuncFromCache(key);\n        let action;\n        if (typeof actionORMethodDef !== \"function\") {\n            action = actionORMethodDef.DEF;\n            const predicate = actionORMethodDef.GATE;\n            // predicate present\n            if (predicate !== undefined) {\n                const orgLookaheadFunction = lookAheadFunc;\n                lookAheadFunc = () => {\n                    return predicate.call(this) && orgLookaheadFunction.call(this);\n                };\n            }\n        }\n        else {\n            action = actionORMethodDef;\n        }\n        if (lookAheadFunc.call(this) === true) {\n            return action.call(this);\n        }\n        return undefined;\n    }\n    atLeastOneInternal(prodOccurrence, actionORMethodDef) {\n        const laKey = this.getKeyForAutomaticLookahead(_grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__.AT_LEAST_ONE_IDX, prodOccurrence);\n        return this.atLeastOneInternalLogic(prodOccurrence, actionORMethodDef, laKey);\n    }\n    atLeastOneInternalLogic(prodOccurrence, actionORMethodDef, key) {\n        let lookAheadFunc = this.getLaFuncFromCache(key);\n        let action;\n        if (typeof actionORMethodDef !== \"function\") {\n            action = actionORMethodDef.DEF;\n            const predicate = actionORMethodDef.GATE;\n            // predicate present\n            if (predicate !== undefined) {\n                const orgLookaheadFunction = lookAheadFunc;\n                lookAheadFunc = () => {\n                    return predicate.call(this) && orgLookaheadFunction.call(this);\n                };\n            }\n        }\n        else {\n            action = actionORMethodDef;\n        }\n        if (lookAheadFunc.call(this) === true) {\n            let notStuck = this.doSingleRepetition(action);\n            while (lookAheadFunc.call(this) === true &&\n                notStuck === true) {\n                notStuck = this.doSingleRepetition(action);\n            }\n        }\n        else {\n            throw this.raiseEarlyExitException(prodOccurrence, _grammar_lookahead_js__WEBPACK_IMPORTED_MODULE_2__.PROD_TYPE.REPETITION_MANDATORY, actionORMethodDef.ERR_MSG);\n        }\n        // note that while it may seem that this can cause an error because by using a recursive call to\n        // AT_LEAST_ONE we change the grammar to AT_LEAST_TWO, AT_LEAST_THREE ... , the possible recursive call\n        // from the tryInRepetitionRecovery(...) will only happen IFF there really are TWO/THREE/.... items.\n        // Performance optimization: \"attemptInRepetitionRecovery\" will be defined as NOOP unless recovery is enabled\n        this.attemptInRepetitionRecovery(this.atLeastOneInternal, [prodOccurrence, actionORMethodDef], lookAheadFunc, _grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__.AT_LEAST_ONE_IDX, prodOccurrence, _grammar_interpreter_js__WEBPACK_IMPORTED_MODULE_3__.NextTerminalAfterAtLeastOneWalker);\n    }\n    atLeastOneSepFirstInternal(prodOccurrence, options) {\n        const laKey = this.getKeyForAutomaticLookahead(_grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__.AT_LEAST_ONE_SEP_IDX, prodOccurrence);\n        this.atLeastOneSepFirstInternalLogic(prodOccurrence, options, laKey);\n    }\n    atLeastOneSepFirstInternalLogic(prodOccurrence, options, key) {\n        const action = options.DEF;\n        const separator = options.SEP;\n        const firstIterationLookaheadFunc = this.getLaFuncFromCache(key);\n        // 1st iteration\n        if (firstIterationLookaheadFunc.call(this) === true) {\n            action.call(this);\n            //  TODO: Optimization can move this function construction into \"attemptInRepetitionRecovery\"\n            //  because it is only needed in error recovery scenarios.\n            const separatorLookAheadFunc = () => {\n                return this.tokenMatcher(this.LA(1), separator);\n            };\n            // 2nd..nth iterations\n            while (this.tokenMatcher(this.LA(1), separator) === true) {\n                // note that this CONSUME will never enter recovery because\n                // the separatorLookAheadFunc checks that the separator really does exist.\n                this.CONSUME(separator);\n                // No need for checking infinite loop here due to consuming the separator.\n                action.call(this);\n            }\n            // Performance optimization: \"attemptInRepetitionRecovery\" will be defined as NOOP unless recovery is enabled\n            this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal, [\n                prodOccurrence,\n                separator,\n                separatorLookAheadFunc,\n                action,\n                _grammar_interpreter_js__WEBPACK_IMPORTED_MODULE_3__.NextTerminalAfterAtLeastOneSepWalker,\n            ], separatorLookAheadFunc, _grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__.AT_LEAST_ONE_SEP_IDX, prodOccurrence, _grammar_interpreter_js__WEBPACK_IMPORTED_MODULE_3__.NextTerminalAfterAtLeastOneSepWalker);\n        }\n        else {\n            throw this.raiseEarlyExitException(prodOccurrence, _grammar_lookahead_js__WEBPACK_IMPORTED_MODULE_2__.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR, options.ERR_MSG);\n        }\n    }\n    manyInternal(prodOccurrence, actionORMethodDef) {\n        const laKey = this.getKeyForAutomaticLookahead(_grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__.MANY_IDX, prodOccurrence);\n        return this.manyInternalLogic(prodOccurrence, actionORMethodDef, laKey);\n    }\n    manyInternalLogic(prodOccurrence, actionORMethodDef, key) {\n        let lookaheadFunction = this.getLaFuncFromCache(key);\n        let action;\n        if (typeof actionORMethodDef !== \"function\") {\n            action = actionORMethodDef.DEF;\n            const predicate = actionORMethodDef.GATE;\n            // predicate present\n            if (predicate !== undefined) {\n                const orgLookaheadFunction = lookaheadFunction;\n                lookaheadFunction = () => {\n                    return predicate.call(this) && orgLookaheadFunction.call(this);\n                };\n            }\n        }\n        else {\n            action = actionORMethodDef;\n        }\n        let notStuck = true;\n        while (lookaheadFunction.call(this) === true && notStuck === true) {\n            notStuck = this.doSingleRepetition(action);\n        }\n        // Performance optimization: \"attemptInRepetitionRecovery\" will be defined as NOOP unless recovery is enabled\n        this.attemptInRepetitionRecovery(this.manyInternal, [prodOccurrence, actionORMethodDef], lookaheadFunction, _grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__.MANY_IDX, prodOccurrence, _grammar_interpreter_js__WEBPACK_IMPORTED_MODULE_3__.NextTerminalAfterManyWalker, \n        // The notStuck parameter is only relevant when \"attemptInRepetitionRecovery\"\n        // is invoked from manyInternal, in the MANY_SEP case and AT_LEAST_ONE[_SEP]\n        // An infinite loop cannot occur as:\n        // - Either the lookahead is guaranteed to consume something (Single Token Separator)\n        // - AT_LEAST_ONE by definition is guaranteed to consume something (or error out).\n        notStuck);\n    }\n    manySepFirstInternal(prodOccurrence, options) {\n        const laKey = this.getKeyForAutomaticLookahead(_grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__.MANY_SEP_IDX, prodOccurrence);\n        this.manySepFirstInternalLogic(prodOccurrence, options, laKey);\n    }\n    manySepFirstInternalLogic(prodOccurrence, options, key) {\n        const action = options.DEF;\n        const separator = options.SEP;\n        const firstIterationLaFunc = this.getLaFuncFromCache(key);\n        // 1st iteration\n        if (firstIterationLaFunc.call(this) === true) {\n            action.call(this);\n            const separatorLookAheadFunc = () => {\n                return this.tokenMatcher(this.LA(1), separator);\n            };\n            // 2nd..nth iterations\n            while (this.tokenMatcher(this.LA(1), separator) === true) {\n                // note that this CONSUME will never enter recovery because\n                // the separatorLookAheadFunc checks that the separator really does exist.\n                this.CONSUME(separator);\n                // No need for checking infinite loop here due to consuming the separator.\n                action.call(this);\n            }\n            // Performance optimization: \"attemptInRepetitionRecovery\" will be defined as NOOP unless recovery is enabled\n            this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal, [\n                prodOccurrence,\n                separator,\n                separatorLookAheadFunc,\n                action,\n                _grammar_interpreter_js__WEBPACK_IMPORTED_MODULE_3__.NextTerminalAfterManySepWalker,\n            ], separatorLookAheadFunc, _grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__.MANY_SEP_IDX, prodOccurrence, _grammar_interpreter_js__WEBPACK_IMPORTED_MODULE_3__.NextTerminalAfterManySepWalker);\n        }\n    }\n    repetitionSepSecondInternal(prodOccurrence, separator, separatorLookAheadFunc, action, nextTerminalAfterWalker) {\n        while (separatorLookAheadFunc()) {\n            // note that this CONSUME will never enter recovery because\n            // the separatorLookAheadFunc checks that the separator really does exist.\n            this.CONSUME(separator);\n            action.call(this);\n        }\n        // we can only arrive to this function after an error\n        // has occurred (hence the name 'second') so the following\n        // IF will always be entered, its possible to remove it...\n        // however it is kept to avoid confusion and be consistent.\n        // Performance optimization: \"attemptInRepetitionRecovery\" will be defined as NOOP unless recovery is enabled\n        /* istanbul ignore else */\n        this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal, [\n            prodOccurrence,\n            separator,\n            separatorLookAheadFunc,\n            action,\n            nextTerminalAfterWalker,\n        ], separatorLookAheadFunc, _grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__.AT_LEAST_ONE_SEP_IDX, prodOccurrence, nextTerminalAfterWalker);\n    }\n    doSingleRepetition(action) {\n        const beforeIteration = this.getLexerPosition();\n        action.call(this);\n        const afterIteration = this.getLexerPosition();\n        // This boolean will indicate if this repetition progressed\n        // or if we are \"stuck\" (potential infinite loop in the repetition).\n        return afterIteration > beforeIteration;\n    }\n    orInternal(altsOrOpts, occurrence) {\n        const laKey = this.getKeyForAutomaticLookahead(_grammar_keys_js__WEBPACK_IMPORTED_MODULE_0__.OR_IDX, occurrence);\n        const alts = (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(altsOrOpts) ? altsOrOpts : altsOrOpts.DEF;\n        const laFunc = this.getLaFuncFromCache(laKey);\n        const altIdxToTake = laFunc.call(this, alts);\n        if (altIdxToTake !== undefined) {\n            const chosenAlternative = alts[altIdxToTake];\n            return chosenAlternative.ALT.call(this);\n        }\n        this.raiseNoAltException(occurrence, altsOrOpts.ERR_MSG);\n    }\n    ruleFinallyStateUpdate() {\n        this.RULE_STACK.pop();\n        this.RULE_OCCURRENCE_STACK.pop();\n        // NOOP when cst is disabled\n        this.cstFinallyStateUpdate();\n        if (this.RULE_STACK.length === 0 && this.isAtEndOfInput() === false) {\n            const firstRedundantTok = this.LA(1);\n            const errMsg = this.errorMessageProvider.buildNotAllInputParsedMessage({\n                firstRedundant: firstRedundantTok,\n                ruleName: this.getCurrRuleFullName(),\n            });\n            this.SAVE_ERROR(new _exceptions_public_js__WEBPACK_IMPORTED_MODULE_1__.NotAllInputParsedException(errMsg, firstRedundantTok));\n        }\n    }\n    subruleInternal(ruleToCall, idx, options) {\n        let ruleResult;\n        try {\n            const args = options !== undefined ? options.ARGS : undefined;\n            this.subruleIdx = idx;\n            ruleResult = ruleToCall.apply(this, args);\n            this.cstPostNonTerminal(ruleResult, options !== undefined && options.LABEL !== undefined\n                ? options.LABEL\n                : ruleToCall.ruleName);\n            return ruleResult;\n        }\n        catch (e) {\n            throw this.subruleInternalError(e, options, ruleToCall.ruleName);\n        }\n    }\n    subruleInternalError(e, options, ruleName) {\n        if ((0,_exceptions_public_js__WEBPACK_IMPORTED_MODULE_1__.isRecognitionException)(e) && e.partialCstResult !== undefined) {\n            this.cstPostNonTerminal(e.partialCstResult, options !== undefined && options.LABEL !== undefined\n                ? options.LABEL\n                : ruleName);\n            delete e.partialCstResult;\n        }\n        throw e;\n    }\n    consumeInternal(tokType, idx, options) {\n        let consumedToken;\n        try {\n            const nextToken = this.LA(1);\n            if (this.tokenMatcher(nextToken, tokType) === true) {\n                this.consumeToken();\n                consumedToken = nextToken;\n            }\n            else {\n                this.consumeInternalError(tokType, nextToken, options);\n            }\n        }\n        catch (eFromConsumption) {\n            consumedToken = this.consumeInternalRecovery(tokType, idx, eFromConsumption);\n        }\n        this.cstPostTerminal(options !== undefined && options.LABEL !== undefined\n            ? options.LABEL\n            : tokType.name, consumedToken);\n        return consumedToken;\n    }\n    consumeInternalError(tokType, nextToken, options) {\n        let msg;\n        const previousToken = this.LA(0);\n        if (options !== undefined && options.ERR_MSG) {\n            msg = options.ERR_MSG;\n        }\n        else {\n            msg = this.errorMessageProvider.buildMismatchTokenMessage({\n                expected: tokType,\n                actual: nextToken,\n                previous: previousToken,\n                ruleName: this.getCurrRuleFullName(),\n            });\n        }\n        throw this.SAVE_ERROR(new _exceptions_public_js__WEBPACK_IMPORTED_MODULE_1__.MismatchedTokenException(msg, nextToken, previousToken));\n    }\n    consumeInternalRecovery(tokType, idx, eFromConsumption) {\n        // no recovery allowed during backtracking, otherwise backtracking may recover invalid syntax and accept it\n        // but the original syntax could have been parsed successfully without any backtracking + recovery\n        if (this.recoveryEnabled &&\n            // TODO: more robust checking of the exception type. Perhaps Typescript extending expressions?\n            eFromConsumption.name === \"MismatchedTokenException\" &&\n            !this.isBackTracking()) {\n            const follows = this.getFollowsForInRuleRecovery(tokType, idx);\n            try {\n                return this.tryInRuleRecovery(tokType, follows);\n            }\n            catch (eFromInRuleRecovery) {\n                if (eFromInRuleRecovery.name === _recoverable_js__WEBPACK_IMPORTED_MODULE_5__.IN_RULE_RECOVERY_EXCEPTION) {\n                    // failed in RuleRecovery.\n                    // throw the original error in order to trigger reSync error recovery\n                    throw eFromConsumption;\n                }\n                else {\n                    throw eFromInRuleRecovery;\n                }\n            }\n        }\n        else {\n            throw eFromConsumption;\n        }\n    }\n    saveRecogState() {\n        // errors is a getter which will clone the errors array\n        const savedErrors = this.errors;\n        const savedRuleStack = (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(this.RULE_STACK);\n        return {\n            errors: savedErrors,\n            lexerState: this.exportLexerState(),\n            RULE_STACK: savedRuleStack,\n            CST_STACK: this.CST_STACK,\n        };\n    }\n    reloadRecogState(newState) {\n        this.errors = newState.errors;\n        this.importLexerState(newState.lexerState);\n        this.RULE_STACK = newState.RULE_STACK;\n    }\n    ruleInvocationStateUpdate(shortName, fullName, idxInCallingRule) {\n        this.RULE_OCCURRENCE_STACK.push(idxInCallingRule);\n        this.RULE_STACK.push(shortName);\n        // NOOP when cst is disabled\n        this.cstInvocationStateUpdate(fullName);\n    }\n    isBackTracking() {\n        return this.isBackTrackingStack.length !== 0;\n    }\n    getCurrRuleFullName() {\n        const shortName = this.getLastExplicitRuleShortName();\n        return this.shortRuleNameToFull[shortName];\n    }\n    shortRuleNameToFullName(shortName) {\n        return this.shortRuleNameToFull[shortName];\n    }\n    isAtEndOfInput() {\n        return this.tokenMatcher(this.LA(1), _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_6__.EOF);\n    }\n    reset() {\n        this.resetLexerState();\n        this.subruleIdx = 0;\n        this.isBackTrackingStack = [];\n        this.errors = [];\n        this.RULE_STACK = [];\n        // TODO: extract a specific reset for TreeBuilder trait\n        this.CST_STACK = [];\n        this.RULE_OCCURRENCE_STACK = [];\n    }\n}\n//# sourceMappingURL=recognizer_engine.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvcmVjb2duaXplcl9lbmdpbmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwRztBQUNpRTtBQUNoRDtBQUNwRTtBQUM4SDtBQUNsSTtBQUNXO0FBQ1Q7QUFDaUY7QUFDdEk7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwrRUFBa0M7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHFEQUFHO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHFEQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixzREFBTztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkscURBQU87QUFDbkIsNkJBQTZCLHNEQUFNO0FBQ25DO0FBQ0E7QUFDQSxhQUFhLElBQUk7QUFDakI7QUFDQSxpQkFBaUIscURBQUc7QUFDcEIsWUFBWSxzREFBSyxDQUFDLHNEQUFPLENBQUMsc0RBQU0sMEJBQTBCLHdEQUFXO0FBQ3JFLGtDQUFrQyxzREFBTyxDQUFDLHNEQUFNO0FBQ2hELGlDQUFpQyxzREFBSTtBQUNyQyw2QkFBNkIsc0RBQU07QUFDbkM7QUFDQTtBQUNBLGFBQWEsSUFBSTtBQUNqQjtBQUNBLGlCQUFpQixzREFBUTtBQUN6Qiw2QkFBNkIsc0RBQUs7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsdURBQUc7QUFDbkMsOEJBQThCLHFEQUFHO0FBQ2pDLGNBQWMsc0RBQU8sQ0FBQyxzREFBTTtBQUM1QixjQUFjLHNEQUFNO0FBQ3BCLHNDQUFzQyxzREFBSyxzQ0FBc0Msc0RBQU87QUFDeEY7QUFDQSxjQUFjLCtFQUFrQztBQUNoRCxjQUFjLG1FQUFzQjtBQUNwQztBQUNBO0FBQ0E7QUFDQSxRQUFRLGtFQUFpQixDQUFDLHNEQUFNO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxTQUFTO0FBQ2xEO0FBQ0E7QUFDQSw4QkFBOEIscURBQUc7QUFDakM7QUFDQSxjQUFjLDJEQUFtQjtBQUNqQyxrQ0FBa0MscURBQUc7QUFDckM7QUFDQSxjQUFjLDJEQUFtQjtBQUNqQztBQUNBO0FBQ0Esb0RBQW9ELGtFQUFvQixHQUFHLHFFQUF1QjtBQUNsRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRSx1Q0FBdUM7QUFDN0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw2RUFBc0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsd0RBQVU7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsOERBQWdCO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCw0REFBUztBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0hBQXNILDhEQUFnQixrQkFBa0Isc0ZBQWlDO0FBQ3pMO0FBQ0E7QUFDQSx1REFBdUQsa0VBQW9CO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHlGQUFvQztBQUNwRCx1Q0FBdUMsa0VBQW9CLGtCQUFrQix5RkFBb0M7QUFDakg7QUFDQTtBQUNBLCtEQUErRCw0REFBUztBQUN4RTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsc0RBQVE7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0hBQW9ILHNEQUFRLGtCQUFrQixnRkFBMkI7QUFDeks7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCwwREFBWTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG1GQUE4QjtBQUM5Qyx1Q0FBdUMsMERBQVksa0JBQWtCLG1GQUE4QjtBQUNuRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsa0VBQW9CO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELG9EQUFNO0FBQzdELHFCQUFxQixxREFBTztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsZ0NBQWdDLDZFQUEwQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDZFQUFzQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxrQ0FBa0MsMkVBQXdCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELHVFQUEwQjtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixzREFBSztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLHVEQUFHO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVybWFpZC1kaWFncmFtLWVkaXRvci8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9yZWNvZ25pemVyX2VuZ2luZS5qcz8yNmE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNsb25lLCBldmVyeSwgZmxhdHRlbiwgaGFzLCBpc0FycmF5LCBpc0VtcHR5LCBpc09iamVjdCwgcmVkdWNlLCB1bmlxLCB2YWx1ZXMsIH0gZnJvbSBcImxvZGFzaC1lc1wiO1xuaW1wb3J0IHsgQVRfTEVBU1RfT05FX0lEWCwgQVRfTEVBU1RfT05FX1NFUF9JRFgsIEJJVFNfRk9SX01FVEhPRF9UWVBFLCBCSVRTX0ZPUl9PQ0NVUlJFTkNFX0lEWCwgTUFOWV9JRFgsIE1BTllfU0VQX0lEWCwgT1BUSU9OX0lEWCwgT1JfSURYLCB9IGZyb20gXCIuLi8uLi9ncmFtbWFyL2tleXMuanNcIjtcbmltcG9ydCB7IGlzUmVjb2duaXRpb25FeGNlcHRpb24sIE1pc21hdGNoZWRUb2tlbkV4Y2VwdGlvbiwgTm90QWxsSW5wdXRQYXJzZWRFeGNlcHRpb24sIH0gZnJvbSBcIi4uLy4uL2V4Y2VwdGlvbnNfcHVibGljLmpzXCI7XG5pbXBvcnQgeyBQUk9EX1RZUEUgfSBmcm9tIFwiLi4vLi4vZ3JhbW1hci9sb29rYWhlYWQuanNcIjtcbmltcG9ydCB7IE5leHRUZXJtaW5hbEFmdGVyQXRMZWFzdE9uZVNlcFdhbGtlciwgTmV4dFRlcm1pbmFsQWZ0ZXJBdExlYXN0T25lV2Fsa2VyLCBOZXh0VGVybWluYWxBZnRlck1hbnlTZXBXYWxrZXIsIE5leHRUZXJtaW5hbEFmdGVyTWFueVdhbGtlciwgfSBmcm9tIFwiLi4vLi4vZ3JhbW1hci9pbnRlcnByZXRlci5qc1wiO1xuaW1wb3J0IHsgREVGQVVMVF9SVUxFX0NPTkZJRyB9IGZyb20gXCIuLi9wYXJzZXIuanNcIjtcbmltcG9ydCB7IElOX1JVTEVfUkVDT1ZFUllfRVhDRVBUSU9OIH0gZnJvbSBcIi4vcmVjb3ZlcmFibGUuanNcIjtcbmltcG9ydCB7IEVPRiB9IGZyb20gXCIuLi8uLi8uLi9zY2FuL3Rva2Vuc19wdWJsaWMuanNcIjtcbmltcG9ydCB7IGF1Z21lbnRUb2tlblR5cGVzLCBpc1Rva2VuVHlwZSwgdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlciwgdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlck5vQ2F0ZWdvcmllcywgfSBmcm9tIFwiLi4vLi4vLi4vc2Nhbi90b2tlbnMuanNcIjtcbi8qKlxuICogVGhpcyB0cmFpdCBpcyByZXNwb25zaWJsZSBmb3IgdGhlIHJ1bnRpbWUgcGFyc2luZyBlbmdpbmVcbiAqIFVzZWQgYnkgdGhlIG9mZmljaWFsIEFQSSAocmVjb2duaXplcl9hcGkudHMpXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWNvZ25pemVyRW5naW5lIHtcbiAgICBpbml0UmVjb2duaXplckVuZ2luZSh0b2tlblZvY2FidWxhcnksIGNvbmZpZykge1xuICAgICAgICB0aGlzLmNsYXNzTmFtZSA9IHRoaXMuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgLy8gVE9ETzogd291bGQgdXNpbmcgYW4gRVM2IE1hcCBvciBwbGFpbiBvYmplY3QgYmUgZmFzdGVyIChDU1QgYnVpbGRpbmcgc2NlbmFyaW8pXG4gICAgICAgIHRoaXMuc2hvcnRSdWxlTmFtZVRvRnVsbCA9IHt9O1xuICAgICAgICB0aGlzLmZ1bGxSdWxlTmFtZVRvU2hvcnQgPSB7fTtcbiAgICAgICAgdGhpcy5ydWxlU2hvcnROYW1lSWR4ID0gMjU2O1xuICAgICAgICB0aGlzLnRva2VuTWF0Y2hlciA9IHRva2VuU3RydWN0dXJlZE1hdGNoZXJOb0NhdGVnb3JpZXM7XG4gICAgICAgIHRoaXMuc3VicnVsZUlkeCA9IDA7XG4gICAgICAgIHRoaXMuZGVmaW5lZFJ1bGVzTmFtZXMgPSBbXTtcbiAgICAgICAgdGhpcy50b2tlbnNNYXAgPSB7fTtcbiAgICAgICAgdGhpcy5pc0JhY2tUcmFja2luZ1N0YWNrID0gW107XG4gICAgICAgIHRoaXMuUlVMRV9TVEFDSyA9IFtdO1xuICAgICAgICB0aGlzLlJVTEVfT0NDVVJSRU5DRV9TVEFDSyA9IFtdO1xuICAgICAgICB0aGlzLmdhc3RQcm9kdWN0aW9uc0NhY2hlID0ge307XG4gICAgICAgIGlmIChoYXMoY29uZmlnLCBcInNlcmlhbGl6ZWRHcmFtbWFyXCIpKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIlRoZSBQYXJzZXIncyBjb25maWd1cmF0aW9uIGNhbiBubyBsb25nZXIgY29udGFpbiBhIDxzZXJpYWxpemVkR3JhbW1hcj4gcHJvcGVydHkuXFxuXCIgK1xuICAgICAgICAgICAgICAgIFwiXFx0U2VlOiBodHRwczovL2NoZXZyb3RhaW4uaW8vZG9jcy9jaGFuZ2VzL0JSRUFLSU5HX0NIQU5HRVMuaHRtbCNfNi0wLTBcXG5cIiArXG4gICAgICAgICAgICAgICAgXCJcXHRGb3IgRnVydGhlciBkZXRhaWxzLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheSh0b2tlblZvY2FidWxhcnkpKSB7XG4gICAgICAgICAgICAvLyBUaGlzIG9ubHkgY2hlY2tzIGZvciBUb2tlbiB2b2NhYnVsYXJpZXMgcHJvdmlkZWQgYXMgYXJyYXlzLlxuICAgICAgICAgICAgLy8gVGhhdCBpcyBnb29kIGVub3VnaCBiZWNhdXNlIHRoZSBtYWluIG9iamVjdGl2ZSBpcyB0byBkZXRlY3QgdXNlcnMgb2YgcHJlLVY0LjAgQVBJc1xuICAgICAgICAgICAgLy8gcmF0aGVyIHRoYW4gYWxsIGVkZ2UgY2FzZXMgb2YgZW1wdHkgVG9rZW4gdm9jYWJ1bGFyaWVzLlxuICAgICAgICAgICAgaWYgKGlzRW1wdHkodG9rZW5Wb2NhYnVsYXJ5KSkge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiQSBUb2tlbiBWb2NhYnVsYXJ5IGNhbm5vdCBiZSBlbXB0eS5cXG5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiXFx0Tm90ZSB0aGF0IHRoZSBmaXJzdCBhcmd1bWVudCBmb3IgdGhlIHBhcnNlciBjb25zdHJ1Y3RvclxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJcXHRpcyBubyBsb25nZXIgYSBUb2tlbiB2ZWN0b3IgKHNpbmNlIHY0LjApLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdG9rZW5Wb2NhYnVsYXJ5WzBdLnN0YXJ0T2Zmc2V0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJUaGUgUGFyc2VyIGNvbnN0cnVjdG9yIG5vIGxvbmdlciBhY2NlcHRzIGEgdG9rZW4gdmVjdG9yIGFzIHRoZSBmaXJzdCBhcmd1bWVudC5cXG5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiXFx0U2VlOiBodHRwczovL2NoZXZyb3RhaW4uaW8vZG9jcy9jaGFuZ2VzL0JSRUFLSU5HX0NIQU5HRVMuaHRtbCNfNC0wLTBcXG5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiXFx0Rm9yIEZ1cnRoZXIgZGV0YWlscy5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXkodG9rZW5Wb2NhYnVsYXJ5KSkge1xuICAgICAgICAgICAgdGhpcy50b2tlbnNNYXAgPSByZWR1Y2UodG9rZW5Wb2NhYnVsYXJ5LCAoYWNjLCB0b2tUeXBlKSA9PiB7XG4gICAgICAgICAgICAgICAgYWNjW3Rva1R5cGUubmFtZV0gPSB0b2tUeXBlO1xuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9LCB7fSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaGFzKHRva2VuVm9jYWJ1bGFyeSwgXCJtb2Rlc1wiKSAmJlxuICAgICAgICAgICAgZXZlcnkoZmxhdHRlbih2YWx1ZXModG9rZW5Wb2NhYnVsYXJ5Lm1vZGVzKSksIGlzVG9rZW5UeXBlKSkge1xuICAgICAgICAgICAgY29uc3QgYWxsVG9rZW5UeXBlcyA9IGZsYXR0ZW4odmFsdWVzKHRva2VuVm9jYWJ1bGFyeS5tb2RlcykpO1xuICAgICAgICAgICAgY29uc3QgdW5pcXVlVG9rZW5zID0gdW5pcShhbGxUb2tlblR5cGVzKTtcbiAgICAgICAgICAgIHRoaXMudG9rZW5zTWFwID0gcmVkdWNlKHVuaXF1ZVRva2VucywgKGFjYywgdG9rVHlwZSkgPT4ge1xuICAgICAgICAgICAgICAgIGFjY1t0b2tUeXBlLm5hbWVdID0gdG9rVHlwZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfSwge30pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KHRva2VuVm9jYWJ1bGFyeSkpIHtcbiAgICAgICAgICAgIHRoaXMudG9rZW5zTWFwID0gY2xvbmUodG9rZW5Wb2NhYnVsYXJ5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIjx0b2tlbnNEaWN0aW9uYXJ5PiBhcmd1bWVudCBtdXN0IGJlIEFuIEFycmF5IG9mIFRva2VuIGNvbnN0cnVjdG9ycyxcIiArXG4gICAgICAgICAgICAgICAgXCIgQSBkaWN0aW9uYXJ5IG9mIFRva2VuIGNvbnN0cnVjdG9ycyBvciBhbiBJTXVsdGlNb2RlTGV4ZXJEZWZpbml0aW9uXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFsd2F5cyBhZGQgRU9GIHRvIHRoZSB0b2tlbk5hbWVzIC0+IGNvbnN0cnVjdG9ycyBtYXAuIGl0IGlzIHVzZWZ1bCB0byBhc3N1cmUgYWxsIHRoZSBpbnB1dCBoYXMgYmVlblxuICAgICAgICAvLyBwYXJzZWQgd2l0aCBhIGNsZWFyIGVycm9yIG1lc3NhZ2UgKFwiZXhwZWN0aW5nIEVPRiBidXQgZm91bmQgLi4uXCIpXG4gICAgICAgIHRoaXMudG9rZW5zTWFwW1wiRU9GXCJdID0gRU9GO1xuICAgICAgICBjb25zdCBhbGxUb2tlblR5cGVzID0gaGFzKHRva2VuVm9jYWJ1bGFyeSwgXCJtb2Rlc1wiKVxuICAgICAgICAgICAgPyBmbGF0dGVuKHZhbHVlcyh0b2tlblZvY2FidWxhcnkubW9kZXMpKVxuICAgICAgICAgICAgOiB2YWx1ZXModG9rZW5Wb2NhYnVsYXJ5KTtcbiAgICAgICAgY29uc3Qgbm9Ub2tlbkNhdGVnb3JpZXNVc2VkID0gZXZlcnkoYWxsVG9rZW5UeXBlcywgKHRva2VuQ29uc3RydWN0b3IpID0+IGlzRW1wdHkodG9rZW5Db25zdHJ1Y3Rvci5jYXRlZ29yeU1hdGNoZXMpKTtcbiAgICAgICAgdGhpcy50b2tlbk1hdGNoZXIgPSBub1Rva2VuQ2F0ZWdvcmllc1VzZWRcbiAgICAgICAgICAgID8gdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlck5vQ2F0ZWdvcmllc1xuICAgICAgICAgICAgOiB0b2tlblN0cnVjdHVyZWRNYXRjaGVyO1xuICAgICAgICAvLyBCZWNhdXNlIEVTMjAxNSsgc3ludGF4IHNob3VsZCBiZSBzdXBwb3J0ZWQgZm9yIGNyZWF0aW5nIFRva2VuIGNsYXNzZXNcbiAgICAgICAgLy8gV2UgY2Fubm90IGFzc3VtZSB0aGF0IHRoZSBUb2tlbiBjbGFzc2VzIHdlcmUgY3JlYXRlZCB1c2luZyB0aGUgXCJleHRlbmRUb2tlblwiIHV0aWxpdGllc1xuICAgICAgICAvLyBUaGVyZWZvcmUgd2UgbXVzdCBhdWdtZW50IHRoZSBUb2tlbiBjbGFzc2VzIGJvdGggb24gTGV4ZXIgaW5pdGlhbGl6YXRpb24gYW5kIG9uIFBhcnNlciBpbml0aWFsaXphdGlvblxuICAgICAgICBhdWdtZW50VG9rZW5UeXBlcyh2YWx1ZXModGhpcy50b2tlbnNNYXApKTtcbiAgICB9XG4gICAgZGVmaW5lUnVsZShydWxlTmFtZSwgaW1wbCwgY29uZmlnKSB7XG4gICAgICAgIGlmICh0aGlzLnNlbGZBbmFseXNpc0RvbmUpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBHcmFtbWFyIHJ1bGUgPCR7cnVsZU5hbWV9PiBtYXkgbm90IGJlIGRlZmluZWQgYWZ0ZXIgdGhlICdwZXJmb3JtU2VsZkFuYWx5c2lzJyBtZXRob2QgaGFzIGJlZW4gY2FsbGVkJ1xcbmAgK1xuICAgICAgICAgICAgICAgIGBNYWtlIHN1cmUgdGhhdCBhbGwgZ3JhbW1hciBydWxlIGRlZmluaXRpb25zIGFyZSBkb25lIGJlZm9yZSAncGVyZm9ybVNlbGZBbmFseXNpcycgaXMgY2FsbGVkLmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3luY0VuYWJsZWQgPSBoYXMoY29uZmlnLCBcInJlc3luY0VuYWJsZWRcIilcbiAgICAgICAgICAgID8gY29uZmlnLnJlc3luY0VuYWJsZWQgLy8gYXNzdW1lcyBlbmQgdXNlciBwcm92aWRlcyB0aGUgY29ycmVjdCBjb25maWcgdmFsdWUvdHlwZVxuICAgICAgICAgICAgOiBERUZBVUxUX1JVTEVfQ09ORklHLnJlc3luY0VuYWJsZWQ7XG4gICAgICAgIGNvbnN0IHJlY292ZXJ5VmFsdWVGdW5jID0gaGFzKGNvbmZpZywgXCJyZWNvdmVyeVZhbHVlRnVuY1wiKVxuICAgICAgICAgICAgPyBjb25maWcucmVjb3ZlcnlWYWx1ZUZ1bmMgLy8gYXNzdW1lcyBlbmQgdXNlciBwcm92aWRlcyB0aGUgY29ycmVjdCBjb25maWcgdmFsdWUvdHlwZVxuICAgICAgICAgICAgOiBERUZBVUxUX1JVTEVfQ09ORklHLnJlY292ZXJ5VmFsdWVGdW5jO1xuICAgICAgICAvLyBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb246IFVzZSBzbWFsbCBpbnRlZ2VycyBhcyBrZXlzIGZvciB0aGUgbG9uZ2VyIGh1bWFuIHJlYWRhYmxlIFwiZnVsbFwiIHJ1bGUgbmFtZXMuXG4gICAgICAgIC8vIHRoaXMgZ3JlYXRseSBpbXByb3ZlcyBNYXAgYWNjZXNzIHRpbWUgKGFzIG11Y2ggYXMgOCUgZm9yIHNvbWUgcGVyZm9ybWFuY2UgYmVuY2htYXJrcykuXG4gICAgICAgIGNvbnN0IHNob3J0TmFtZSA9IHRoaXMucnVsZVNob3J0TmFtZUlkeCA8PCAoQklUU19GT1JfTUVUSE9EX1RZUEUgKyBCSVRTX0ZPUl9PQ0NVUlJFTkNFX0lEWCk7XG4gICAgICAgIHRoaXMucnVsZVNob3J0TmFtZUlkeCsrO1xuICAgICAgICB0aGlzLnNob3J0UnVsZU5hbWVUb0Z1bGxbc2hvcnROYW1lXSA9IHJ1bGVOYW1lO1xuICAgICAgICB0aGlzLmZ1bGxSdWxlTmFtZVRvU2hvcnRbcnVsZU5hbWVdID0gc2hvcnROYW1lO1xuICAgICAgICBsZXQgaW52b2tlUnVsZVdpdGhUcnk7XG4gICAgICAgIC8vIE1pY3JvIG9wdGltaXphdGlvbiwgb25seSBjaGVjayB0aGUgY29uZGl0aW9uICoqb25jZSoqIG9uIHJ1bGUgZGVmaW5pdGlvblxuICAgICAgICAvLyBpbnN0ZWFkIG9mICoqZXZlcnkgc2luZ2xlKiogcnVsZSBpbnZvY2F0aW9uLlxuICAgICAgICBpZiAodGhpcy5vdXRwdXRDc3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGludm9rZVJ1bGVXaXRoVHJ5ID0gZnVuY3Rpb24gaW52b2tlUnVsZVdpdGhUcnkoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucnVsZUludm9jYXRpb25TdGF0ZVVwZGF0ZShzaG9ydE5hbWUsIHJ1bGVOYW1lLCB0aGlzLnN1YnJ1bGVJZHgpO1xuICAgICAgICAgICAgICAgICAgICBpbXBsLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjc3QgPSB0aGlzLkNTVF9TVEFDS1t0aGlzLkNTVF9TVEFDSy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jc3RQb3N0UnVsZShjc3QpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3N0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbnZva2VSdWxlQ2F0Y2goZSwgcmVzeW5jRW5hYmxlZCwgcmVjb3ZlcnlWYWx1ZUZ1bmMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ydWxlRmluYWxseVN0YXRlVXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGludm9rZVJ1bGVXaXRoVHJ5ID0gZnVuY3Rpb24gaW52b2tlUnVsZVdpdGhUcnlDc3QoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucnVsZUludm9jYXRpb25TdGF0ZVVwZGF0ZShzaG9ydE5hbWUsIHJ1bGVOYW1lLCB0aGlzLnN1YnJ1bGVJZHgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW1wbC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW52b2tlUnVsZUNhdGNoKGUsIHJlc3luY0VuYWJsZWQsIHJlY292ZXJ5VmFsdWVGdW5jKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucnVsZUZpbmFsbHlTdGF0ZVVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgd3JhcHBlZEdyYW1tYXJSdWxlID0gT2JqZWN0LmFzc2lnbihpbnZva2VSdWxlV2l0aFRyeSwgeyBydWxlTmFtZSwgb3JpZ2luYWxHcmFtbWFyQWN0aW9uOiBpbXBsIH0pO1xuICAgICAgICByZXR1cm4gd3JhcHBlZEdyYW1tYXJSdWxlO1xuICAgIH1cbiAgICBpbnZva2VSdWxlQ2F0Y2goZSwgcmVzeW5jRW5hYmxlZENvbmZpZywgcmVjb3ZlcnlWYWx1ZUZ1bmMpIHtcbiAgICAgICAgY29uc3QgaXNGaXJzdEludm9rZWRSdWxlID0gdGhpcy5SVUxFX1NUQUNLLmxlbmd0aCA9PT0gMTtcbiAgICAgICAgLy8gbm90ZSB0aGUgcmVTeW5jIGlzIGFsd2F5cyBlbmFibGVkIGZvciB0aGUgZmlyc3QgcnVsZSBpbnZvY2F0aW9uLCBiZWNhdXNlIHdlIG11c3QgYWx3YXlzIGJlIGFibGUgdG9cbiAgICAgICAgLy8gcmVTeW5jIHdpdGggRU9GIGFuZCBqdXN0IG91dHB1dCBzb21lIElOVkFMSUQgUGFyc2VUcmVlXG4gICAgICAgIC8vIGR1cmluZyBiYWNrdHJhY2tpbmcgcmVTeW5jIHJlY292ZXJ5IGlzIGRpc2FibGVkLCBvdGhlcndpc2Ugd2UgY2FuJ3QgYmUgY2VydGFpbiB0aGUgYmFja3RyYWNraW5nXG4gICAgICAgIC8vIHBhdGggaXMgcmVhbGx5IHRoZSBtb3N0IHZhbGlkIG9uZVxuICAgICAgICBjb25zdCByZVN5bmNFbmFibGVkID0gcmVzeW5jRW5hYmxlZENvbmZpZyAmJiAhdGhpcy5pc0JhY2tUcmFja2luZygpICYmIHRoaXMucmVjb3ZlcnlFbmFibGVkO1xuICAgICAgICBpZiAoaXNSZWNvZ25pdGlvbkV4Y2VwdGlvbihlKSkge1xuICAgICAgICAgICAgY29uc3QgcmVjb2dFcnJvciA9IGU7XG4gICAgICAgICAgICBpZiAocmVTeW5jRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlU3luY1Rva1R5cGUgPSB0aGlzLmZpbmRSZVN5bmNUb2tlblR5cGUoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0luQ3VycmVudFJ1bGVSZVN5bmNTZXQocmVTeW5jVG9rVHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVjb2dFcnJvci5yZXN5bmNlZFRva2VucyA9IHRoaXMucmVTeW5jVG8ocmVTeW5jVG9rVHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm91dHB1dENzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydGlhbENzdFJlc3VsdCA9IHRoaXMuQ1NUX1NUQUNLW3RoaXMuQ1NUX1NUQUNLLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydGlhbENzdFJlc3VsdC5yZWNvdmVyZWROb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0aWFsQ3N0UmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlY292ZXJ5VmFsdWVGdW5jKGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vdXRwdXRDc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRpYWxDc3RSZXN1bHQgPSB0aGlzLkNTVF9TVEFDS1t0aGlzLkNTVF9TVEFDSy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpYWxDc3RSZXN1bHQucmVjb3ZlcmVkTm9kZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWNvZ0Vycm9yLnBhcnRpYWxDc3RSZXN1bHQgPSBwYXJ0aWFsQ3N0UmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIGJlIGhhbmRsZWQgRnVydGhlciB1cCB0aGUgY2FsbCBzdGFja1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyByZWNvZ0Vycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRmlyc3RJbnZva2VkUnVsZSkge1xuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSBhIFJlZHVuZGFudCBpbnB1dCBlcnJvciB3aWxsIGJlIGNyZWF0ZWQgYXMgd2VsbCBhbmQgd2UgY2Fubm90IGd1YXJhbnRlZSB0aGF0IHRoaXMgaXMgaW5kZWVkIHRoZSBjYXNlXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlVG9UZXJtaW5hdGVkU3RhdGUoKTtcbiAgICAgICAgICAgICAgICAvLyB0aGUgcGFyc2VyIHNob3VsZCBuZXZlciB0aHJvdyBvbmUgb2YgaXRzIG93biBlcnJvcnMgb3V0c2lkZSBpdHMgZmxvdy5cbiAgICAgICAgICAgICAgICAvLyBldmVuIGlmIGVycm9yIHJlY292ZXJ5IGlzIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlY292ZXJ5VmFsdWVGdW5jKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gdG8gYmUgcmVjb3ZlcmVkIEZ1cnRoZXIgdXAgdGhlIGNhbGwgc3RhY2tcbiAgICAgICAgICAgICAgICB0aHJvdyByZWNvZ0Vycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gc29tZSBvdGhlciBFcnJvciB0eXBlIHdoaWNoIHdlIGRvbid0IGtub3cgaG93IHRvIGhhbmRsZSAoZm9yIGV4YW1wbGUgYSBidWlsdCBpbiBKYXZhU2NyaXB0IEVycm9yKVxuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBJbXBsZW1lbnRhdGlvbiBvZiBwYXJzaW5nIERTTFxuICAgIG9wdGlvbkludGVybmFsKGFjdGlvbk9STWV0aG9kRGVmLCBvY2N1cnJlbmNlKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHRoaXMuZ2V0S2V5Rm9yQXV0b21hdGljTG9va2FoZWFkKE9QVElPTl9JRFgsIG9jY3VycmVuY2UpO1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25JbnRlcm5hbExvZ2ljKGFjdGlvbk9STWV0aG9kRGVmLCBvY2N1cnJlbmNlLCBrZXkpO1xuICAgIH1cbiAgICBvcHRpb25JbnRlcm5hbExvZ2ljKGFjdGlvbk9STWV0aG9kRGVmLCBvY2N1cnJlbmNlLCBrZXkpIHtcbiAgICAgICAgbGV0IGxvb2tBaGVhZEZ1bmMgPSB0aGlzLmdldExhRnVuY0Zyb21DYWNoZShrZXkpO1xuICAgICAgICBsZXQgYWN0aW9uO1xuICAgICAgICBpZiAodHlwZW9mIGFjdGlvbk9STWV0aG9kRGVmICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIGFjdGlvbiA9IGFjdGlvbk9STWV0aG9kRGVmLkRFRjtcbiAgICAgICAgICAgIGNvbnN0IHByZWRpY2F0ZSA9IGFjdGlvbk9STWV0aG9kRGVmLkdBVEU7XG4gICAgICAgICAgICAvLyBwcmVkaWNhdGUgcHJlc2VudFxuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3JnTG9va2FoZWFkRnVuY3Rpb24gPSBsb29rQWhlYWRGdW5jO1xuICAgICAgICAgICAgICAgIGxvb2tBaGVhZEZ1bmMgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmVkaWNhdGUuY2FsbCh0aGlzKSAmJiBvcmdMb29rYWhlYWRGdW5jdGlvbi5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhY3Rpb24gPSBhY3Rpb25PUk1ldGhvZERlZjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG9va0FoZWFkRnVuYy5jYWxsKHRoaXMpID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gYWN0aW9uLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgYXRMZWFzdE9uZUludGVybmFsKHByb2RPY2N1cnJlbmNlLCBhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICBjb25zdCBsYUtleSA9IHRoaXMuZ2V0S2V5Rm9yQXV0b21hdGljTG9va2FoZWFkKEFUX0xFQVNUX09ORV9JRFgsIHByb2RPY2N1cnJlbmNlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXRMZWFzdE9uZUludGVybmFsTG9naWMocHJvZE9jY3VycmVuY2UsIGFjdGlvbk9STWV0aG9kRGVmLCBsYUtleSk7XG4gICAgfVxuICAgIGF0TGVhc3RPbmVJbnRlcm5hbExvZ2ljKHByb2RPY2N1cnJlbmNlLCBhY3Rpb25PUk1ldGhvZERlZiwga2V5KSB7XG4gICAgICAgIGxldCBsb29rQWhlYWRGdW5jID0gdGhpcy5nZXRMYUZ1bmNGcm9tQ2FjaGUoa2V5KTtcbiAgICAgICAgbGV0IGFjdGlvbjtcbiAgICAgICAgaWYgKHR5cGVvZiBhY3Rpb25PUk1ldGhvZERlZiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBhY3Rpb24gPSBhY3Rpb25PUk1ldGhvZERlZi5ERUY7XG4gICAgICAgICAgICBjb25zdCBwcmVkaWNhdGUgPSBhY3Rpb25PUk1ldGhvZERlZi5HQVRFO1xuICAgICAgICAgICAgLy8gcHJlZGljYXRlIHByZXNlbnRcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yZ0xvb2thaGVhZEZ1bmN0aW9uID0gbG9va0FoZWFkRnVuYztcbiAgICAgICAgICAgICAgICBsb29rQWhlYWRGdW5jID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJlZGljYXRlLmNhbGwodGhpcykgJiYgb3JnTG9va2FoZWFkRnVuY3Rpb24uY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWN0aW9uID0gYWN0aW9uT1JNZXRob2REZWY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvb2tBaGVhZEZ1bmMuY2FsbCh0aGlzKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgbGV0IG5vdFN0dWNrID0gdGhpcy5kb1NpbmdsZVJlcGV0aXRpb24oYWN0aW9uKTtcbiAgICAgICAgICAgIHdoaWxlIChsb29rQWhlYWRGdW5jLmNhbGwodGhpcykgPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgICBub3RTdHVjayA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIG5vdFN0dWNrID0gdGhpcy5kb1NpbmdsZVJlcGV0aXRpb24oYWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IHRoaXMucmFpc2VFYXJseUV4aXRFeGNlcHRpb24ocHJvZE9jY3VycmVuY2UsIFBST0RfVFlQRS5SRVBFVElUSU9OX01BTkRBVE9SWSwgYWN0aW9uT1JNZXRob2REZWYuRVJSX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm90ZSB0aGF0IHdoaWxlIGl0IG1heSBzZWVtIHRoYXQgdGhpcyBjYW4gY2F1c2UgYW4gZXJyb3IgYmVjYXVzZSBieSB1c2luZyBhIHJlY3Vyc2l2ZSBjYWxsIHRvXG4gICAgICAgIC8vIEFUX0xFQVNUX09ORSB3ZSBjaGFuZ2UgdGhlIGdyYW1tYXIgdG8gQVRfTEVBU1RfVFdPLCBBVF9MRUFTVF9USFJFRSAuLi4gLCB0aGUgcG9zc2libGUgcmVjdXJzaXZlIGNhbGxcbiAgICAgICAgLy8gZnJvbSB0aGUgdHJ5SW5SZXBldGl0aW9uUmVjb3ZlcnkoLi4uKSB3aWxsIG9ubHkgaGFwcGVuIElGRiB0aGVyZSByZWFsbHkgYXJlIFRXTy9USFJFRS8uLi4uIGl0ZW1zLlxuICAgICAgICAvLyBQZXJmb3JtYW5jZSBvcHRpbWl6YXRpb246IFwiYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5XCIgd2lsbCBiZSBkZWZpbmVkIGFzIE5PT1AgdW5sZXNzIHJlY292ZXJ5IGlzIGVuYWJsZWRcbiAgICAgICAgdGhpcy5hdHRlbXB0SW5SZXBldGl0aW9uUmVjb3ZlcnkodGhpcy5hdExlYXN0T25lSW50ZXJuYWwsIFtwcm9kT2NjdXJyZW5jZSwgYWN0aW9uT1JNZXRob2REZWZdLCBsb29rQWhlYWRGdW5jLCBBVF9MRUFTVF9PTkVfSURYLCBwcm9kT2NjdXJyZW5jZSwgTmV4dFRlcm1pbmFsQWZ0ZXJBdExlYXN0T25lV2Fsa2VyKTtcbiAgICB9XG4gICAgYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwocHJvZE9jY3VycmVuY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgbGFLZXkgPSB0aGlzLmdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZChBVF9MRUFTVF9PTkVfU0VQX0lEWCwgcHJvZE9jY3VycmVuY2UpO1xuICAgICAgICB0aGlzLmF0TGVhc3RPbmVTZXBGaXJzdEludGVybmFsTG9naWMocHJvZE9jY3VycmVuY2UsIG9wdGlvbnMsIGxhS2V5KTtcbiAgICB9XG4gICAgYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWxMb2dpYyhwcm9kT2NjdXJyZW5jZSwgb3B0aW9ucywga2V5KSB7XG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IG9wdGlvbnMuREVGO1xuICAgICAgICBjb25zdCBzZXBhcmF0b3IgPSBvcHRpb25zLlNFUDtcbiAgICAgICAgY29uc3QgZmlyc3RJdGVyYXRpb25Mb29rYWhlYWRGdW5jID0gdGhpcy5nZXRMYUZ1bmNGcm9tQ2FjaGUoa2V5KTtcbiAgICAgICAgLy8gMXN0IGl0ZXJhdGlvblxuICAgICAgICBpZiAoZmlyc3RJdGVyYXRpb25Mb29rYWhlYWRGdW5jLmNhbGwodGhpcykgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGFjdGlvbi5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgLy8gIFRPRE86IE9wdGltaXphdGlvbiBjYW4gbW92ZSB0aGlzIGZ1bmN0aW9uIGNvbnN0cnVjdGlvbiBpbnRvIFwiYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5XCJcbiAgICAgICAgICAgIC8vICBiZWNhdXNlIGl0IGlzIG9ubHkgbmVlZGVkIGluIGVycm9yIHJlY292ZXJ5IHNjZW5hcmlvcy5cbiAgICAgICAgICAgIGNvbnN0IHNlcGFyYXRvckxvb2tBaGVhZEZ1bmMgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9rZW5NYXRjaGVyKHRoaXMuTEEoMSksIHNlcGFyYXRvcik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gMm5kLi5udGggaXRlcmF0aW9uc1xuICAgICAgICAgICAgd2hpbGUgKHRoaXMudG9rZW5NYXRjaGVyKHRoaXMuTEEoMSksIHNlcGFyYXRvcikgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAvLyBub3RlIHRoYXQgdGhpcyBDT05TVU1FIHdpbGwgbmV2ZXIgZW50ZXIgcmVjb3ZlcnkgYmVjYXVzZVxuICAgICAgICAgICAgICAgIC8vIHRoZSBzZXBhcmF0b3JMb29rQWhlYWRGdW5jIGNoZWNrcyB0aGF0IHRoZSBzZXBhcmF0b3IgcmVhbGx5IGRvZXMgZXhpc3QuXG4gICAgICAgICAgICAgICAgdGhpcy5DT05TVU1FKHNlcGFyYXRvcik7XG4gICAgICAgICAgICAgICAgLy8gTm8gbmVlZCBmb3IgY2hlY2tpbmcgaW5maW5pdGUgbG9vcCBoZXJlIGR1ZSB0byBjb25zdW1pbmcgdGhlIHNlcGFyYXRvci5cbiAgICAgICAgICAgICAgICBhY3Rpb24uY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFBlcmZvcm1hbmNlIG9wdGltaXphdGlvbjogXCJhdHRlbXB0SW5SZXBldGl0aW9uUmVjb3ZlcnlcIiB3aWxsIGJlIGRlZmluZWQgYXMgTk9PUCB1bmxlc3MgcmVjb3ZlcnkgaXMgZW5hYmxlZFxuICAgICAgICAgICAgdGhpcy5hdHRlbXB0SW5SZXBldGl0aW9uUmVjb3ZlcnkodGhpcy5yZXBldGl0aW9uU2VwU2Vjb25kSW50ZXJuYWwsIFtcbiAgICAgICAgICAgICAgICBwcm9kT2NjdXJyZW5jZSxcbiAgICAgICAgICAgICAgICBzZXBhcmF0b3IsXG4gICAgICAgICAgICAgICAgc2VwYXJhdG9yTG9va0FoZWFkRnVuYyxcbiAgICAgICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICAgICAgTmV4dFRlcm1pbmFsQWZ0ZXJBdExlYXN0T25lU2VwV2Fsa2VyLFxuICAgICAgICAgICAgXSwgc2VwYXJhdG9yTG9va0FoZWFkRnVuYywgQVRfTEVBU1RfT05FX1NFUF9JRFgsIHByb2RPY2N1cnJlbmNlLCBOZXh0VGVybWluYWxBZnRlckF0TGVhc3RPbmVTZXBXYWxrZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgdGhpcy5yYWlzZUVhcmx5RXhpdEV4Y2VwdGlvbihwcm9kT2NjdXJyZW5jZSwgUFJPRF9UWVBFLlJFUEVUSVRJT05fTUFOREFUT1JZX1dJVEhfU0VQQVJBVE9SLCBvcHRpb25zLkVSUl9NU0cpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1hbnlJbnRlcm5hbChwcm9kT2NjdXJyZW5jZSwgYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgY29uc3QgbGFLZXkgPSB0aGlzLmdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZChNQU5ZX0lEWCwgcHJvZE9jY3VycmVuY2UpO1xuICAgICAgICByZXR1cm4gdGhpcy5tYW55SW50ZXJuYWxMb2dpYyhwcm9kT2NjdXJyZW5jZSwgYWN0aW9uT1JNZXRob2REZWYsIGxhS2V5KTtcbiAgICB9XG4gICAgbWFueUludGVybmFsTG9naWMocHJvZE9jY3VycmVuY2UsIGFjdGlvbk9STWV0aG9kRGVmLCBrZXkpIHtcbiAgICAgICAgbGV0IGxvb2thaGVhZEZ1bmN0aW9uID0gdGhpcy5nZXRMYUZ1bmNGcm9tQ2FjaGUoa2V5KTtcbiAgICAgICAgbGV0IGFjdGlvbjtcbiAgICAgICAgaWYgKHR5cGVvZiBhY3Rpb25PUk1ldGhvZERlZiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBhY3Rpb24gPSBhY3Rpb25PUk1ldGhvZERlZi5ERUY7XG4gICAgICAgICAgICBjb25zdCBwcmVkaWNhdGUgPSBhY3Rpb25PUk1ldGhvZERlZi5HQVRFO1xuICAgICAgICAgICAgLy8gcHJlZGljYXRlIHByZXNlbnRcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yZ0xvb2thaGVhZEZ1bmN0aW9uID0gbG9va2FoZWFkRnVuY3Rpb247XG4gICAgICAgICAgICAgICAgbG9va2FoZWFkRnVuY3Rpb24gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmVkaWNhdGUuY2FsbCh0aGlzKSAmJiBvcmdMb29rYWhlYWRGdW5jdGlvbi5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhY3Rpb24gPSBhY3Rpb25PUk1ldGhvZERlZjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbm90U3R1Y2sgPSB0cnVlO1xuICAgICAgICB3aGlsZSAobG9va2FoZWFkRnVuY3Rpb24uY2FsbCh0aGlzKSA9PT0gdHJ1ZSAmJiBub3RTdHVjayA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgbm90U3R1Y2sgPSB0aGlzLmRvU2luZ2xlUmVwZXRpdGlvbihhY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFBlcmZvcm1hbmNlIG9wdGltaXphdGlvbjogXCJhdHRlbXB0SW5SZXBldGl0aW9uUmVjb3ZlcnlcIiB3aWxsIGJlIGRlZmluZWQgYXMgTk9PUCB1bmxlc3MgcmVjb3ZlcnkgaXMgZW5hYmxlZFxuICAgICAgICB0aGlzLmF0dGVtcHRJblJlcGV0aXRpb25SZWNvdmVyeSh0aGlzLm1hbnlJbnRlcm5hbCwgW3Byb2RPY2N1cnJlbmNlLCBhY3Rpb25PUk1ldGhvZERlZl0sIGxvb2thaGVhZEZ1bmN0aW9uLCBNQU5ZX0lEWCwgcHJvZE9jY3VycmVuY2UsIE5leHRUZXJtaW5hbEFmdGVyTWFueVdhbGtlciwgXG4gICAgICAgIC8vIFRoZSBub3RTdHVjayBwYXJhbWV0ZXIgaXMgb25seSByZWxldmFudCB3aGVuIFwiYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5XCJcbiAgICAgICAgLy8gaXMgaW52b2tlZCBmcm9tIG1hbnlJbnRlcm5hbCwgaW4gdGhlIE1BTllfU0VQIGNhc2UgYW5kIEFUX0xFQVNUX09ORVtfU0VQXVxuICAgICAgICAvLyBBbiBpbmZpbml0ZSBsb29wIGNhbm5vdCBvY2N1ciBhczpcbiAgICAgICAgLy8gLSBFaXRoZXIgdGhlIGxvb2thaGVhZCBpcyBndWFyYW50ZWVkIHRvIGNvbnN1bWUgc29tZXRoaW5nIChTaW5nbGUgVG9rZW4gU2VwYXJhdG9yKVxuICAgICAgICAvLyAtIEFUX0xFQVNUX09ORSBieSBkZWZpbml0aW9uIGlzIGd1YXJhbnRlZWQgdG8gY29uc3VtZSBzb21ldGhpbmcgKG9yIGVycm9yIG91dCkuXG4gICAgICAgIG5vdFN0dWNrKTtcbiAgICB9XG4gICAgbWFueVNlcEZpcnN0SW50ZXJuYWwocHJvZE9jY3VycmVuY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgbGFLZXkgPSB0aGlzLmdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZChNQU5ZX1NFUF9JRFgsIHByb2RPY2N1cnJlbmNlKTtcbiAgICAgICAgdGhpcy5tYW55U2VwRmlyc3RJbnRlcm5hbExvZ2ljKHByb2RPY2N1cnJlbmNlLCBvcHRpb25zLCBsYUtleSk7XG4gICAgfVxuICAgIG1hbnlTZXBGaXJzdEludGVybmFsTG9naWMocHJvZE9jY3VycmVuY2UsIG9wdGlvbnMsIGtleSkge1xuICAgICAgICBjb25zdCBhY3Rpb24gPSBvcHRpb25zLkRFRjtcbiAgICAgICAgY29uc3Qgc2VwYXJhdG9yID0gb3B0aW9ucy5TRVA7XG4gICAgICAgIGNvbnN0IGZpcnN0SXRlcmF0aW9uTGFGdW5jID0gdGhpcy5nZXRMYUZ1bmNGcm9tQ2FjaGUoa2V5KTtcbiAgICAgICAgLy8gMXN0IGl0ZXJhdGlvblxuICAgICAgICBpZiAoZmlyc3RJdGVyYXRpb25MYUZ1bmMuY2FsbCh0aGlzKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgYWN0aW9uLmNhbGwodGhpcyk7XG4gICAgICAgICAgICBjb25zdCBzZXBhcmF0b3JMb29rQWhlYWRGdW5jID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRva2VuTWF0Y2hlcih0aGlzLkxBKDEpLCBzZXBhcmF0b3IpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIDJuZC4ubnRoIGl0ZXJhdGlvbnNcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLnRva2VuTWF0Y2hlcih0aGlzLkxBKDEpLCBzZXBhcmF0b3IpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgLy8gbm90ZSB0aGF0IHRoaXMgQ09OU1VNRSB3aWxsIG5ldmVyIGVudGVyIHJlY292ZXJ5IGJlY2F1c2VcbiAgICAgICAgICAgICAgICAvLyB0aGUgc2VwYXJhdG9yTG9va0FoZWFkRnVuYyBjaGVja3MgdGhhdCB0aGUgc2VwYXJhdG9yIHJlYWxseSBkb2VzIGV4aXN0LlxuICAgICAgICAgICAgICAgIHRoaXMuQ09OU1VNRShzZXBhcmF0b3IpO1xuICAgICAgICAgICAgICAgIC8vIE5vIG5lZWQgZm9yIGNoZWNraW5nIGluZmluaXRlIGxvb3AgaGVyZSBkdWUgdG8gY29uc3VtaW5nIHRoZSBzZXBhcmF0b3IuXG4gICAgICAgICAgICAgICAgYWN0aW9uLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQZXJmb3JtYW5jZSBvcHRpbWl6YXRpb246IFwiYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5XCIgd2lsbCBiZSBkZWZpbmVkIGFzIE5PT1AgdW5sZXNzIHJlY292ZXJ5IGlzIGVuYWJsZWRcbiAgICAgICAgICAgIHRoaXMuYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5KHRoaXMucmVwZXRpdGlvblNlcFNlY29uZEludGVybmFsLCBbXG4gICAgICAgICAgICAgICAgcHJvZE9jY3VycmVuY2UsXG4gICAgICAgICAgICAgICAgc2VwYXJhdG9yLFxuICAgICAgICAgICAgICAgIHNlcGFyYXRvckxvb2tBaGVhZEZ1bmMsXG4gICAgICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgICAgIE5leHRUZXJtaW5hbEFmdGVyTWFueVNlcFdhbGtlcixcbiAgICAgICAgICAgIF0sIHNlcGFyYXRvckxvb2tBaGVhZEZ1bmMsIE1BTllfU0VQX0lEWCwgcHJvZE9jY3VycmVuY2UsIE5leHRUZXJtaW5hbEFmdGVyTWFueVNlcFdhbGtlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVwZXRpdGlvblNlcFNlY29uZEludGVybmFsKHByb2RPY2N1cnJlbmNlLCBzZXBhcmF0b3IsIHNlcGFyYXRvckxvb2tBaGVhZEZ1bmMsIGFjdGlvbiwgbmV4dFRlcm1pbmFsQWZ0ZXJXYWxrZXIpIHtcbiAgICAgICAgd2hpbGUgKHNlcGFyYXRvckxvb2tBaGVhZEZ1bmMoKSkge1xuICAgICAgICAgICAgLy8gbm90ZSB0aGF0IHRoaXMgQ09OU1VNRSB3aWxsIG5ldmVyIGVudGVyIHJlY292ZXJ5IGJlY2F1c2VcbiAgICAgICAgICAgIC8vIHRoZSBzZXBhcmF0b3JMb29rQWhlYWRGdW5jIGNoZWNrcyB0aGF0IHRoZSBzZXBhcmF0b3IgcmVhbGx5IGRvZXMgZXhpc3QuXG4gICAgICAgICAgICB0aGlzLkNPTlNVTUUoc2VwYXJhdG9yKTtcbiAgICAgICAgICAgIGFjdGlvbi5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHdlIGNhbiBvbmx5IGFycml2ZSB0byB0aGlzIGZ1bmN0aW9uIGFmdGVyIGFuIGVycm9yXG4gICAgICAgIC8vIGhhcyBvY2N1cnJlZCAoaGVuY2UgdGhlIG5hbWUgJ3NlY29uZCcpIHNvIHRoZSBmb2xsb3dpbmdcbiAgICAgICAgLy8gSUYgd2lsbCBhbHdheXMgYmUgZW50ZXJlZCwgaXRzIHBvc3NpYmxlIHRvIHJlbW92ZSBpdC4uLlxuICAgICAgICAvLyBob3dldmVyIGl0IGlzIGtlcHQgdG8gYXZvaWQgY29uZnVzaW9uIGFuZCBiZSBjb25zaXN0ZW50LlxuICAgICAgICAvLyBQZXJmb3JtYW5jZSBvcHRpbWl6YXRpb246IFwiYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5XCIgd2lsbCBiZSBkZWZpbmVkIGFzIE5PT1AgdW5sZXNzIHJlY292ZXJ5IGlzIGVuYWJsZWRcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgdGhpcy5hdHRlbXB0SW5SZXBldGl0aW9uUmVjb3ZlcnkodGhpcy5yZXBldGl0aW9uU2VwU2Vjb25kSW50ZXJuYWwsIFtcbiAgICAgICAgICAgIHByb2RPY2N1cnJlbmNlLFxuICAgICAgICAgICAgc2VwYXJhdG9yLFxuICAgICAgICAgICAgc2VwYXJhdG9yTG9va0FoZWFkRnVuYyxcbiAgICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICAgIG5leHRUZXJtaW5hbEFmdGVyV2Fsa2VyLFxuICAgICAgICBdLCBzZXBhcmF0b3JMb29rQWhlYWRGdW5jLCBBVF9MRUFTVF9PTkVfU0VQX0lEWCwgcHJvZE9jY3VycmVuY2UsIG5leHRUZXJtaW5hbEFmdGVyV2Fsa2VyKTtcbiAgICB9XG4gICAgZG9TaW5nbGVSZXBldGl0aW9uKGFjdGlvbikge1xuICAgICAgICBjb25zdCBiZWZvcmVJdGVyYXRpb24gPSB0aGlzLmdldExleGVyUG9zaXRpb24oKTtcbiAgICAgICAgYWN0aW9uLmNhbGwodGhpcyk7XG4gICAgICAgIGNvbnN0IGFmdGVySXRlcmF0aW9uID0gdGhpcy5nZXRMZXhlclBvc2l0aW9uKCk7XG4gICAgICAgIC8vIFRoaXMgYm9vbGVhbiB3aWxsIGluZGljYXRlIGlmIHRoaXMgcmVwZXRpdGlvbiBwcm9ncmVzc2VkXG4gICAgICAgIC8vIG9yIGlmIHdlIGFyZSBcInN0dWNrXCIgKHBvdGVudGlhbCBpbmZpbml0ZSBsb29wIGluIHRoZSByZXBldGl0aW9uKS5cbiAgICAgICAgcmV0dXJuIGFmdGVySXRlcmF0aW9uID4gYmVmb3JlSXRlcmF0aW9uO1xuICAgIH1cbiAgICBvckludGVybmFsKGFsdHNPck9wdHMsIG9jY3VycmVuY2UpIHtcbiAgICAgICAgY29uc3QgbGFLZXkgPSB0aGlzLmdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZChPUl9JRFgsIG9jY3VycmVuY2UpO1xuICAgICAgICBjb25zdCBhbHRzID0gaXNBcnJheShhbHRzT3JPcHRzKSA/IGFsdHNPck9wdHMgOiBhbHRzT3JPcHRzLkRFRjtcbiAgICAgICAgY29uc3QgbGFGdW5jID0gdGhpcy5nZXRMYUZ1bmNGcm9tQ2FjaGUobGFLZXkpO1xuICAgICAgICBjb25zdCBhbHRJZHhUb1Rha2UgPSBsYUZ1bmMuY2FsbCh0aGlzLCBhbHRzKTtcbiAgICAgICAgaWYgKGFsdElkeFRvVGFrZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBjaG9zZW5BbHRlcm5hdGl2ZSA9IGFsdHNbYWx0SWR4VG9UYWtlXTtcbiAgICAgICAgICAgIHJldHVybiBjaG9zZW5BbHRlcm5hdGl2ZS5BTFQuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJhaXNlTm9BbHRFeGNlcHRpb24ob2NjdXJyZW5jZSwgYWx0c09yT3B0cy5FUlJfTVNHKTtcbiAgICB9XG4gICAgcnVsZUZpbmFsbHlTdGF0ZVVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy5SVUxFX1NUQUNLLnBvcCgpO1xuICAgICAgICB0aGlzLlJVTEVfT0NDVVJSRU5DRV9TVEFDSy5wb3AoKTtcbiAgICAgICAgLy8gTk9PUCB3aGVuIGNzdCBpcyBkaXNhYmxlZFxuICAgICAgICB0aGlzLmNzdEZpbmFsbHlTdGF0ZVVwZGF0ZSgpO1xuICAgICAgICBpZiAodGhpcy5SVUxFX1NUQUNLLmxlbmd0aCA9PT0gMCAmJiB0aGlzLmlzQXRFbmRPZklucHV0KCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBjb25zdCBmaXJzdFJlZHVuZGFudFRvayA9IHRoaXMuTEEoMSk7XG4gICAgICAgICAgICBjb25zdCBlcnJNc2cgPSB0aGlzLmVycm9yTWVzc2FnZVByb3ZpZGVyLmJ1aWxkTm90QWxsSW5wdXRQYXJzZWRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBmaXJzdFJlZHVuZGFudDogZmlyc3RSZWR1bmRhbnRUb2ssXG4gICAgICAgICAgICAgICAgcnVsZU5hbWU6IHRoaXMuZ2V0Q3VyclJ1bGVGdWxsTmFtZSgpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLlNBVkVfRVJST1IobmV3IE5vdEFsbElucHV0UGFyc2VkRXhjZXB0aW9uKGVyck1zZywgZmlyc3RSZWR1bmRhbnRUb2spKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdWJydWxlSW50ZXJuYWwocnVsZVRvQ2FsbCwgaWR4LCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBydWxlUmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYXJncyA9IG9wdGlvbnMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuQVJHUyA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuc3VicnVsZUlkeCA9IGlkeDtcbiAgICAgICAgICAgIHJ1bGVSZXN1bHQgPSBydWxlVG9DYWxsLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgdGhpcy5jc3RQb3N0Tm9uVGVybWluYWwocnVsZVJlc3VsdCwgb3B0aW9ucyAhPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMuTEFCRUwgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5MQUJFTFxuICAgICAgICAgICAgICAgIDogcnVsZVRvQ2FsbC5ydWxlTmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gcnVsZVJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgdGhpcy5zdWJydWxlSW50ZXJuYWxFcnJvcihlLCBvcHRpb25zLCBydWxlVG9DYWxsLnJ1bGVOYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdWJydWxlSW50ZXJuYWxFcnJvcihlLCBvcHRpb25zLCBydWxlTmFtZSkge1xuICAgICAgICBpZiAoaXNSZWNvZ25pdGlvbkV4Y2VwdGlvbihlKSAmJiBlLnBhcnRpYWxDc3RSZXN1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jc3RQb3N0Tm9uVGVybWluYWwoZS5wYXJ0aWFsQ3N0UmVzdWx0LCBvcHRpb25zICE9PSB1bmRlZmluZWQgJiYgb3B0aW9ucy5MQUJFTCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLkxBQkVMXG4gICAgICAgICAgICAgICAgOiBydWxlTmFtZSk7XG4gICAgICAgICAgICBkZWxldGUgZS5wYXJ0aWFsQ3N0UmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIGNvbnN1bWVJbnRlcm5hbCh0b2tUeXBlLCBpZHgsIG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IGNvbnN1bWVkVG9rZW47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0VG9rZW4gPSB0aGlzLkxBKDEpO1xuICAgICAgICAgICAgaWYgKHRoaXMudG9rZW5NYXRjaGVyKG5leHRUb2tlbiwgdG9rVHlwZSkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVUb2tlbigpO1xuICAgICAgICAgICAgICAgIGNvbnN1bWVkVG9rZW4gPSBuZXh0VG9rZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVJbnRlcm5hbEVycm9yKHRva1R5cGUsIG5leHRUb2tlbiwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVGcm9tQ29uc3VtcHRpb24pIHtcbiAgICAgICAgICAgIGNvbnN1bWVkVG9rZW4gPSB0aGlzLmNvbnN1bWVJbnRlcm5hbFJlY292ZXJ5KHRva1R5cGUsIGlkeCwgZUZyb21Db25zdW1wdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jc3RQb3N0VGVybWluYWwob3B0aW9ucyAhPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMuTEFCRUwgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBvcHRpb25zLkxBQkVMXG4gICAgICAgICAgICA6IHRva1R5cGUubmFtZSwgY29uc3VtZWRUb2tlbik7XG4gICAgICAgIHJldHVybiBjb25zdW1lZFRva2VuO1xuICAgIH1cbiAgICBjb25zdW1lSW50ZXJuYWxFcnJvcih0b2tUeXBlLCBuZXh0VG9rZW4sIG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IG1zZztcbiAgICAgICAgY29uc3QgcHJldmlvdXNUb2tlbiA9IHRoaXMuTEEoMCk7XG4gICAgICAgIGlmIChvcHRpb25zICE9PSB1bmRlZmluZWQgJiYgb3B0aW9ucy5FUlJfTVNHKSB7XG4gICAgICAgICAgICBtc2cgPSBvcHRpb25zLkVSUl9NU0c7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtc2cgPSB0aGlzLmVycm9yTWVzc2FnZVByb3ZpZGVyLmJ1aWxkTWlzbWF0Y2hUb2tlbk1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB0b2tUeXBlLFxuICAgICAgICAgICAgICAgIGFjdHVhbDogbmV4dFRva2VuLFxuICAgICAgICAgICAgICAgIHByZXZpb3VzOiBwcmV2aW91c1Rva2VuLFxuICAgICAgICAgICAgICAgIHJ1bGVOYW1lOiB0aGlzLmdldEN1cnJSdWxlRnVsbE5hbWUoKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IHRoaXMuU0FWRV9FUlJPUihuZXcgTWlzbWF0Y2hlZFRva2VuRXhjZXB0aW9uKG1zZywgbmV4dFRva2VuLCBwcmV2aW91c1Rva2VuKSk7XG4gICAgfVxuICAgIGNvbnN1bWVJbnRlcm5hbFJlY292ZXJ5KHRva1R5cGUsIGlkeCwgZUZyb21Db25zdW1wdGlvbikge1xuICAgICAgICAvLyBubyByZWNvdmVyeSBhbGxvd2VkIGR1cmluZyBiYWNrdHJhY2tpbmcsIG90aGVyd2lzZSBiYWNrdHJhY2tpbmcgbWF5IHJlY292ZXIgaW52YWxpZCBzeW50YXggYW5kIGFjY2VwdCBpdFxuICAgICAgICAvLyBidXQgdGhlIG9yaWdpbmFsIHN5bnRheCBjb3VsZCBoYXZlIGJlZW4gcGFyc2VkIHN1Y2Nlc3NmdWxseSB3aXRob3V0IGFueSBiYWNrdHJhY2tpbmcgKyByZWNvdmVyeVxuICAgICAgICBpZiAodGhpcy5yZWNvdmVyeUVuYWJsZWQgJiZcbiAgICAgICAgICAgIC8vIFRPRE86IG1vcmUgcm9idXN0IGNoZWNraW5nIG9mIHRoZSBleGNlcHRpb24gdHlwZS4gUGVyaGFwcyBUeXBlc2NyaXB0IGV4dGVuZGluZyBleHByZXNzaW9ucz9cbiAgICAgICAgICAgIGVGcm9tQ29uc3VtcHRpb24ubmFtZSA9PT0gXCJNaXNtYXRjaGVkVG9rZW5FeGNlcHRpb25cIiAmJlxuICAgICAgICAgICAgIXRoaXMuaXNCYWNrVHJhY2tpbmcoKSkge1xuICAgICAgICAgICAgY29uc3QgZm9sbG93cyA9IHRoaXMuZ2V0Rm9sbG93c0ZvckluUnVsZVJlY292ZXJ5KHRva1R5cGUsIGlkeCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRyeUluUnVsZVJlY292ZXJ5KHRva1R5cGUsIGZvbGxvd3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVGcm9tSW5SdWxlUmVjb3ZlcnkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZUZyb21JblJ1bGVSZWNvdmVyeS5uYW1lID09PSBJTl9SVUxFX1JFQ09WRVJZX0VYQ0VQVElPTikge1xuICAgICAgICAgICAgICAgICAgICAvLyBmYWlsZWQgaW4gUnVsZVJlY292ZXJ5LlxuICAgICAgICAgICAgICAgICAgICAvLyB0aHJvdyB0aGUgb3JpZ2luYWwgZXJyb3IgaW4gb3JkZXIgdG8gdHJpZ2dlciByZVN5bmMgZXJyb3IgcmVjb3ZlcnlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZUZyb21Db25zdW1wdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVGcm9tSW5SdWxlUmVjb3Zlcnk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgZUZyb21Db25zdW1wdGlvbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzYXZlUmVjb2dTdGF0ZSgpIHtcbiAgICAgICAgLy8gZXJyb3JzIGlzIGEgZ2V0dGVyIHdoaWNoIHdpbGwgY2xvbmUgdGhlIGVycm9ycyBhcnJheVxuICAgICAgICBjb25zdCBzYXZlZEVycm9ycyA9IHRoaXMuZXJyb3JzO1xuICAgICAgICBjb25zdCBzYXZlZFJ1bGVTdGFjayA9IGNsb25lKHRoaXMuUlVMRV9TVEFDSyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlcnJvcnM6IHNhdmVkRXJyb3JzLFxuICAgICAgICAgICAgbGV4ZXJTdGF0ZTogdGhpcy5leHBvcnRMZXhlclN0YXRlKCksXG4gICAgICAgICAgICBSVUxFX1NUQUNLOiBzYXZlZFJ1bGVTdGFjayxcbiAgICAgICAgICAgIENTVF9TVEFDSzogdGhpcy5DU1RfU1RBQ0ssXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJlbG9hZFJlY29nU3RhdGUobmV3U3RhdGUpIHtcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBuZXdTdGF0ZS5lcnJvcnM7XG4gICAgICAgIHRoaXMuaW1wb3J0TGV4ZXJTdGF0ZShuZXdTdGF0ZS5sZXhlclN0YXRlKTtcbiAgICAgICAgdGhpcy5SVUxFX1NUQUNLID0gbmV3U3RhdGUuUlVMRV9TVEFDSztcbiAgICB9XG4gICAgcnVsZUludm9jYXRpb25TdGF0ZVVwZGF0ZShzaG9ydE5hbWUsIGZ1bGxOYW1lLCBpZHhJbkNhbGxpbmdSdWxlKSB7XG4gICAgICAgIHRoaXMuUlVMRV9PQ0NVUlJFTkNFX1NUQUNLLnB1c2goaWR4SW5DYWxsaW5nUnVsZSk7XG4gICAgICAgIHRoaXMuUlVMRV9TVEFDSy5wdXNoKHNob3J0TmFtZSk7XG4gICAgICAgIC8vIE5PT1Agd2hlbiBjc3QgaXMgZGlzYWJsZWRcbiAgICAgICAgdGhpcy5jc3RJbnZvY2F0aW9uU3RhdGVVcGRhdGUoZnVsbE5hbWUpO1xuICAgIH1cbiAgICBpc0JhY2tUcmFja2luZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNCYWNrVHJhY2tpbmdTdGFjay5sZW5ndGggIT09IDA7XG4gICAgfVxuICAgIGdldEN1cnJSdWxlRnVsbE5hbWUoKSB7XG4gICAgICAgIGNvbnN0IHNob3J0TmFtZSA9IHRoaXMuZ2V0TGFzdEV4cGxpY2l0UnVsZVNob3J0TmFtZSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5zaG9ydFJ1bGVOYW1lVG9GdWxsW3Nob3J0TmFtZV07XG4gICAgfVxuICAgIHNob3J0UnVsZU5hbWVUb0Z1bGxOYW1lKHNob3J0TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaG9ydFJ1bGVOYW1lVG9GdWxsW3Nob3J0TmFtZV07XG4gICAgfVxuICAgIGlzQXRFbmRPZklucHV0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b2tlbk1hdGNoZXIodGhpcy5MQSgxKSwgRU9GKTtcbiAgICB9XG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMucmVzZXRMZXhlclN0YXRlKCk7XG4gICAgICAgIHRoaXMuc3VicnVsZUlkeCA9IDA7XG4gICAgICAgIHRoaXMuaXNCYWNrVHJhY2tpbmdTdGFjayA9IFtdO1xuICAgICAgICB0aGlzLmVycm9ycyA9IFtdO1xuICAgICAgICB0aGlzLlJVTEVfU1RBQ0sgPSBbXTtcbiAgICAgICAgLy8gVE9ETzogZXh0cmFjdCBhIHNwZWNpZmljIHJlc2V0IGZvciBUcmVlQnVpbGRlciB0cmFpdFxuICAgICAgICB0aGlzLkNTVF9TVEFDSyA9IFtdO1xuICAgICAgICB0aGlzLlJVTEVfT0NDVVJSRU5DRV9TVEFDSyA9IFtdO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlY29nbml6ZXJfZW5naW5lLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/recognizer_engine.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/recoverable.js":
/*!****************************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/parse/parser/traits/recoverable.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EOF_FOLLOW_KEY: () => (/* binding */ EOF_FOLLOW_KEY),\n/* harmony export */   IN_RULE_RECOVERY_EXCEPTION: () => (/* binding */ IN_RULE_RECOVERY_EXCEPTION),\n/* harmony export */   InRuleRecoveryException: () => (/* binding */ InRuleRecoveryException),\n/* harmony export */   Recoverable: () => (/* binding */ Recoverable),\n/* harmony export */   attemptInRepetitionRecovery: () => (/* binding */ attemptInRepetitionRecovery)\n/* harmony export */ });\n/* harmony import */ var _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../scan/tokens_public.js */ \"(ssr)/./node_modules/chevrotain/lib/src/scan/tokens_public.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/has.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/dropRight.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isEmpty.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/find.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/includes.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/map.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/flatten.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/clone.js\");\n/* harmony import */ var _exceptions_public_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../exceptions_public.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/exceptions_public.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../constants.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/constants.js\");\n/* harmony import */ var _parser_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../parser.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/parser/parser.js\");\n\n\n\n\n\nconst EOF_FOLLOW_KEY = {};\nconst IN_RULE_RECOVERY_EXCEPTION = \"InRuleRecoveryException\";\nclass InRuleRecoveryException extends Error {\n    constructor(message) {\n        super(message);\n        this.name = IN_RULE_RECOVERY_EXCEPTION;\n    }\n}\n/**\n * This trait is responsible for the error recovery and fault tolerant logic\n */\nclass Recoverable {\n    initRecoverable(config) {\n        this.firstAfterRepMap = {};\n        this.resyncFollows = {};\n        this.recoveryEnabled = (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config, \"recoveryEnabled\")\n            ? config.recoveryEnabled // assumes end user provides the correct config value/type\n            : _parser_js__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_PARSER_CONFIG.recoveryEnabled;\n        // performance optimization, NOOP will be inlined which\n        // effectively means that this optional feature does not exist\n        // when not used.\n        if (this.recoveryEnabled) {\n            this.attemptInRepetitionRecovery = attemptInRepetitionRecovery;\n        }\n    }\n    getTokenToInsert(tokType) {\n        const tokToInsert = (0,_scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_0__.createTokenInstance)(tokType, \"\", NaN, NaN, NaN, NaN, NaN, NaN);\n        tokToInsert.isInsertedInRecovery = true;\n        return tokToInsert;\n    }\n    canTokenTypeBeInsertedInRecovery(tokType) {\n        return true;\n    }\n    canTokenTypeBeDeletedInRecovery(tokType) {\n        return true;\n    }\n    tryInRepetitionRecovery(grammarRule, grammarRuleArgs, lookAheadFunc, expectedTokType) {\n        // TODO: can the resyncTokenType be cached?\n        const reSyncTokType = this.findReSyncTokenType();\n        const savedLexerState = this.exportLexerState();\n        const resyncedTokens = [];\n        let passedResyncPoint = false;\n        const nextTokenWithoutResync = this.LA(1);\n        let currToken = this.LA(1);\n        const generateErrorMessage = () => {\n            const previousToken = this.LA(0);\n            // we are preemptively re-syncing before an error has been detected, therefor we must reproduce\n            // the error that would have been thrown\n            const msg = this.errorMessageProvider.buildMismatchTokenMessage({\n                expected: expectedTokType,\n                actual: nextTokenWithoutResync,\n                previous: previousToken,\n                ruleName: this.getCurrRuleFullName(),\n            });\n            const error = new _exceptions_public_js__WEBPACK_IMPORTED_MODULE_1__.MismatchedTokenException(msg, nextTokenWithoutResync, this.LA(0));\n            // the first token here will be the original cause of the error, this is not part of the resyncedTokens property.\n            error.resyncedTokens = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(resyncedTokens);\n            this.SAVE_ERROR(error);\n        };\n        while (!passedResyncPoint) {\n            // re-synced to a point where we can safely exit the repetition/\n            if (this.tokenMatcher(currToken, expectedTokType)) {\n                generateErrorMessage();\n                return; // must return here to avoid reverting the inputIdx\n            }\n            else if (lookAheadFunc.call(this)) {\n                // we skipped enough tokens so we can resync right back into another iteration of the repetition grammar rule\n                generateErrorMessage();\n                // recursive invocation in other to support multiple re-syncs in the same top level repetition grammar rule\n                grammarRule.apply(this, grammarRuleArgs);\n                return; // must return here to avoid reverting the inputIdx\n            }\n            else if (this.tokenMatcher(currToken, reSyncTokType)) {\n                passedResyncPoint = true;\n            }\n            else {\n                currToken = this.SKIP_TOKEN();\n                this.addToResyncTokens(currToken, resyncedTokens);\n            }\n        }\n        // we were unable to find a CLOSER point to resync inside the Repetition, reset the state.\n        // The parsing exception we were trying to prevent will happen in the NEXT parsing step. it may be handled by\n        // \"between rules\" resync recovery later in the flow.\n        this.importLexerState(savedLexerState);\n    }\n    shouldInRepetitionRecoveryBeTried(expectTokAfterLastMatch, nextTokIdx, notStuck) {\n        // Edge case of arriving from a MANY repetition which is stuck\n        // Attempting recovery in this case could cause an infinite loop\n        if (notStuck === false) {\n            return false;\n        }\n        // no need to recover, next token is what we expect...\n        if (this.tokenMatcher(this.LA(1), expectTokAfterLastMatch)) {\n            return false;\n        }\n        // error recovery is disabled during backtracking as it can make the parser ignore a valid grammar path\n        // and prefer some backtracking path that includes recovered errors.\n        if (this.isBackTracking()) {\n            return false;\n        }\n        // if we can perform inRule recovery (single token insertion or deletion) we always prefer that recovery algorithm\n        // because if it works, it makes the least amount of changes to the input stream (greedy algorithm)\n        //noinspection RedundantIfStatementJS\n        if (this.canPerformInRuleRecovery(expectTokAfterLastMatch, this.getFollowsForInRuleRecovery(expectTokAfterLastMatch, nextTokIdx))) {\n            return false;\n        }\n        return true;\n    }\n    // Error Recovery functionality\n    getFollowsForInRuleRecovery(tokType, tokIdxInRule) {\n        const grammarPath = this.getCurrentGrammarPath(tokType, tokIdxInRule);\n        const follows = this.getNextPossibleTokenTypes(grammarPath);\n        return follows;\n    }\n    tryInRuleRecovery(expectedTokType, follows) {\n        if (this.canRecoverWithSingleTokenInsertion(expectedTokType, follows)) {\n            const tokToInsert = this.getTokenToInsert(expectedTokType);\n            return tokToInsert;\n        }\n        if (this.canRecoverWithSingleTokenDeletion(expectedTokType)) {\n            const nextTok = this.SKIP_TOKEN();\n            this.consumeToken();\n            return nextTok;\n        }\n        throw new InRuleRecoveryException(\"sad sad panda\");\n    }\n    canPerformInRuleRecovery(expectedToken, follows) {\n        return (this.canRecoverWithSingleTokenInsertion(expectedToken, follows) ||\n            this.canRecoverWithSingleTokenDeletion(expectedToken));\n    }\n    canRecoverWithSingleTokenInsertion(expectedTokType, follows) {\n        if (!this.canTokenTypeBeInsertedInRecovery(expectedTokType)) {\n            return false;\n        }\n        // must know the possible following tokens to perform single token insertion\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(follows)) {\n            return false;\n        }\n        const mismatchedTok = this.LA(1);\n        const isMisMatchedTokInFollows = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(follows, (possibleFollowsTokType) => {\n            return this.tokenMatcher(mismatchedTok, possibleFollowsTokType);\n        }) !== undefined;\n        return isMisMatchedTokInFollows;\n    }\n    canRecoverWithSingleTokenDeletion(expectedTokType) {\n        if (!this.canTokenTypeBeDeletedInRecovery(expectedTokType)) {\n            return false;\n        }\n        const isNextTokenWhatIsExpected = this.tokenMatcher(this.LA(2), expectedTokType);\n        return isNextTokenWhatIsExpected;\n    }\n    isInCurrentRuleReSyncSet(tokenTypeIdx) {\n        const followKey = this.getCurrFollowKey();\n        const currentRuleReSyncSet = this.getFollowSetFromFollowKey(followKey);\n        return (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(currentRuleReSyncSet, tokenTypeIdx);\n    }\n    findReSyncTokenType() {\n        const allPossibleReSyncTokTypes = this.flattenFollowSet();\n        // this loop will always terminate as EOF is always in the follow stack and also always (virtually) in the input\n        let nextToken = this.LA(1);\n        let k = 2;\n        while (true) {\n            const foundMatch = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(allPossibleReSyncTokTypes, (resyncTokType) => {\n                const canMatch = (0,_scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_0__.tokenMatcher)(nextToken, resyncTokType);\n                return canMatch;\n            });\n            if (foundMatch !== undefined) {\n                return foundMatch;\n            }\n            nextToken = this.LA(k);\n            k++;\n        }\n    }\n    getCurrFollowKey() {\n        // the length is at least one as we always add the ruleName to the stack before invoking the rule.\n        if (this.RULE_STACK.length === 1) {\n            return EOF_FOLLOW_KEY;\n        }\n        const currRuleShortName = this.getLastExplicitRuleShortName();\n        const currRuleIdx = this.getLastExplicitRuleOccurrenceIndex();\n        const prevRuleShortName = this.getPreviousExplicitRuleShortName();\n        return {\n            ruleName: this.shortRuleNameToFullName(currRuleShortName),\n            idxInCallingRule: currRuleIdx,\n            inRule: this.shortRuleNameToFullName(prevRuleShortName),\n        };\n    }\n    buildFullFollowKeyStack() {\n        const explicitRuleStack = this.RULE_STACK;\n        const explicitOccurrenceStack = this.RULE_OCCURRENCE_STACK;\n        return (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(explicitRuleStack, (ruleName, idx) => {\n            if (idx === 0) {\n                return EOF_FOLLOW_KEY;\n            }\n            return {\n                ruleName: this.shortRuleNameToFullName(ruleName),\n                idxInCallingRule: explicitOccurrenceStack[idx],\n                inRule: this.shortRuleNameToFullName(explicitRuleStack[idx - 1]),\n            };\n        });\n    }\n    flattenFollowSet() {\n        const followStack = (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(this.buildFullFollowKeyStack(), (currKey) => {\n            return this.getFollowSetFromFollowKey(currKey);\n        });\n        return (0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(followStack);\n    }\n    getFollowSetFromFollowKey(followKey) {\n        if (followKey === EOF_FOLLOW_KEY) {\n            return [_scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_0__.EOF];\n        }\n        const followName = followKey.ruleName + followKey.idxInCallingRule + _constants_js__WEBPACK_IMPORTED_MODULE_2__.IN + followKey.inRule;\n        return this.resyncFollows[followName];\n    }\n    // It does not make any sense to include a virtual EOF token in the list of resynced tokens\n    // as EOF does not really exist and thus does not contain any useful information (line/column numbers)\n    addToResyncTokens(token, resyncTokens) {\n        if (!this.tokenMatcher(token, _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_0__.EOF)) {\n            resyncTokens.push(token);\n        }\n        return resyncTokens;\n    }\n    reSyncTo(tokType) {\n        const resyncedTokens = [];\n        let nextTok = this.LA(1);\n        while (this.tokenMatcher(nextTok, tokType) === false) {\n            nextTok = this.SKIP_TOKEN();\n            this.addToResyncTokens(nextTok, resyncedTokens);\n        }\n        // the last token is not part of the error.\n        return (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(resyncedTokens);\n    }\n    attemptInRepetitionRecovery(prodFunc, args, lookaheadFunc, dslMethodIdx, prodOccurrence, nextToksWalker, notStuck) {\n        // by default this is a NO-OP\n        // The actual implementation is with the function(not method) below\n    }\n    getCurrentGrammarPath(tokType, tokIdxInRule) {\n        const pathRuleStack = this.getHumanReadableRuleStack();\n        const pathOccurrenceStack = (0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(this.RULE_OCCURRENCE_STACK);\n        const grammarPath = {\n            ruleStack: pathRuleStack,\n            occurrenceStack: pathOccurrenceStack,\n            lastTok: tokType,\n            lastTokOccurrence: tokIdxInRule,\n        };\n        return grammarPath;\n    }\n    getHumanReadableRuleStack() {\n        return (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(this.RULE_STACK, (currShortName) => this.shortRuleNameToFullName(currShortName));\n    }\n}\nfunction attemptInRepetitionRecovery(prodFunc, args, lookaheadFunc, dslMethodIdx, prodOccurrence, nextToksWalker, notStuck) {\n    const key = this.getKeyForAutomaticLookahead(dslMethodIdx, prodOccurrence);\n    let firstAfterRepInfo = this.firstAfterRepMap[key];\n    if (firstAfterRepInfo === undefined) {\n        const currRuleName = this.getCurrRuleFullName();\n        const ruleGrammar = this.getGAstProductions()[currRuleName];\n        const walker = new nextToksWalker(ruleGrammar, prodOccurrence);\n        firstAfterRepInfo = walker.startWalking();\n        this.firstAfterRepMap[key] = firstAfterRepInfo;\n    }\n    let expectTokAfterLastMatch = firstAfterRepInfo.token;\n    let nextTokIdx = firstAfterRepInfo.occurrence;\n    const isEndOfRule = firstAfterRepInfo.isEndOfRule;\n    // special edge case of a TOP most repetition after which the input should END.\n    // this will force an attempt for inRule recovery in that scenario.\n    if (this.RULE_STACK.length === 1 &&\n        isEndOfRule &&\n        expectTokAfterLastMatch === undefined) {\n        expectTokAfterLastMatch = _scan_tokens_public_js__WEBPACK_IMPORTED_MODULE_0__.EOF;\n        nextTokIdx = 1;\n    }\n    // We don't have anything to re-sync to...\n    // this condition was extracted from `shouldInRepetitionRecoveryBeTried` to act as a type-guard\n    if (expectTokAfterLastMatch === undefined || nextTokIdx === undefined) {\n        return;\n    }\n    if (this.shouldInRepetitionRecoveryBeTried(expectTokAfterLastMatch, nextTokIdx, notStuck)) {\n        // TODO: performance optimization: instead of passing the original args here, we modify\n        // the args param (or create a new one) and make sure the lookahead func is explicitly provided\n        // to avoid searching the cache for it once more.\n        this.tryInRepetitionRecovery(prodFunc, args, lookaheadFunc, expectTokAfterLastMatch);\n    }\n}\n//# sourceMappingURL=recoverable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvcmVjb3ZlcmFibGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBeUY7QUFDQztBQUNwQjtBQUM5QjtBQUNhO0FBQzlDO0FBQ0E7QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixxREFBRztBQUNsQztBQUNBLGNBQWMsNkRBQXFCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsMkVBQW1CO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsOEJBQThCLDJFQUF3QjtBQUN0RDtBQUNBLG1DQUFtQyxxREFBUztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxREFBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMscURBQUk7QUFDN0M7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxxREFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixxREFBSTtBQUNuQyxpQ0FBaUMsb0VBQVk7QUFDN0M7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxxREFBRztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSw0QkFBNEIscURBQUc7QUFDL0I7QUFDQSxTQUFTO0FBQ1QsZUFBZSxzREFBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsdURBQUc7QUFDdkI7QUFDQSw2RUFBNkUsNkNBQUU7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyx1REFBRztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHFEQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHNEQUFLO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUscURBQUc7QUFDbEI7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyx1REFBRztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXJtYWlkLWRpYWdyYW0tZWRpdG9yLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy9wYXJzZS9wYXJzZXIvdHJhaXRzL3JlY292ZXJhYmxlLmpzP2YyYTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlVG9rZW5JbnN0YW5jZSwgRU9GLCB0b2tlbk1hdGNoZXIsIH0gZnJvbSBcIi4uLy4uLy4uL3NjYW4vdG9rZW5zX3B1YmxpYy5qc1wiO1xuaW1wb3J0IHsgY2xvbmUsIGRyb3BSaWdodCwgZmluZCwgZmxhdHRlbiwgaGFzLCBpbmNsdWRlcywgaXNFbXB0eSwgbWFwLCB9IGZyb20gXCJsb2Rhc2gtZXNcIjtcbmltcG9ydCB7IE1pc21hdGNoZWRUb2tlbkV4Y2VwdGlvbiB9IGZyb20gXCIuLi8uLi9leGNlcHRpb25zX3B1YmxpYy5qc1wiO1xuaW1wb3J0IHsgSU4gfSBmcm9tIFwiLi4vLi4vY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgeyBERUZBVUxUX1BBUlNFUl9DT05GSUcgfSBmcm9tIFwiLi4vcGFyc2VyLmpzXCI7XG5leHBvcnQgY29uc3QgRU9GX0ZPTExPV19LRVkgPSB7fTtcbmV4cG9ydCBjb25zdCBJTl9SVUxFX1JFQ09WRVJZX0VYQ0VQVElPTiA9IFwiSW5SdWxlUmVjb3ZlcnlFeGNlcHRpb25cIjtcbmV4cG9ydCBjbGFzcyBJblJ1bGVSZWNvdmVyeUV4Y2VwdGlvbiBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm5hbWUgPSBJTl9SVUxFX1JFQ09WRVJZX0VYQ0VQVElPTjtcbiAgICB9XG59XG4vKipcbiAqIFRoaXMgdHJhaXQgaXMgcmVzcG9uc2libGUgZm9yIHRoZSBlcnJvciByZWNvdmVyeSBhbmQgZmF1bHQgdG9sZXJhbnQgbG9naWNcbiAqL1xuZXhwb3J0IGNsYXNzIFJlY292ZXJhYmxlIHtcbiAgICBpbml0UmVjb3ZlcmFibGUoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuZmlyc3RBZnRlclJlcE1hcCA9IHt9O1xuICAgICAgICB0aGlzLnJlc3luY0ZvbGxvd3MgPSB7fTtcbiAgICAgICAgdGhpcy5yZWNvdmVyeUVuYWJsZWQgPSBoYXMoY29uZmlnLCBcInJlY292ZXJ5RW5hYmxlZFwiKVxuICAgICAgICAgICAgPyBjb25maWcucmVjb3ZlcnlFbmFibGVkIC8vIGFzc3VtZXMgZW5kIHVzZXIgcHJvdmlkZXMgdGhlIGNvcnJlY3QgY29uZmlnIHZhbHVlL3R5cGVcbiAgICAgICAgICAgIDogREVGQVVMVF9QQVJTRVJfQ09ORklHLnJlY292ZXJ5RW5hYmxlZDtcbiAgICAgICAgLy8gcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uLCBOT09QIHdpbGwgYmUgaW5saW5lZCB3aGljaFxuICAgICAgICAvLyBlZmZlY3RpdmVseSBtZWFucyB0aGF0IHRoaXMgb3B0aW9uYWwgZmVhdHVyZSBkb2VzIG5vdCBleGlzdFxuICAgICAgICAvLyB3aGVuIG5vdCB1c2VkLlxuICAgICAgICBpZiAodGhpcy5yZWNvdmVyeUVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5ID0gYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5O1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFRva2VuVG9JbnNlcnQodG9rVHlwZSkge1xuICAgICAgICBjb25zdCB0b2tUb0luc2VydCA9IGNyZWF0ZVRva2VuSW5zdGFuY2UodG9rVHlwZSwgXCJcIiwgTmFOLCBOYU4sIE5hTiwgTmFOLCBOYU4sIE5hTik7XG4gICAgICAgIHRva1RvSW5zZXJ0LmlzSW5zZXJ0ZWRJblJlY292ZXJ5ID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRva1RvSW5zZXJ0O1xuICAgIH1cbiAgICBjYW5Ub2tlblR5cGVCZUluc2VydGVkSW5SZWNvdmVyeSh0b2tUeXBlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjYW5Ub2tlblR5cGVCZURlbGV0ZWRJblJlY292ZXJ5KHRva1R5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHRyeUluUmVwZXRpdGlvblJlY292ZXJ5KGdyYW1tYXJSdWxlLCBncmFtbWFyUnVsZUFyZ3MsIGxvb2tBaGVhZEZ1bmMsIGV4cGVjdGVkVG9rVHlwZSkge1xuICAgICAgICAvLyBUT0RPOiBjYW4gdGhlIHJlc3luY1Rva2VuVHlwZSBiZSBjYWNoZWQ/XG4gICAgICAgIGNvbnN0IHJlU3luY1Rva1R5cGUgPSB0aGlzLmZpbmRSZVN5bmNUb2tlblR5cGUoKTtcbiAgICAgICAgY29uc3Qgc2F2ZWRMZXhlclN0YXRlID0gdGhpcy5leHBvcnRMZXhlclN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHJlc3luY2VkVG9rZW5zID0gW107XG4gICAgICAgIGxldCBwYXNzZWRSZXN5bmNQb2ludCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBuZXh0VG9rZW5XaXRob3V0UmVzeW5jID0gdGhpcy5MQSgxKTtcbiAgICAgICAgbGV0IGN1cnJUb2tlbiA9IHRoaXMuTEEoMSk7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRlRXJyb3JNZXNzYWdlID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNUb2tlbiA9IHRoaXMuTEEoMCk7XG4gICAgICAgICAgICAvLyB3ZSBhcmUgcHJlZW1wdGl2ZWx5IHJlLXN5bmNpbmcgYmVmb3JlIGFuIGVycm9yIGhhcyBiZWVuIGRldGVjdGVkLCB0aGVyZWZvciB3ZSBtdXN0IHJlcHJvZHVjZVxuICAgICAgICAgICAgLy8gdGhlIGVycm9yIHRoYXQgd291bGQgaGF2ZSBiZWVuIHRocm93blxuICAgICAgICAgICAgY29uc3QgbXNnID0gdGhpcy5lcnJvck1lc3NhZ2VQcm92aWRlci5idWlsZE1pc21hdGNoVG9rZW5NZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogZXhwZWN0ZWRUb2tUeXBlLFxuICAgICAgICAgICAgICAgIGFjdHVhbDogbmV4dFRva2VuV2l0aG91dFJlc3luYyxcbiAgICAgICAgICAgICAgICBwcmV2aW91czogcHJldmlvdXNUb2tlbixcbiAgICAgICAgICAgICAgICBydWxlTmFtZTogdGhpcy5nZXRDdXJyUnVsZUZ1bGxOYW1lKCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IE1pc21hdGNoZWRUb2tlbkV4Y2VwdGlvbihtc2csIG5leHRUb2tlbldpdGhvdXRSZXN5bmMsIHRoaXMuTEEoMCkpO1xuICAgICAgICAgICAgLy8gdGhlIGZpcnN0IHRva2VuIGhlcmUgd2lsbCBiZSB0aGUgb3JpZ2luYWwgY2F1c2Ugb2YgdGhlIGVycm9yLCB0aGlzIGlzIG5vdCBwYXJ0IG9mIHRoZSByZXN5bmNlZFRva2VucyBwcm9wZXJ0eS5cbiAgICAgICAgICAgIGVycm9yLnJlc3luY2VkVG9rZW5zID0gZHJvcFJpZ2h0KHJlc3luY2VkVG9rZW5zKTtcbiAgICAgICAgICAgIHRoaXMuU0FWRV9FUlJPUihlcnJvcik7XG4gICAgICAgIH07XG4gICAgICAgIHdoaWxlICghcGFzc2VkUmVzeW5jUG9pbnQpIHtcbiAgICAgICAgICAgIC8vIHJlLXN5bmNlZCB0byBhIHBvaW50IHdoZXJlIHdlIGNhbiBzYWZlbHkgZXhpdCB0aGUgcmVwZXRpdGlvbi9cbiAgICAgICAgICAgIGlmICh0aGlzLnRva2VuTWF0Y2hlcihjdXJyVG9rZW4sIGV4cGVjdGVkVG9rVHlwZSkpIHtcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZUVycm9yTWVzc2FnZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gbXVzdCByZXR1cm4gaGVyZSB0byBhdm9pZCByZXZlcnRpbmcgdGhlIGlucHV0SWR4XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsb29rQWhlYWRGdW5jLmNhbGwodGhpcykpIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBza2lwcGVkIGVub3VnaCB0b2tlbnMgc28gd2UgY2FuIHJlc3luYyByaWdodCBiYWNrIGludG8gYW5vdGhlciBpdGVyYXRpb24gb2YgdGhlIHJlcGV0aXRpb24gZ3JhbW1hciBydWxlXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVFcnJvck1lc3NhZ2UoKTtcbiAgICAgICAgICAgICAgICAvLyByZWN1cnNpdmUgaW52b2NhdGlvbiBpbiBvdGhlciB0byBzdXBwb3J0IG11bHRpcGxlIHJlLXN5bmNzIGluIHRoZSBzYW1lIHRvcCBsZXZlbCByZXBldGl0aW9uIGdyYW1tYXIgcnVsZVxuICAgICAgICAgICAgICAgIGdyYW1tYXJSdWxlLmFwcGx5KHRoaXMsIGdyYW1tYXJSdWxlQXJncyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBtdXN0IHJldHVybiBoZXJlIHRvIGF2b2lkIHJldmVydGluZyB0aGUgaW5wdXRJZHhcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMudG9rZW5NYXRjaGVyKGN1cnJUb2tlbiwgcmVTeW5jVG9rVHlwZSkpIHtcbiAgICAgICAgICAgICAgICBwYXNzZWRSZXN5bmNQb2ludCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdXJyVG9rZW4gPSB0aGlzLlNLSVBfVE9LRU4oKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFRvUmVzeW5jVG9rZW5zKGN1cnJUb2tlbiwgcmVzeW5jZWRUb2tlbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHdlIHdlcmUgdW5hYmxlIHRvIGZpbmQgYSBDTE9TRVIgcG9pbnQgdG8gcmVzeW5jIGluc2lkZSB0aGUgUmVwZXRpdGlvbiwgcmVzZXQgdGhlIHN0YXRlLlxuICAgICAgICAvLyBUaGUgcGFyc2luZyBleGNlcHRpb24gd2Ugd2VyZSB0cnlpbmcgdG8gcHJldmVudCB3aWxsIGhhcHBlbiBpbiB0aGUgTkVYVCBwYXJzaW5nIHN0ZXAuIGl0IG1heSBiZSBoYW5kbGVkIGJ5XG4gICAgICAgIC8vIFwiYmV0d2VlbiBydWxlc1wiIHJlc3luYyByZWNvdmVyeSBsYXRlciBpbiB0aGUgZmxvdy5cbiAgICAgICAgdGhpcy5pbXBvcnRMZXhlclN0YXRlKHNhdmVkTGV4ZXJTdGF0ZSk7XG4gICAgfVxuICAgIHNob3VsZEluUmVwZXRpdGlvblJlY292ZXJ5QmVUcmllZChleHBlY3RUb2tBZnRlckxhc3RNYXRjaCwgbmV4dFRva0lkeCwgbm90U3R1Y2spIHtcbiAgICAgICAgLy8gRWRnZSBjYXNlIG9mIGFycml2aW5nIGZyb20gYSBNQU5ZIHJlcGV0aXRpb24gd2hpY2ggaXMgc3R1Y2tcbiAgICAgICAgLy8gQXR0ZW1wdGluZyByZWNvdmVyeSBpbiB0aGlzIGNhc2UgY291bGQgY2F1c2UgYW4gaW5maW5pdGUgbG9vcFxuICAgICAgICBpZiAobm90U3R1Y2sgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm8gbmVlZCB0byByZWNvdmVyLCBuZXh0IHRva2VuIGlzIHdoYXQgd2UgZXhwZWN0Li4uXG4gICAgICAgIGlmICh0aGlzLnRva2VuTWF0Y2hlcih0aGlzLkxBKDEpLCBleHBlY3RUb2tBZnRlckxhc3RNYXRjaCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlcnJvciByZWNvdmVyeSBpcyBkaXNhYmxlZCBkdXJpbmcgYmFja3RyYWNraW5nIGFzIGl0IGNhbiBtYWtlIHRoZSBwYXJzZXIgaWdub3JlIGEgdmFsaWQgZ3JhbW1hciBwYXRoXG4gICAgICAgIC8vIGFuZCBwcmVmZXIgc29tZSBiYWNrdHJhY2tpbmcgcGF0aCB0aGF0IGluY2x1ZGVzIHJlY292ZXJlZCBlcnJvcnMuXG4gICAgICAgIGlmICh0aGlzLmlzQmFja1RyYWNraW5nKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB3ZSBjYW4gcGVyZm9ybSBpblJ1bGUgcmVjb3ZlcnkgKHNpbmdsZSB0b2tlbiBpbnNlcnRpb24gb3IgZGVsZXRpb24pIHdlIGFsd2F5cyBwcmVmZXIgdGhhdCByZWNvdmVyeSBhbGdvcml0aG1cbiAgICAgICAgLy8gYmVjYXVzZSBpZiBpdCB3b3JrcywgaXQgbWFrZXMgdGhlIGxlYXN0IGFtb3VudCBvZiBjaGFuZ2VzIHRvIHRoZSBpbnB1dCBzdHJlYW0gKGdyZWVkeSBhbGdvcml0aG0pXG4gICAgICAgIC8vbm9pbnNwZWN0aW9uIFJlZHVuZGFudElmU3RhdGVtZW50SlNcbiAgICAgICAgaWYgKHRoaXMuY2FuUGVyZm9ybUluUnVsZVJlY292ZXJ5KGV4cGVjdFRva0FmdGVyTGFzdE1hdGNoLCB0aGlzLmdldEZvbGxvd3NGb3JJblJ1bGVSZWNvdmVyeShleHBlY3RUb2tBZnRlckxhc3RNYXRjaCwgbmV4dFRva0lkeCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIEVycm9yIFJlY292ZXJ5IGZ1bmN0aW9uYWxpdHlcbiAgICBnZXRGb2xsb3dzRm9ySW5SdWxlUmVjb3ZlcnkodG9rVHlwZSwgdG9rSWR4SW5SdWxlKSB7XG4gICAgICAgIGNvbnN0IGdyYW1tYXJQYXRoID0gdGhpcy5nZXRDdXJyZW50R3JhbW1hclBhdGgodG9rVHlwZSwgdG9rSWR4SW5SdWxlKTtcbiAgICAgICAgY29uc3QgZm9sbG93cyA9IHRoaXMuZ2V0TmV4dFBvc3NpYmxlVG9rZW5UeXBlcyhncmFtbWFyUGF0aCk7XG4gICAgICAgIHJldHVybiBmb2xsb3dzO1xuICAgIH1cbiAgICB0cnlJblJ1bGVSZWNvdmVyeShleHBlY3RlZFRva1R5cGUsIGZvbGxvd3MpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuUmVjb3ZlcldpdGhTaW5nbGVUb2tlbkluc2VydGlvbihleHBlY3RlZFRva1R5cGUsIGZvbGxvd3MpKSB7XG4gICAgICAgICAgICBjb25zdCB0b2tUb0luc2VydCA9IHRoaXMuZ2V0VG9rZW5Ub0luc2VydChleHBlY3RlZFRva1R5cGUpO1xuICAgICAgICAgICAgcmV0dXJuIHRva1RvSW5zZXJ0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNhblJlY292ZXJXaXRoU2luZ2xlVG9rZW5EZWxldGlvbihleHBlY3RlZFRva1R5cGUpKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0VG9rID0gdGhpcy5TS0lQX1RPS0VOKCk7XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVUb2tlbigpO1xuICAgICAgICAgICAgcmV0dXJuIG5leHRUb2s7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEluUnVsZVJlY292ZXJ5RXhjZXB0aW9uKFwic2FkIHNhZCBwYW5kYVwiKTtcbiAgICB9XG4gICAgY2FuUGVyZm9ybUluUnVsZVJlY292ZXJ5KGV4cGVjdGVkVG9rZW4sIGZvbGxvd3MpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmNhblJlY292ZXJXaXRoU2luZ2xlVG9rZW5JbnNlcnRpb24oZXhwZWN0ZWRUb2tlbiwgZm9sbG93cykgfHxcbiAgICAgICAgICAgIHRoaXMuY2FuUmVjb3ZlcldpdGhTaW5nbGVUb2tlbkRlbGV0aW9uKGV4cGVjdGVkVG9rZW4pKTtcbiAgICB9XG4gICAgY2FuUmVjb3ZlcldpdGhTaW5nbGVUb2tlbkluc2VydGlvbihleHBlY3RlZFRva1R5cGUsIGZvbGxvd3MpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNhblRva2VuVHlwZUJlSW5zZXJ0ZWRJblJlY292ZXJ5KGV4cGVjdGVkVG9rVHlwZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBtdXN0IGtub3cgdGhlIHBvc3NpYmxlIGZvbGxvd2luZyB0b2tlbnMgdG8gcGVyZm9ybSBzaW5nbGUgdG9rZW4gaW5zZXJ0aW9uXG4gICAgICAgIGlmIChpc0VtcHR5KGZvbGxvd3MpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWlzbWF0Y2hlZFRvayA9IHRoaXMuTEEoMSk7XG4gICAgICAgIGNvbnN0IGlzTWlzTWF0Y2hlZFRva0luRm9sbG93cyA9IGZpbmQoZm9sbG93cywgKHBvc3NpYmxlRm9sbG93c1Rva1R5cGUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRva2VuTWF0Y2hlcihtaXNtYXRjaGVkVG9rLCBwb3NzaWJsZUZvbGxvd3NUb2tUeXBlKTtcbiAgICAgICAgfSkgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIGlzTWlzTWF0Y2hlZFRva0luRm9sbG93cztcbiAgICB9XG4gICAgY2FuUmVjb3ZlcldpdGhTaW5nbGVUb2tlbkRlbGV0aW9uKGV4cGVjdGVkVG9rVHlwZSkge1xuICAgICAgICBpZiAoIXRoaXMuY2FuVG9rZW5UeXBlQmVEZWxldGVkSW5SZWNvdmVyeShleHBlY3RlZFRva1R5cGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNOZXh0VG9rZW5XaGF0SXNFeHBlY3RlZCA9IHRoaXMudG9rZW5NYXRjaGVyKHRoaXMuTEEoMiksIGV4cGVjdGVkVG9rVHlwZSk7XG4gICAgICAgIHJldHVybiBpc05leHRUb2tlbldoYXRJc0V4cGVjdGVkO1xuICAgIH1cbiAgICBpc0luQ3VycmVudFJ1bGVSZVN5bmNTZXQodG9rZW5UeXBlSWR4KSB7XG4gICAgICAgIGNvbnN0IGZvbGxvd0tleSA9IHRoaXMuZ2V0Q3VyckZvbGxvd0tleSgpO1xuICAgICAgICBjb25zdCBjdXJyZW50UnVsZVJlU3luY1NldCA9IHRoaXMuZ2V0Rm9sbG93U2V0RnJvbUZvbGxvd0tleShmb2xsb3dLZXkpO1xuICAgICAgICByZXR1cm4gaW5jbHVkZXMoY3VycmVudFJ1bGVSZVN5bmNTZXQsIHRva2VuVHlwZUlkeCk7XG4gICAgfVxuICAgIGZpbmRSZVN5bmNUb2tlblR5cGUoKSB7XG4gICAgICAgIGNvbnN0IGFsbFBvc3NpYmxlUmVTeW5jVG9rVHlwZXMgPSB0aGlzLmZsYXR0ZW5Gb2xsb3dTZXQoKTtcbiAgICAgICAgLy8gdGhpcyBsb29wIHdpbGwgYWx3YXlzIHRlcm1pbmF0ZSBhcyBFT0YgaXMgYWx3YXlzIGluIHRoZSBmb2xsb3cgc3RhY2sgYW5kIGFsc28gYWx3YXlzICh2aXJ0dWFsbHkpIGluIHRoZSBpbnB1dFxuICAgICAgICBsZXQgbmV4dFRva2VuID0gdGhpcy5MQSgxKTtcbiAgICAgICAgbGV0IGsgPSAyO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgY29uc3QgZm91bmRNYXRjaCA9IGZpbmQoYWxsUG9zc2libGVSZVN5bmNUb2tUeXBlcywgKHJlc3luY1Rva1R5cGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYW5NYXRjaCA9IHRva2VuTWF0Y2hlcihuZXh0VG9rZW4sIHJlc3luY1Rva1R5cGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjYW5NYXRjaDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGZvdW5kTWF0Y2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmb3VuZE1hdGNoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dFRva2VuID0gdGhpcy5MQShrKTtcbiAgICAgICAgICAgIGsrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRDdXJyRm9sbG93S2V5KCkge1xuICAgICAgICAvLyB0aGUgbGVuZ3RoIGlzIGF0IGxlYXN0IG9uZSBhcyB3ZSBhbHdheXMgYWRkIHRoZSBydWxlTmFtZSB0byB0aGUgc3RhY2sgYmVmb3JlIGludm9raW5nIHRoZSBydWxlLlxuICAgICAgICBpZiAodGhpcy5SVUxFX1NUQUNLLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIEVPRl9GT0xMT1dfS0VZO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cnJSdWxlU2hvcnROYW1lID0gdGhpcy5nZXRMYXN0RXhwbGljaXRSdWxlU2hvcnROYW1lKCk7XG4gICAgICAgIGNvbnN0IGN1cnJSdWxlSWR4ID0gdGhpcy5nZXRMYXN0RXhwbGljaXRSdWxlT2NjdXJyZW5jZUluZGV4KCk7XG4gICAgICAgIGNvbnN0IHByZXZSdWxlU2hvcnROYW1lID0gdGhpcy5nZXRQcmV2aW91c0V4cGxpY2l0UnVsZVNob3J0TmFtZSgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcnVsZU5hbWU6IHRoaXMuc2hvcnRSdWxlTmFtZVRvRnVsbE5hbWUoY3VyclJ1bGVTaG9ydE5hbWUpLFxuICAgICAgICAgICAgaWR4SW5DYWxsaW5nUnVsZTogY3VyclJ1bGVJZHgsXG4gICAgICAgICAgICBpblJ1bGU6IHRoaXMuc2hvcnRSdWxlTmFtZVRvRnVsbE5hbWUocHJldlJ1bGVTaG9ydE5hbWUpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBidWlsZEZ1bGxGb2xsb3dLZXlTdGFjaygpIHtcbiAgICAgICAgY29uc3QgZXhwbGljaXRSdWxlU3RhY2sgPSB0aGlzLlJVTEVfU1RBQ0s7XG4gICAgICAgIGNvbnN0IGV4cGxpY2l0T2NjdXJyZW5jZVN0YWNrID0gdGhpcy5SVUxFX09DQ1VSUkVOQ0VfU1RBQ0s7XG4gICAgICAgIHJldHVybiBtYXAoZXhwbGljaXRSdWxlU3RhY2ssIChydWxlTmFtZSwgaWR4KSA9PiB7XG4gICAgICAgICAgICBpZiAoaWR4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEVPRl9GT0xMT1dfS0VZO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBydWxlTmFtZTogdGhpcy5zaG9ydFJ1bGVOYW1lVG9GdWxsTmFtZShydWxlTmFtZSksXG4gICAgICAgICAgICAgICAgaWR4SW5DYWxsaW5nUnVsZTogZXhwbGljaXRPY2N1cnJlbmNlU3RhY2tbaWR4XSxcbiAgICAgICAgICAgICAgICBpblJ1bGU6IHRoaXMuc2hvcnRSdWxlTmFtZVRvRnVsbE5hbWUoZXhwbGljaXRSdWxlU3RhY2tbaWR4IC0gMV0pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZsYXR0ZW5Gb2xsb3dTZXQoKSB7XG4gICAgICAgIGNvbnN0IGZvbGxvd1N0YWNrID0gbWFwKHRoaXMuYnVpbGRGdWxsRm9sbG93S2V5U3RhY2soKSwgKGN1cnJLZXkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEZvbGxvd1NldEZyb21Gb2xsb3dLZXkoY3VycktleSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmxhdHRlbihmb2xsb3dTdGFjayk7XG4gICAgfVxuICAgIGdldEZvbGxvd1NldEZyb21Gb2xsb3dLZXkoZm9sbG93S2V5KSB7XG4gICAgICAgIGlmIChmb2xsb3dLZXkgPT09IEVPRl9GT0xMT1dfS0VZKSB7XG4gICAgICAgICAgICByZXR1cm4gW0VPRl07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZm9sbG93TmFtZSA9IGZvbGxvd0tleS5ydWxlTmFtZSArIGZvbGxvd0tleS5pZHhJbkNhbGxpbmdSdWxlICsgSU4gKyBmb2xsb3dLZXkuaW5SdWxlO1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN5bmNGb2xsb3dzW2ZvbGxvd05hbWVdO1xuICAgIH1cbiAgICAvLyBJdCBkb2VzIG5vdCBtYWtlIGFueSBzZW5zZSB0byBpbmNsdWRlIGEgdmlydHVhbCBFT0YgdG9rZW4gaW4gdGhlIGxpc3Qgb2YgcmVzeW5jZWQgdG9rZW5zXG4gICAgLy8gYXMgRU9GIGRvZXMgbm90IHJlYWxseSBleGlzdCBhbmQgdGh1cyBkb2VzIG5vdCBjb250YWluIGFueSB1c2VmdWwgaW5mb3JtYXRpb24gKGxpbmUvY29sdW1uIG51bWJlcnMpXG4gICAgYWRkVG9SZXN5bmNUb2tlbnModG9rZW4sIHJlc3luY1Rva2Vucykge1xuICAgICAgICBpZiAoIXRoaXMudG9rZW5NYXRjaGVyKHRva2VuLCBFT0YpKSB7XG4gICAgICAgICAgICByZXN5bmNUb2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3luY1Rva2VucztcbiAgICB9XG4gICAgcmVTeW5jVG8odG9rVHlwZSkge1xuICAgICAgICBjb25zdCByZXN5bmNlZFRva2VucyA9IFtdO1xuICAgICAgICBsZXQgbmV4dFRvayA9IHRoaXMuTEEoMSk7XG4gICAgICAgIHdoaWxlICh0aGlzLnRva2VuTWF0Y2hlcihuZXh0VG9rLCB0b2tUeXBlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG5leHRUb2sgPSB0aGlzLlNLSVBfVE9LRU4oKTtcbiAgICAgICAgICAgIHRoaXMuYWRkVG9SZXN5bmNUb2tlbnMobmV4dFRvaywgcmVzeW5jZWRUb2tlbnMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoZSBsYXN0IHRva2VuIGlzIG5vdCBwYXJ0IG9mIHRoZSBlcnJvci5cbiAgICAgICAgcmV0dXJuIGRyb3BSaWdodChyZXN5bmNlZFRva2Vucyk7XG4gICAgfVxuICAgIGF0dGVtcHRJblJlcGV0aXRpb25SZWNvdmVyeShwcm9kRnVuYywgYXJncywgbG9va2FoZWFkRnVuYywgZHNsTWV0aG9kSWR4LCBwcm9kT2NjdXJyZW5jZSwgbmV4dFRva3NXYWxrZXIsIG5vdFN0dWNrKSB7XG4gICAgICAgIC8vIGJ5IGRlZmF1bHQgdGhpcyBpcyBhIE5PLU9QXG4gICAgICAgIC8vIFRoZSBhY3R1YWwgaW1wbGVtZW50YXRpb24gaXMgd2l0aCB0aGUgZnVuY3Rpb24obm90IG1ldGhvZCkgYmVsb3dcbiAgICB9XG4gICAgZ2V0Q3VycmVudEdyYW1tYXJQYXRoKHRva1R5cGUsIHRva0lkeEluUnVsZSkge1xuICAgICAgICBjb25zdCBwYXRoUnVsZVN0YWNrID0gdGhpcy5nZXRIdW1hblJlYWRhYmxlUnVsZVN0YWNrKCk7XG4gICAgICAgIGNvbnN0IHBhdGhPY2N1cnJlbmNlU3RhY2sgPSBjbG9uZSh0aGlzLlJVTEVfT0NDVVJSRU5DRV9TVEFDSyk7XG4gICAgICAgIGNvbnN0IGdyYW1tYXJQYXRoID0ge1xuICAgICAgICAgICAgcnVsZVN0YWNrOiBwYXRoUnVsZVN0YWNrLFxuICAgICAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBwYXRoT2NjdXJyZW5jZVN0YWNrLFxuICAgICAgICAgICAgbGFzdFRvazogdG9rVHlwZSxcbiAgICAgICAgICAgIGxhc3RUb2tPY2N1cnJlbmNlOiB0b2tJZHhJblJ1bGUsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBncmFtbWFyUGF0aDtcbiAgICB9XG4gICAgZ2V0SHVtYW5SZWFkYWJsZVJ1bGVTdGFjaygpIHtcbiAgICAgICAgcmV0dXJuIG1hcCh0aGlzLlJVTEVfU1RBQ0ssIChjdXJyU2hvcnROYW1lKSA9PiB0aGlzLnNob3J0UnVsZU5hbWVUb0Z1bGxOYW1lKGN1cnJTaG9ydE5hbWUpKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5KHByb2RGdW5jLCBhcmdzLCBsb29rYWhlYWRGdW5jLCBkc2xNZXRob2RJZHgsIHByb2RPY2N1cnJlbmNlLCBuZXh0VG9rc1dhbGtlciwgbm90U3R1Y2spIHtcbiAgICBjb25zdCBrZXkgPSB0aGlzLmdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZChkc2xNZXRob2RJZHgsIHByb2RPY2N1cnJlbmNlKTtcbiAgICBsZXQgZmlyc3RBZnRlclJlcEluZm8gPSB0aGlzLmZpcnN0QWZ0ZXJSZXBNYXBba2V5XTtcbiAgICBpZiAoZmlyc3RBZnRlclJlcEluZm8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBjdXJyUnVsZU5hbWUgPSB0aGlzLmdldEN1cnJSdWxlRnVsbE5hbWUoKTtcbiAgICAgICAgY29uc3QgcnVsZUdyYW1tYXIgPSB0aGlzLmdldEdBc3RQcm9kdWN0aW9ucygpW2N1cnJSdWxlTmFtZV07XG4gICAgICAgIGNvbnN0IHdhbGtlciA9IG5ldyBuZXh0VG9rc1dhbGtlcihydWxlR3JhbW1hciwgcHJvZE9jY3VycmVuY2UpO1xuICAgICAgICBmaXJzdEFmdGVyUmVwSW5mbyA9IHdhbGtlci5zdGFydFdhbGtpbmcoKTtcbiAgICAgICAgdGhpcy5maXJzdEFmdGVyUmVwTWFwW2tleV0gPSBmaXJzdEFmdGVyUmVwSW5mbztcbiAgICB9XG4gICAgbGV0IGV4cGVjdFRva0FmdGVyTGFzdE1hdGNoID0gZmlyc3RBZnRlclJlcEluZm8udG9rZW47XG4gICAgbGV0IG5leHRUb2tJZHggPSBmaXJzdEFmdGVyUmVwSW5mby5vY2N1cnJlbmNlO1xuICAgIGNvbnN0IGlzRW5kT2ZSdWxlID0gZmlyc3RBZnRlclJlcEluZm8uaXNFbmRPZlJ1bGU7XG4gICAgLy8gc3BlY2lhbCBlZGdlIGNhc2Ugb2YgYSBUT1AgbW9zdCByZXBldGl0aW9uIGFmdGVyIHdoaWNoIHRoZSBpbnB1dCBzaG91bGQgRU5ELlxuICAgIC8vIHRoaXMgd2lsbCBmb3JjZSBhbiBhdHRlbXB0IGZvciBpblJ1bGUgcmVjb3ZlcnkgaW4gdGhhdCBzY2VuYXJpby5cbiAgICBpZiAodGhpcy5SVUxFX1NUQUNLLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICBpc0VuZE9mUnVsZSAmJlxuICAgICAgICBleHBlY3RUb2tBZnRlckxhc3RNYXRjaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGV4cGVjdFRva0FmdGVyTGFzdE1hdGNoID0gRU9GO1xuICAgICAgICBuZXh0VG9rSWR4ID0gMTtcbiAgICB9XG4gICAgLy8gV2UgZG9uJ3QgaGF2ZSBhbnl0aGluZyB0byByZS1zeW5jIHRvLi4uXG4gICAgLy8gdGhpcyBjb25kaXRpb24gd2FzIGV4dHJhY3RlZCBmcm9tIGBzaG91bGRJblJlcGV0aXRpb25SZWNvdmVyeUJlVHJpZWRgIHRvIGFjdCBhcyBhIHR5cGUtZ3VhcmRcbiAgICBpZiAoZXhwZWN0VG9rQWZ0ZXJMYXN0TWF0Y2ggPT09IHVuZGVmaW5lZCB8fCBuZXh0VG9rSWR4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5zaG91bGRJblJlcGV0aXRpb25SZWNvdmVyeUJlVHJpZWQoZXhwZWN0VG9rQWZ0ZXJMYXN0TWF0Y2gsIG5leHRUb2tJZHgsIG5vdFN0dWNrKSkge1xuICAgICAgICAvLyBUT0RPOiBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb246IGluc3RlYWQgb2YgcGFzc2luZyB0aGUgb3JpZ2luYWwgYXJncyBoZXJlLCB3ZSBtb2RpZnlcbiAgICAgICAgLy8gdGhlIGFyZ3MgcGFyYW0gKG9yIGNyZWF0ZSBhIG5ldyBvbmUpIGFuZCBtYWtlIHN1cmUgdGhlIGxvb2thaGVhZCBmdW5jIGlzIGV4cGxpY2l0bHkgcHJvdmlkZWRcbiAgICAgICAgLy8gdG8gYXZvaWQgc2VhcmNoaW5nIHRoZSBjYWNoZSBmb3IgaXQgb25jZSBtb3JlLlxuICAgICAgICB0aGlzLnRyeUluUmVwZXRpdGlvblJlY292ZXJ5KHByb2RGdW5jLCBhcmdzLCBsb29rYWhlYWRGdW5jLCBleHBlY3RUb2tBZnRlckxhc3RNYXRjaCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVjb3ZlcmFibGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/recoverable.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/tree_builder.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/parse/parser/traits/tree_builder.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TreeBuilder: () => (/* binding */ TreeBuilder)\n/* harmony export */ });\n/* harmony import */ var _cst_cst_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../cst/cst.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/cst/cst.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/has.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/noop.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isUndefined.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/keys.js\");\n/* harmony import */ var _cst_cst_visitor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../cst/cst_visitor.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/cst/cst_visitor.js\");\n/* harmony import */ var _parser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../parser.js */ \"(ssr)/./node_modules/chevrotain/lib/src/parse/parser/parser.js\");\n\n\n\n\n/**\n * This trait is responsible for the CST building logic.\n */\nclass TreeBuilder {\n    initTreeBuilder(config) {\n        this.CST_STACK = [];\n        // outputCst is no longer exposed/defined in the pubic API\n        this.outputCst = config.outputCst;\n        this.nodeLocationTracking = (0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(config, \"nodeLocationTracking\")\n            ? config.nodeLocationTracking // assumes end user provides the correct config value/type\n            : _parser_js__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_PARSER_CONFIG.nodeLocationTracking;\n        if (!this.outputCst) {\n            this.cstInvocationStateUpdate = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n            this.cstFinallyStateUpdate = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n            this.cstPostTerminal = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n            this.cstPostNonTerminal = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n            this.cstPostRule = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n        }\n        else {\n            if (/full/i.test(this.nodeLocationTracking)) {\n                if (this.recoveryEnabled) {\n                    this.setNodeLocationFromToken = _cst_cst_js__WEBPACK_IMPORTED_MODULE_0__.setNodeLocationFull;\n                    this.setNodeLocationFromNode = _cst_cst_js__WEBPACK_IMPORTED_MODULE_0__.setNodeLocationFull;\n                    this.cstPostRule = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n                    this.setInitialNodeLocation = this.setInitialNodeLocationFullRecovery;\n                }\n                else {\n                    this.setNodeLocationFromToken = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n                    this.setNodeLocationFromNode = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n                    this.cstPostRule = this.cstPostRuleFull;\n                    this.setInitialNodeLocation = this.setInitialNodeLocationFullRegular;\n                }\n            }\n            else if (/onlyOffset/i.test(this.nodeLocationTracking)) {\n                if (this.recoveryEnabled) {\n                    this.setNodeLocationFromToken = _cst_cst_js__WEBPACK_IMPORTED_MODULE_0__.setNodeLocationOnlyOffset;\n                    this.setNodeLocationFromNode = _cst_cst_js__WEBPACK_IMPORTED_MODULE_0__.setNodeLocationOnlyOffset;\n                    this.cstPostRule = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n                    this.setInitialNodeLocation =\n                        this.setInitialNodeLocationOnlyOffsetRecovery;\n                }\n                else {\n                    this.setNodeLocationFromToken = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n                    this.setNodeLocationFromNode = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n                    this.cstPostRule = this.cstPostRuleOnlyOffset;\n                    this.setInitialNodeLocation =\n                        this.setInitialNodeLocationOnlyOffsetRegular;\n                }\n            }\n            else if (/none/i.test(this.nodeLocationTracking)) {\n                this.setNodeLocationFromToken = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n                this.setNodeLocationFromNode = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n                this.cstPostRule = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n                this.setInitialNodeLocation = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n            }\n            else {\n                throw Error(`Invalid <nodeLocationTracking> config option: \"${config.nodeLocationTracking}\"`);\n            }\n        }\n    }\n    setInitialNodeLocationOnlyOffsetRecovery(cstNode) {\n        cstNode.location = {\n            startOffset: NaN,\n            endOffset: NaN,\n        };\n    }\n    setInitialNodeLocationOnlyOffsetRegular(cstNode) {\n        cstNode.location = {\n            // without error recovery the starting Location of a new CstNode is guaranteed\n            // To be the next Token's startOffset (for valid inputs).\n            // For invalid inputs there won't be any CSTOutput so this potential\n            // inaccuracy does not matter\n            startOffset: this.LA(1).startOffset,\n            endOffset: NaN,\n        };\n    }\n    setInitialNodeLocationFullRecovery(cstNode) {\n        cstNode.location = {\n            startOffset: NaN,\n            startLine: NaN,\n            startColumn: NaN,\n            endOffset: NaN,\n            endLine: NaN,\n            endColumn: NaN,\n        };\n    }\n    /**\n       *  @see setInitialNodeLocationOnlyOffsetRegular for explanation why this work\n  \n       * @param cstNode\n       */\n    setInitialNodeLocationFullRegular(cstNode) {\n        const nextToken = this.LA(1);\n        cstNode.location = {\n            startOffset: nextToken.startOffset,\n            startLine: nextToken.startLine,\n            startColumn: nextToken.startColumn,\n            endOffset: NaN,\n            endLine: NaN,\n            endColumn: NaN,\n        };\n    }\n    cstInvocationStateUpdate(fullRuleName) {\n        const cstNode = {\n            name: fullRuleName,\n            children: Object.create(null),\n        };\n        this.setInitialNodeLocation(cstNode);\n        this.CST_STACK.push(cstNode);\n    }\n    cstFinallyStateUpdate() {\n        this.CST_STACK.pop();\n    }\n    cstPostRuleFull(ruleCstNode) {\n        // casts to `required<CstNodeLocation>` are safe because `cstPostRuleFull` should only be invoked when full location is enabled\n        const prevToken = this.LA(0);\n        const loc = ruleCstNode.location;\n        // If this condition is true it means we consumed at least one Token\n        // In this CstNode.\n        if (loc.startOffset <= prevToken.startOffset === true) {\n            loc.endOffset = prevToken.endOffset;\n            loc.endLine = prevToken.endLine;\n            loc.endColumn = prevToken.endColumn;\n        }\n        // \"empty\" CstNode edge case\n        else {\n            loc.startOffset = NaN;\n            loc.startLine = NaN;\n            loc.startColumn = NaN;\n        }\n    }\n    cstPostRuleOnlyOffset(ruleCstNode) {\n        const prevToken = this.LA(0);\n        // `location' is not null because `cstPostRuleOnlyOffset` will only be invoked when location tracking is enabled.\n        const loc = ruleCstNode.location;\n        // If this condition is true it means we consumed at least one Token\n        // In this CstNode.\n        if (loc.startOffset <= prevToken.startOffset === true) {\n            loc.endOffset = prevToken.endOffset;\n        }\n        // \"empty\" CstNode edge case\n        else {\n            loc.startOffset = NaN;\n        }\n    }\n    cstPostTerminal(key, consumedToken) {\n        const rootCst = this.CST_STACK[this.CST_STACK.length - 1];\n        (0,_cst_cst_js__WEBPACK_IMPORTED_MODULE_0__.addTerminalToCst)(rootCst, consumedToken, key);\n        // This is only used when **both** error recovery and CST Output are enabled.\n        this.setNodeLocationFromToken(rootCst.location, consumedToken);\n    }\n    cstPostNonTerminal(ruleCstResult, ruleName) {\n        const preCstNode = this.CST_STACK[this.CST_STACK.length - 1];\n        (0,_cst_cst_js__WEBPACK_IMPORTED_MODULE_0__.addNoneTerminalToCst)(preCstNode, ruleName, ruleCstResult);\n        // This is only used when **both** error recovery and CST Output are enabled.\n        this.setNodeLocationFromNode(preCstNode.location, ruleCstResult.location);\n    }\n    getBaseCstVisitorConstructor() {\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.baseCstVisitorConstructor)) {\n            const newBaseCstVisitorConstructor = (0,_cst_cst_visitor_js__WEBPACK_IMPORTED_MODULE_1__.createBaseSemanticVisitorConstructor)(this.className, (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(this.gastProductionsCache));\n            this.baseCstVisitorConstructor = newBaseCstVisitorConstructor;\n            return newBaseCstVisitorConstructor;\n        }\n        return this.baseCstVisitorConstructor;\n    }\n    getBaseCstVisitorConstructorWithDefaults() {\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.baseCstVisitorWithDefaultsConstructor)) {\n            const newConstructor = (0,_cst_cst_visitor_js__WEBPACK_IMPORTED_MODULE_1__.createBaseVisitorConstructorWithDefaults)(this.className, (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(this.gastProductionsCache), this.getBaseCstVisitorConstructor());\n            this.baseCstVisitorWithDefaultsConstructor = newConstructor;\n            return newConstructor;\n        }\n        return this.baseCstVisitorWithDefaultsConstructor;\n    }\n    getLastExplicitRuleShortName() {\n        const ruleStack = this.RULE_STACK;\n        return ruleStack[ruleStack.length - 1];\n    }\n    getPreviousExplicitRuleShortName() {\n        const ruleStack = this.RULE_STACK;\n        return ruleStack[ruleStack.length - 2];\n    }\n    getLastExplicitRuleOccurrenceIndex() {\n        const occurrenceStack = this.RULE_OCCURRENCE_STACK;\n        return occurrenceStack[occurrenceStack.length - 1];\n    }\n}\n//# sourceMappingURL=tree_builder.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvdHJlZV9idWlsZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTJIO0FBQ2xFO0FBQ2tFO0FBQ3RFO0FBQ3JEO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MscURBQUc7QUFDdkM7QUFDQSxjQUFjLDZEQUFxQjtBQUNuQztBQUNBLDRDQUE0QyxpREFBSTtBQUNoRCx5Q0FBeUMsaURBQUk7QUFDN0MsbUNBQW1DLGlEQUFJO0FBQ3ZDLHNDQUFzQyxpREFBSTtBQUMxQywrQkFBK0IsaURBQUk7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsNERBQW1CO0FBQ3ZFLG1EQUFtRCw0REFBbUI7QUFDdEUsdUNBQXVDLGlEQUFJO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxpREFBSTtBQUN4RCxtREFBbUQsaURBQUk7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELGtFQUF5QjtBQUM3RSxtREFBbUQsa0VBQXlCO0FBQzVFLHVDQUF1QyxpREFBSTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxpREFBSTtBQUN4RCxtREFBbUQsaURBQUk7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELGlEQUFJO0FBQ3BELCtDQUErQyxpREFBSTtBQUNuRCxtQ0FBbUMsaURBQUk7QUFDdkMsOENBQThDLGlEQUFJO0FBQ2xEO0FBQ0E7QUFDQSw4RUFBOEUsNEJBQTRCO0FBQzFHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNkRBQWdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFvQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkscURBQVc7QUFDdkIsaURBQWlELHlGQUFvQyxpQkFBaUIscURBQUk7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxREFBVztBQUN2QixtQ0FBbUMsNkZBQXdDLGlCQUFpQixxREFBSTtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL21lcm1haWQtZGlhZ3JhbS1lZGl0b3IvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvdHJlZV9idWlsZGVyLmpzPzVmMTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWRkTm9uZVRlcm1pbmFsVG9Dc3QsIGFkZFRlcm1pbmFsVG9Dc3QsIHNldE5vZGVMb2NhdGlvbkZ1bGwsIHNldE5vZGVMb2NhdGlvbk9ubHlPZmZzZXQsIH0gZnJvbSBcIi4uLy4uL2NzdC9jc3QuanNcIjtcbmltcG9ydCB7IGhhcywgaXNVbmRlZmluZWQsIGtleXMsIG5vb3AgfSBmcm9tIFwibG9kYXNoLWVzXCI7XG5pbXBvcnQgeyBjcmVhdGVCYXNlU2VtYW50aWNWaXNpdG9yQ29uc3RydWN0b3IsIGNyZWF0ZUJhc2VWaXNpdG9yQ29uc3RydWN0b3JXaXRoRGVmYXVsdHMsIH0gZnJvbSBcIi4uLy4uL2NzdC9jc3RfdmlzaXRvci5qc1wiO1xuaW1wb3J0IHsgREVGQVVMVF9QQVJTRVJfQ09ORklHIH0gZnJvbSBcIi4uL3BhcnNlci5qc1wiO1xuLyoqXG4gKiBUaGlzIHRyYWl0IGlzIHJlc3BvbnNpYmxlIGZvciB0aGUgQ1NUIGJ1aWxkaW5nIGxvZ2ljLlxuICovXG5leHBvcnQgY2xhc3MgVHJlZUJ1aWxkZXIge1xuICAgIGluaXRUcmVlQnVpbGRlcihjb25maWcpIHtcbiAgICAgICAgdGhpcy5DU1RfU1RBQ0sgPSBbXTtcbiAgICAgICAgLy8gb3V0cHV0Q3N0IGlzIG5vIGxvbmdlciBleHBvc2VkL2RlZmluZWQgaW4gdGhlIHB1YmljIEFQSVxuICAgICAgICB0aGlzLm91dHB1dENzdCA9IGNvbmZpZy5vdXRwdXRDc3Q7XG4gICAgICAgIHRoaXMubm9kZUxvY2F0aW9uVHJhY2tpbmcgPSBoYXMoY29uZmlnLCBcIm5vZGVMb2NhdGlvblRyYWNraW5nXCIpXG4gICAgICAgICAgICA/IGNvbmZpZy5ub2RlTG9jYXRpb25UcmFja2luZyAvLyBhc3N1bWVzIGVuZCB1c2VyIHByb3ZpZGVzIHRoZSBjb3JyZWN0IGNvbmZpZyB2YWx1ZS90eXBlXG4gICAgICAgICAgICA6IERFRkFVTFRfUEFSU0VSX0NPTkZJRy5ub2RlTG9jYXRpb25UcmFja2luZztcbiAgICAgICAgaWYgKCF0aGlzLm91dHB1dENzdCkge1xuICAgICAgICAgICAgdGhpcy5jc3RJbnZvY2F0aW9uU3RhdGVVcGRhdGUgPSBub29wO1xuICAgICAgICAgICAgdGhpcy5jc3RGaW5hbGx5U3RhdGVVcGRhdGUgPSBub29wO1xuICAgICAgICAgICAgdGhpcy5jc3RQb3N0VGVybWluYWwgPSBub29wO1xuICAgICAgICAgICAgdGhpcy5jc3RQb3N0Tm9uVGVybWluYWwgPSBub29wO1xuICAgICAgICAgICAgdGhpcy5jc3RQb3N0UnVsZSA9IG5vb3A7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoL2Z1bGwvaS50ZXN0KHRoaXMubm9kZUxvY2F0aW9uVHJhY2tpbmcpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVjb3ZlcnlFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Tm9kZUxvY2F0aW9uRnJvbVRva2VuID0gc2V0Tm9kZUxvY2F0aW9uRnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXROb2RlTG9jYXRpb25Gcm9tTm9kZSA9IHNldE5vZGVMb2NhdGlvbkZ1bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3N0UG9zdFJ1bGUgPSBub29wO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEluaXRpYWxOb2RlTG9jYXRpb24gPSB0aGlzLnNldEluaXRpYWxOb2RlTG9jYXRpb25GdWxsUmVjb3Zlcnk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE5vZGVMb2NhdGlvbkZyb21Ub2tlbiA9IG5vb3A7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Tm9kZUxvY2F0aW9uRnJvbU5vZGUgPSBub29wO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNzdFBvc3RSdWxlID0gdGhpcy5jc3RQb3N0UnVsZUZ1bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SW5pdGlhbE5vZGVMb2NhdGlvbiA9IHRoaXMuc2V0SW5pdGlhbE5vZGVMb2NhdGlvbkZ1bGxSZWd1bGFyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKC9vbmx5T2Zmc2V0L2kudGVzdCh0aGlzLm5vZGVMb2NhdGlvblRyYWNraW5nKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlY292ZXJ5RW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE5vZGVMb2NhdGlvbkZyb21Ub2tlbiA9IHNldE5vZGVMb2NhdGlvbk9ubHlPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Tm9kZUxvY2F0aW9uRnJvbU5vZGUgPSBzZXROb2RlTG9jYXRpb25Pbmx5T2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNzdFBvc3RSdWxlID0gbm9vcDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRJbml0aWFsTm9kZUxvY2F0aW9uID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SW5pdGlhbE5vZGVMb2NhdGlvbk9ubHlPZmZzZXRSZWNvdmVyeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Tm9kZUxvY2F0aW9uRnJvbVRva2VuID0gbm9vcDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXROb2RlTG9jYXRpb25Gcm9tTm9kZSA9IG5vb3A7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3N0UG9zdFJ1bGUgPSB0aGlzLmNzdFBvc3RSdWxlT25seU9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRJbml0aWFsTm9kZUxvY2F0aW9uID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SW5pdGlhbE5vZGVMb2NhdGlvbk9ubHlPZmZzZXRSZWd1bGFyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKC9ub25lL2kudGVzdCh0aGlzLm5vZGVMb2NhdGlvblRyYWNraW5nKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Tm9kZUxvY2F0aW9uRnJvbVRva2VuID0gbm9vcDtcbiAgICAgICAgICAgICAgICB0aGlzLnNldE5vZGVMb2NhdGlvbkZyb21Ob2RlID0gbm9vcDtcbiAgICAgICAgICAgICAgICB0aGlzLmNzdFBvc3RSdWxlID0gbm9vcDtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEluaXRpYWxOb2RlTG9jYXRpb24gPSBub29wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoYEludmFsaWQgPG5vZGVMb2NhdGlvblRyYWNraW5nPiBjb25maWcgb3B0aW9uOiBcIiR7Y29uZmlnLm5vZGVMb2NhdGlvblRyYWNraW5nfVwiYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0SW5pdGlhbE5vZGVMb2NhdGlvbk9ubHlPZmZzZXRSZWNvdmVyeShjc3ROb2RlKSB7XG4gICAgICAgIGNzdE5vZGUubG9jYXRpb24gPSB7XG4gICAgICAgICAgICBzdGFydE9mZnNldDogTmFOLFxuICAgICAgICAgICAgZW5kT2Zmc2V0OiBOYU4sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHNldEluaXRpYWxOb2RlTG9jYXRpb25Pbmx5T2Zmc2V0UmVndWxhcihjc3ROb2RlKSB7XG4gICAgICAgIGNzdE5vZGUubG9jYXRpb24gPSB7XG4gICAgICAgICAgICAvLyB3aXRob3V0IGVycm9yIHJlY292ZXJ5IHRoZSBzdGFydGluZyBMb2NhdGlvbiBvZiBhIG5ldyBDc3ROb2RlIGlzIGd1YXJhbnRlZWRcbiAgICAgICAgICAgIC8vIFRvIGJlIHRoZSBuZXh0IFRva2VuJ3Mgc3RhcnRPZmZzZXQgKGZvciB2YWxpZCBpbnB1dHMpLlxuICAgICAgICAgICAgLy8gRm9yIGludmFsaWQgaW5wdXRzIHRoZXJlIHdvbid0IGJlIGFueSBDU1RPdXRwdXQgc28gdGhpcyBwb3RlbnRpYWxcbiAgICAgICAgICAgIC8vIGluYWNjdXJhY3kgZG9lcyBub3QgbWF0dGVyXG4gICAgICAgICAgICBzdGFydE9mZnNldDogdGhpcy5MQSgxKS5zdGFydE9mZnNldCxcbiAgICAgICAgICAgIGVuZE9mZnNldDogTmFOLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBzZXRJbml0aWFsTm9kZUxvY2F0aW9uRnVsbFJlY292ZXJ5KGNzdE5vZGUpIHtcbiAgICAgICAgY3N0Tm9kZS5sb2NhdGlvbiA9IHtcbiAgICAgICAgICAgIHN0YXJ0T2Zmc2V0OiBOYU4sXG4gICAgICAgICAgICBzdGFydExpbmU6IE5hTixcbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uOiBOYU4sXG4gICAgICAgICAgICBlbmRPZmZzZXQ6IE5hTixcbiAgICAgICAgICAgIGVuZExpbmU6IE5hTixcbiAgICAgICAgICAgIGVuZENvbHVtbjogTmFOLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgICAqICBAc2VlIHNldEluaXRpYWxOb2RlTG9jYXRpb25Pbmx5T2Zmc2V0UmVndWxhciBmb3IgZXhwbGFuYXRpb24gd2h5IHRoaXMgd29ya1xuICBcbiAgICAgICAqIEBwYXJhbSBjc3ROb2RlXG4gICAgICAgKi9cbiAgICBzZXRJbml0aWFsTm9kZUxvY2F0aW9uRnVsbFJlZ3VsYXIoY3N0Tm9kZSkge1xuICAgICAgICBjb25zdCBuZXh0VG9rZW4gPSB0aGlzLkxBKDEpO1xuICAgICAgICBjc3ROb2RlLmxvY2F0aW9uID0ge1xuICAgICAgICAgICAgc3RhcnRPZmZzZXQ6IG5leHRUb2tlbi5zdGFydE9mZnNldCxcbiAgICAgICAgICAgIHN0YXJ0TGluZTogbmV4dFRva2VuLnN0YXJ0TGluZSxcbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uOiBuZXh0VG9rZW4uc3RhcnRDb2x1bW4sXG4gICAgICAgICAgICBlbmRPZmZzZXQ6IE5hTixcbiAgICAgICAgICAgIGVuZExpbmU6IE5hTixcbiAgICAgICAgICAgIGVuZENvbHVtbjogTmFOLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjc3RJbnZvY2F0aW9uU3RhdGVVcGRhdGUoZnVsbFJ1bGVOYW1lKSB7XG4gICAgICAgIGNvbnN0IGNzdE5vZGUgPSB7XG4gICAgICAgICAgICBuYW1lOiBmdWxsUnVsZU5hbWUsXG4gICAgICAgICAgICBjaGlsZHJlbjogT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZXRJbml0aWFsTm9kZUxvY2F0aW9uKGNzdE5vZGUpO1xuICAgICAgICB0aGlzLkNTVF9TVEFDSy5wdXNoKGNzdE5vZGUpO1xuICAgIH1cbiAgICBjc3RGaW5hbGx5U3RhdGVVcGRhdGUoKSB7XG4gICAgICAgIHRoaXMuQ1NUX1NUQUNLLnBvcCgpO1xuICAgIH1cbiAgICBjc3RQb3N0UnVsZUZ1bGwocnVsZUNzdE5vZGUpIHtcbiAgICAgICAgLy8gY2FzdHMgdG8gYHJlcXVpcmVkPENzdE5vZGVMb2NhdGlvbj5gIGFyZSBzYWZlIGJlY2F1c2UgYGNzdFBvc3RSdWxlRnVsbGAgc2hvdWxkIG9ubHkgYmUgaW52b2tlZCB3aGVuIGZ1bGwgbG9jYXRpb24gaXMgZW5hYmxlZFxuICAgICAgICBjb25zdCBwcmV2VG9rZW4gPSB0aGlzLkxBKDApO1xuICAgICAgICBjb25zdCBsb2MgPSBydWxlQ3N0Tm9kZS5sb2NhdGlvbjtcbiAgICAgICAgLy8gSWYgdGhpcyBjb25kaXRpb24gaXMgdHJ1ZSBpdCBtZWFucyB3ZSBjb25zdW1lZCBhdCBsZWFzdCBvbmUgVG9rZW5cbiAgICAgICAgLy8gSW4gdGhpcyBDc3ROb2RlLlxuICAgICAgICBpZiAobG9jLnN0YXJ0T2Zmc2V0IDw9IHByZXZUb2tlbi5zdGFydE9mZnNldCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgbG9jLmVuZE9mZnNldCA9IHByZXZUb2tlbi5lbmRPZmZzZXQ7XG4gICAgICAgICAgICBsb2MuZW5kTGluZSA9IHByZXZUb2tlbi5lbmRMaW5lO1xuICAgICAgICAgICAgbG9jLmVuZENvbHVtbiA9IHByZXZUb2tlbi5lbmRDb2x1bW47XG4gICAgICAgIH1cbiAgICAgICAgLy8gXCJlbXB0eVwiIENzdE5vZGUgZWRnZSBjYXNlXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9jLnN0YXJ0T2Zmc2V0ID0gTmFOO1xuICAgICAgICAgICAgbG9jLnN0YXJ0TGluZSA9IE5hTjtcbiAgICAgICAgICAgIGxvYy5zdGFydENvbHVtbiA9IE5hTjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjc3RQb3N0UnVsZU9ubHlPZmZzZXQocnVsZUNzdE5vZGUpIHtcbiAgICAgICAgY29uc3QgcHJldlRva2VuID0gdGhpcy5MQSgwKTtcbiAgICAgICAgLy8gYGxvY2F0aW9uJyBpcyBub3QgbnVsbCBiZWNhdXNlIGBjc3RQb3N0UnVsZU9ubHlPZmZzZXRgIHdpbGwgb25seSBiZSBpbnZva2VkIHdoZW4gbG9jYXRpb24gdHJhY2tpbmcgaXMgZW5hYmxlZC5cbiAgICAgICAgY29uc3QgbG9jID0gcnVsZUNzdE5vZGUubG9jYXRpb247XG4gICAgICAgIC8vIElmIHRoaXMgY29uZGl0aW9uIGlzIHRydWUgaXQgbWVhbnMgd2UgY29uc3VtZWQgYXQgbGVhc3Qgb25lIFRva2VuXG4gICAgICAgIC8vIEluIHRoaXMgQ3N0Tm9kZS5cbiAgICAgICAgaWYgKGxvYy5zdGFydE9mZnNldCA8PSBwcmV2VG9rZW4uc3RhcnRPZmZzZXQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGxvYy5lbmRPZmZzZXQgPSBwcmV2VG9rZW4uZW5kT2Zmc2V0O1xuICAgICAgICB9XG4gICAgICAgIC8vIFwiZW1wdHlcIiBDc3ROb2RlIGVkZ2UgY2FzZVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxvYy5zdGFydE9mZnNldCA9IE5hTjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjc3RQb3N0VGVybWluYWwoa2V5LCBjb25zdW1lZFRva2VuKSB7XG4gICAgICAgIGNvbnN0IHJvb3RDc3QgPSB0aGlzLkNTVF9TVEFDS1t0aGlzLkNTVF9TVEFDSy5sZW5ndGggLSAxXTtcbiAgICAgICAgYWRkVGVybWluYWxUb0NzdChyb290Q3N0LCBjb25zdW1lZFRva2VuLCBrZXkpO1xuICAgICAgICAvLyBUaGlzIGlzIG9ubHkgdXNlZCB3aGVuICoqYm90aCoqIGVycm9yIHJlY292ZXJ5IGFuZCBDU1QgT3V0cHV0IGFyZSBlbmFibGVkLlxuICAgICAgICB0aGlzLnNldE5vZGVMb2NhdGlvbkZyb21Ub2tlbihyb290Q3N0LmxvY2F0aW9uLCBjb25zdW1lZFRva2VuKTtcbiAgICB9XG4gICAgY3N0UG9zdE5vblRlcm1pbmFsKHJ1bGVDc3RSZXN1bHQsIHJ1bGVOYW1lKSB7XG4gICAgICAgIGNvbnN0IHByZUNzdE5vZGUgPSB0aGlzLkNTVF9TVEFDS1t0aGlzLkNTVF9TVEFDSy5sZW5ndGggLSAxXTtcbiAgICAgICAgYWRkTm9uZVRlcm1pbmFsVG9Dc3QocHJlQ3N0Tm9kZSwgcnVsZU5hbWUsIHJ1bGVDc3RSZXN1bHQpO1xuICAgICAgICAvLyBUaGlzIGlzIG9ubHkgdXNlZCB3aGVuICoqYm90aCoqIGVycm9yIHJlY292ZXJ5IGFuZCBDU1QgT3V0cHV0IGFyZSBlbmFibGVkLlxuICAgICAgICB0aGlzLnNldE5vZGVMb2NhdGlvbkZyb21Ob2RlKHByZUNzdE5vZGUubG9jYXRpb24sIHJ1bGVDc3RSZXN1bHQubG9jYXRpb24pO1xuICAgIH1cbiAgICBnZXRCYXNlQ3N0VmlzaXRvckNvbnN0cnVjdG9yKCkge1xuICAgICAgICBpZiAoaXNVbmRlZmluZWQodGhpcy5iYXNlQ3N0VmlzaXRvckNvbnN0cnVjdG9yKSkge1xuICAgICAgICAgICAgY29uc3QgbmV3QmFzZUNzdFZpc2l0b3JDb25zdHJ1Y3RvciA9IGNyZWF0ZUJhc2VTZW1hbnRpY1Zpc2l0b3JDb25zdHJ1Y3Rvcih0aGlzLmNsYXNzTmFtZSwga2V5cyh0aGlzLmdhc3RQcm9kdWN0aW9uc0NhY2hlKSk7XG4gICAgICAgICAgICB0aGlzLmJhc2VDc3RWaXNpdG9yQ29uc3RydWN0b3IgPSBuZXdCYXNlQ3N0VmlzaXRvckNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgcmV0dXJuIG5ld0Jhc2VDc3RWaXNpdG9yQ29uc3RydWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZUNzdFZpc2l0b3JDb25zdHJ1Y3RvcjtcbiAgICB9XG4gICAgZ2V0QmFzZUNzdFZpc2l0b3JDb25zdHJ1Y3RvcldpdGhEZWZhdWx0cygpIHtcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHRoaXMuYmFzZUNzdFZpc2l0b3JXaXRoRGVmYXVsdHNDb25zdHJ1Y3RvcikpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0NvbnN0cnVjdG9yID0gY3JlYXRlQmFzZVZpc2l0b3JDb25zdHJ1Y3RvcldpdGhEZWZhdWx0cyh0aGlzLmNsYXNzTmFtZSwga2V5cyh0aGlzLmdhc3RQcm9kdWN0aW9uc0NhY2hlKSwgdGhpcy5nZXRCYXNlQ3N0VmlzaXRvckNvbnN0cnVjdG9yKCkpO1xuICAgICAgICAgICAgdGhpcy5iYXNlQ3N0VmlzaXRvcldpdGhEZWZhdWx0c0NvbnN0cnVjdG9yID0gbmV3Q29uc3RydWN0b3I7XG4gICAgICAgICAgICByZXR1cm4gbmV3Q29uc3RydWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZUNzdFZpc2l0b3JXaXRoRGVmYXVsdHNDb25zdHJ1Y3RvcjtcbiAgICB9XG4gICAgZ2V0TGFzdEV4cGxpY2l0UnVsZVNob3J0TmFtZSgpIHtcbiAgICAgICAgY29uc3QgcnVsZVN0YWNrID0gdGhpcy5SVUxFX1NUQUNLO1xuICAgICAgICByZXR1cm4gcnVsZVN0YWNrW3J1bGVTdGFjay5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgZ2V0UHJldmlvdXNFeHBsaWNpdFJ1bGVTaG9ydE5hbWUoKSB7XG4gICAgICAgIGNvbnN0IHJ1bGVTdGFjayA9IHRoaXMuUlVMRV9TVEFDSztcbiAgICAgICAgcmV0dXJuIHJ1bGVTdGFja1tydWxlU3RhY2subGVuZ3RoIC0gMl07XG4gICAgfVxuICAgIGdldExhc3RFeHBsaWNpdFJ1bGVPY2N1cnJlbmNlSW5kZXgoKSB7XG4gICAgICAgIGNvbnN0IG9jY3VycmVuY2VTdGFjayA9IHRoaXMuUlVMRV9PQ0NVUlJFTkNFX1NUQUNLO1xuICAgICAgICByZXR1cm4gb2NjdXJyZW5jZVN0YWNrW29jY3VycmVuY2VTdGFjay5sZW5ndGggLSAxXTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmVlX2J1aWxkZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/parse/parser/traits/tree_builder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/parse/parser/utils/apply_mixins.js":
/*!****************************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/parse/parser/utils/apply_mixins.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   applyMixins: () => (/* binding */ applyMixins)\n/* harmony export */ });\nfunction applyMixins(derivedCtor, baseCtors) {\n    baseCtors.forEach((baseCtor) => {\n        const baseProto = baseCtor.prototype;\n        Object.getOwnPropertyNames(baseProto).forEach((propName) => {\n            if (propName === \"constructor\") {\n                return;\n            }\n            const basePropDescriptor = Object.getOwnPropertyDescriptor(baseProto, propName);\n            // Handle Accessors\n            if (basePropDescriptor &&\n                (basePropDescriptor.get || basePropDescriptor.set)) {\n                Object.defineProperty(derivedCtor.prototype, propName, basePropDescriptor);\n            }\n            else {\n                derivedCtor.prototype[propName] = baseCtor.prototype[propName];\n            }\n        });\n    });\n}\n//# sourceMappingURL=apply_mixins.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3BhcnNlL3BhcnNlci91dGlscy9hcHBseV9taXhpbnMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVybWFpZC1kaWFncmFtLWVkaXRvci8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvcGFyc2UvcGFyc2VyL3V0aWxzL2FwcGx5X21peGlucy5qcz8wNmJmIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBhcHBseU1peGlucyhkZXJpdmVkQ3RvciwgYmFzZUN0b3JzKSB7XG4gICAgYmFzZUN0b3JzLmZvckVhY2goKGJhc2VDdG9yKSA9PiB7XG4gICAgICAgIGNvbnN0IGJhc2VQcm90byA9IGJhc2VDdG9yLnByb3RvdHlwZTtcbiAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYmFzZVByb3RvKS5mb3JFYWNoKChwcm9wTmFtZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHByb3BOYW1lID09PSBcImNvbnN0cnVjdG9yXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBiYXNlUHJvcERlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGJhc2VQcm90bywgcHJvcE5hbWUpO1xuICAgICAgICAgICAgLy8gSGFuZGxlIEFjY2Vzc29yc1xuICAgICAgICAgICAgaWYgKGJhc2VQcm9wRGVzY3JpcHRvciAmJlxuICAgICAgICAgICAgICAgIChiYXNlUHJvcERlc2NyaXB0b3IuZ2V0IHx8IGJhc2VQcm9wRGVzY3JpcHRvci5zZXQpKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRlcml2ZWRDdG9yLnByb3RvdHlwZSwgcHJvcE5hbWUsIGJhc2VQcm9wRGVzY3JpcHRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZXJpdmVkQ3Rvci5wcm90b3R5cGVbcHJvcE5hbWVdID0gYmFzZUN0b3IucHJvdG90eXBlW3Byb3BOYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHBseV9taXhpbnMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/parse/parser/utils/apply_mixins.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/scan/lexer.js":
/*!*******************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/scan/lexer.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_MODE: () => (/* binding */ DEFAULT_MODE),\n/* harmony export */   LineTerminatorOptimizedTester: () => (/* binding */ LineTerminatorOptimizedTester),\n/* harmony export */   MODES: () => (/* binding */ MODES),\n/* harmony export */   SUPPORT_STICKY: () => (/* binding */ SUPPORT_STICKY),\n/* harmony export */   addStartOfInput: () => (/* binding */ addStartOfInput),\n/* harmony export */   addStickyFlag: () => (/* binding */ addStickyFlag),\n/* harmony export */   analyzeTokenTypes: () => (/* binding */ analyzeTokenTypes),\n/* harmony export */   buildLineBreakIssueMessage: () => (/* binding */ buildLineBreakIssueMessage),\n/* harmony export */   charCodeToOptimizedIndex: () => (/* binding */ charCodeToOptimizedIndex),\n/* harmony export */   cloneEmptyGroups: () => (/* binding */ cloneEmptyGroups),\n/* harmony export */   disableSticky: () => (/* binding */ disableSticky),\n/* harmony export */   enableSticky: () => (/* binding */ enableSticky),\n/* harmony export */   findDuplicatePatterns: () => (/* binding */ findDuplicatePatterns),\n/* harmony export */   findEmptyMatchRegExps: () => (/* binding */ findEmptyMatchRegExps),\n/* harmony export */   findEndOfInputAnchor: () => (/* binding */ findEndOfInputAnchor),\n/* harmony export */   findInvalidGroupType: () => (/* binding */ findInvalidGroupType),\n/* harmony export */   findInvalidPatterns: () => (/* binding */ findInvalidPatterns),\n/* harmony export */   findMissingPatterns: () => (/* binding */ findMissingPatterns),\n/* harmony export */   findModesThatDoNotExist: () => (/* binding */ findModesThatDoNotExist),\n/* harmony export */   findStartOfInputAnchor: () => (/* binding */ findStartOfInputAnchor),\n/* harmony export */   findUnreachablePatterns: () => (/* binding */ findUnreachablePatterns),\n/* harmony export */   findUnsupportedFlags: () => (/* binding */ findUnsupportedFlags),\n/* harmony export */   isCustomPattern: () => (/* binding */ isCustomPattern),\n/* harmony export */   isShortPattern: () => (/* binding */ isShortPattern),\n/* harmony export */   minOptimizationVal: () => (/* binding */ minOptimizationVal),\n/* harmony export */   performRuntimeChecks: () => (/* binding */ performRuntimeChecks),\n/* harmony export */   performWarningRuntimeChecks: () => (/* binding */ performWarningRuntimeChecks),\n/* harmony export */   validatePatterns: () => (/* binding */ validatePatterns)\n/* harmony export */ });\n/* harmony import */ var _chevrotain_regexp_to_ast__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @chevrotain/regexp-to-ast */ \"(ssr)/./node_modules/@chevrotain/regexp-to-ast/lib/src/api.js\");\n/* harmony import */ var _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lexer_public.js */ \"(ssr)/./node_modules/chevrotain/lib/src/scan/lexer_public.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/defaults.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/reject.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/map.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isRegExp.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/includes.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isFunction.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isString.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isUndefined.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isArray.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/indexOf.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/has.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/reduce.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/forEach.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isEmpty.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/filter.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/difference.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/compact.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/head.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/find.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/flatten.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/values.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/keys.js\");\n/* harmony import */ var _chevrotain_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chevrotain/utils */ \"(ssr)/./node_modules/@chevrotain/utils/lib/src/api.js\");\n/* harmony import */ var _reg_exp_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./reg_exp.js */ \"(ssr)/./node_modules/chevrotain/lib/src/scan/reg_exp.js\");\n/* harmony import */ var _reg_exp_parser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./reg_exp_parser.js */ \"(ssr)/./node_modules/chevrotain/lib/src/scan/reg_exp_parser.js\");\n\n\n\n\n\n\nconst PATTERN = \"PATTERN\";\nconst DEFAULT_MODE = \"defaultMode\";\nconst MODES = \"modes\";\nlet SUPPORT_STICKY = typeof new RegExp(\"(?:)\").sticky === \"boolean\";\nfunction disableSticky() {\n    SUPPORT_STICKY = false;\n}\nfunction enableSticky() {\n    SUPPORT_STICKY = true;\n}\nfunction analyzeTokenTypes(tokenTypes, options) {\n    options = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(options, {\n        useSticky: SUPPORT_STICKY,\n        debug: false,\n        safeMode: false,\n        positionTracking: \"full\",\n        lineTerminatorCharacters: [\"\\r\", \"\\n\"],\n        tracer: (msg, action) => action(),\n    });\n    const tracer = options.tracer;\n    tracer(\"initCharCodeToOptimizedIndexMap\", () => {\n        initCharCodeToOptimizedIndexMap();\n    });\n    let onlyRelevantTypes;\n    tracer(\"Reject Lexer.NA\", () => {\n        onlyRelevantTypes = (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(tokenTypes, (currType) => {\n            return currType[PATTERN] === _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.Lexer.NA;\n        });\n    });\n    let hasCustom = false;\n    let allTransformedPatterns;\n    tracer(\"Transform Patterns\", () => {\n        hasCustom = false;\n        allTransformedPatterns = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(onlyRelevantTypes, (currType) => {\n            const currPattern = currType[PATTERN];\n            /* istanbul ignore else */\n            if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(currPattern)) {\n                const regExpSource = currPattern.source;\n                if (regExpSource.length === 1 &&\n                    // only these regExp meta characters which can appear in a length one regExp\n                    regExpSource !== \"^\" &&\n                    regExpSource !== \"$\" &&\n                    regExpSource !== \".\" &&\n                    !currPattern.ignoreCase) {\n                    return regExpSource;\n                }\n                else if (regExpSource.length === 2 &&\n                    regExpSource[0] === \"\\\\\" &&\n                    // not a meta character\n                    !(0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])([\n                        \"d\",\n                        \"D\",\n                        \"s\",\n                        \"S\",\n                        \"t\",\n                        \"r\",\n                        \"n\",\n                        \"t\",\n                        \"0\",\n                        \"c\",\n                        \"b\",\n                        \"B\",\n                        \"f\",\n                        \"v\",\n                        \"w\",\n                        \"W\",\n                    ], regExpSource[1])) {\n                    // escaped meta Characters: /\\+/ /\\[/\n                    // or redundant escaping: /\\a/\n                    // without the escaping \"\\\"\n                    return regExpSource[1];\n                }\n                else {\n                    return options.useSticky\n                        ? addStickyFlag(currPattern)\n                        : addStartOfInput(currPattern);\n                }\n            }\n            else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(currPattern)) {\n                hasCustom = true;\n                // CustomPatternMatcherFunc - custom patterns do not require any transformations, only wrapping in a RegExp Like object\n                return { exec: currPattern };\n            }\n            else if (typeof currPattern === \"object\") {\n                hasCustom = true;\n                // ICustomPattern\n                return currPattern;\n            }\n            else if (typeof currPattern === \"string\") {\n                if (currPattern.length === 1) {\n                    return currPattern;\n                }\n                else {\n                    const escapedRegExpString = currPattern.replace(/[\\\\^$.*+?()[\\]{}|]/g, \"\\\\$&\");\n                    const wrappedRegExp = new RegExp(escapedRegExpString);\n                    return options.useSticky\n                        ? addStickyFlag(wrappedRegExp)\n                        : addStartOfInput(wrappedRegExp);\n                }\n            }\n            else {\n                throw Error(\"non exhaustive match\");\n            }\n        });\n    });\n    let patternIdxToType;\n    let patternIdxToGroup;\n    let patternIdxToLongerAltIdxArr;\n    let patternIdxToPushMode;\n    let patternIdxToPopMode;\n    tracer(\"misc mapping\", () => {\n        patternIdxToType = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(onlyRelevantTypes, (currType) => currType.tokenTypeIdx);\n        patternIdxToGroup = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(onlyRelevantTypes, (clazz) => {\n            const groupName = clazz.GROUP;\n            /* istanbul ignore next */\n            if (groupName === _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.Lexer.SKIPPED) {\n                return undefined;\n            }\n            else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(groupName)) {\n                return groupName;\n            }\n            else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(groupName)) {\n                return false;\n            }\n            else {\n                throw Error(\"non exhaustive match\");\n            }\n        });\n        patternIdxToLongerAltIdxArr = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(onlyRelevantTypes, (clazz) => {\n            const longerAltType = clazz.LONGER_ALT;\n            if (longerAltType) {\n                const longerAltIdxArr = (0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(longerAltType)\n                    ? (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(longerAltType, (type) => (0,lodash_es__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(onlyRelevantTypes, type))\n                    : [(0,lodash_es__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(onlyRelevantTypes, longerAltType)];\n                return longerAltIdxArr;\n            }\n        });\n        patternIdxToPushMode = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(onlyRelevantTypes, (clazz) => clazz.PUSH_MODE);\n        patternIdxToPopMode = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(onlyRelevantTypes, (clazz) => (0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(clazz, \"POP_MODE\"));\n    });\n    let patternIdxToCanLineTerminator;\n    tracer(\"Line Terminator Handling\", () => {\n        const lineTerminatorCharCodes = getCharCodes(options.lineTerminatorCharacters);\n        patternIdxToCanLineTerminator = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(onlyRelevantTypes, (tokType) => false);\n        if (options.positionTracking !== \"onlyOffset\") {\n            patternIdxToCanLineTerminator = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(onlyRelevantTypes, (tokType) => {\n                if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(tokType, \"LINE_BREAKS\")) {\n                    return !!tokType.LINE_BREAKS;\n                }\n                else {\n                    return (checkLineBreaksIssues(tokType, lineTerminatorCharCodes) === false &&\n                        (0,_reg_exp_js__WEBPACK_IMPORTED_MODULE_3__.canMatchCharCode)(lineTerminatorCharCodes, tokType.PATTERN));\n                }\n            });\n        }\n    });\n    let patternIdxToIsCustom;\n    let patternIdxToShort;\n    let emptyGroups;\n    let patternIdxToConfig;\n    tracer(\"Misc Mapping #2\", () => {\n        patternIdxToIsCustom = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(onlyRelevantTypes, isCustomPattern);\n        patternIdxToShort = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(allTransformedPatterns, isShortPattern);\n        emptyGroups = (0,lodash_es__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(onlyRelevantTypes, (acc, clazz) => {\n            const groupName = clazz.GROUP;\n            if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(groupName) && !(groupName === _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.Lexer.SKIPPED)) {\n                acc[groupName] = [];\n            }\n            return acc;\n        }, {});\n        patternIdxToConfig = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(allTransformedPatterns, (x, idx) => {\n            return {\n                pattern: allTransformedPatterns[idx],\n                longerAlt: patternIdxToLongerAltIdxArr[idx],\n                canLineTerminator: patternIdxToCanLineTerminator[idx],\n                isCustom: patternIdxToIsCustom[idx],\n                short: patternIdxToShort[idx],\n                group: patternIdxToGroup[idx],\n                push: patternIdxToPushMode[idx],\n                pop: patternIdxToPopMode[idx],\n                tokenTypeIdx: patternIdxToType[idx],\n                tokenType: onlyRelevantTypes[idx],\n            };\n        });\n    });\n    let canBeOptimized = true;\n    let charCodeToPatternIdxToConfig = [];\n    if (!options.safeMode) {\n        tracer(\"First Char Optimization\", () => {\n            charCodeToPatternIdxToConfig = (0,lodash_es__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(onlyRelevantTypes, (result, currTokType, idx) => {\n                if (typeof currTokType.PATTERN === \"string\") {\n                    const charCode = currTokType.PATTERN.charCodeAt(0);\n                    const optimizedIdx = charCodeToOptimizedIndex(charCode);\n                    addToMapOfArrays(result, optimizedIdx, patternIdxToConfig[idx]);\n                }\n                else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(currTokType.START_CHARS_HINT)) {\n                    let lastOptimizedIdx;\n                    (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(currTokType.START_CHARS_HINT, (charOrInt) => {\n                        const charCode = typeof charOrInt === \"string\"\n                            ? charOrInt.charCodeAt(0)\n                            : charOrInt;\n                        const currOptimizedIdx = charCodeToOptimizedIndex(charCode);\n                        // Avoid adding the config multiple times\n                        /* istanbul ignore else */\n                        // - Difficult to check this scenario effects as it is only a performance\n                        //   optimization that does not change correctness\n                        if (lastOptimizedIdx !== currOptimizedIdx) {\n                            lastOptimizedIdx = currOptimizedIdx;\n                            addToMapOfArrays(result, currOptimizedIdx, patternIdxToConfig[idx]);\n                        }\n                    });\n                }\n                else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(currTokType.PATTERN)) {\n                    if (currTokType.PATTERN.unicode) {\n                        canBeOptimized = false;\n                        if (options.ensureOptimizations) {\n                            (0,_chevrotain_utils__WEBPACK_IMPORTED_MODULE_2__.PRINT_ERROR)(`${_reg_exp_js__WEBPACK_IMPORTED_MODULE_3__.failedOptimizationPrefixMsg}` +\n                                `\\tUnable to analyze < ${currTokType.PATTERN.toString()} > pattern.\\n` +\n                                \"\\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\\n\" +\n                                \"\\tThis will disable the lexer's first char optimizations.\\n\" +\n                                \"\\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE\");\n                        }\n                    }\n                    else {\n                        const optimizedCodes = (0,_reg_exp_js__WEBPACK_IMPORTED_MODULE_3__.getOptimizedStartCodesIndices)(currTokType.PATTERN, options.ensureOptimizations);\n                        /* istanbul ignore if */\n                        // start code will only be empty given an empty regExp or failure of regexp-to-ast library\n                        // the first should be a different validation and the second cannot be tested.\n                        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(optimizedCodes)) {\n                            // we cannot understand what codes may start possible matches\n                            // The optimization correctness requires knowing start codes for ALL patterns.\n                            // Not actually sure this is an error, no debug message\n                            canBeOptimized = false;\n                        }\n                        (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(optimizedCodes, (code) => {\n                            addToMapOfArrays(result, code, patternIdxToConfig[idx]);\n                        });\n                    }\n                }\n                else {\n                    if (options.ensureOptimizations) {\n                        (0,_chevrotain_utils__WEBPACK_IMPORTED_MODULE_2__.PRINT_ERROR)(`${_reg_exp_js__WEBPACK_IMPORTED_MODULE_3__.failedOptimizationPrefixMsg}` +\n                            `\\tTokenType: <${currTokType.name}> is using a custom token pattern without providing <start_chars_hint> parameter.\\n` +\n                            \"\\tThis will disable the lexer's first char optimizations.\\n\" +\n                            \"\\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE\");\n                    }\n                    canBeOptimized = false;\n                }\n                return result;\n            }, []);\n        });\n    }\n    return {\n        emptyGroups: emptyGroups,\n        patternIdxToConfig: patternIdxToConfig,\n        charCodeToPatternIdxToConfig: charCodeToPatternIdxToConfig,\n        hasCustom: hasCustom,\n        canBeOptimized: canBeOptimized,\n    };\n}\nfunction validatePatterns(tokenTypes, validModesNames) {\n    let errors = [];\n    const missingResult = findMissingPatterns(tokenTypes);\n    errors = errors.concat(missingResult.errors);\n    const invalidResult = findInvalidPatterns(missingResult.valid);\n    const validTokenTypes = invalidResult.valid;\n    errors = errors.concat(invalidResult.errors);\n    errors = errors.concat(validateRegExpPattern(validTokenTypes));\n    errors = errors.concat(findInvalidGroupType(validTokenTypes));\n    errors = errors.concat(findModesThatDoNotExist(validTokenTypes, validModesNames));\n    errors = errors.concat(findUnreachablePatterns(validTokenTypes));\n    return errors;\n}\nfunction validateRegExpPattern(tokenTypes) {\n    let errors = [];\n    const withRegExpPatterns = (0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(tokenTypes, (currTokType) => (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(currTokType[PATTERN]));\n    errors = errors.concat(findEndOfInputAnchor(withRegExpPatterns));\n    errors = errors.concat(findStartOfInputAnchor(withRegExpPatterns));\n    errors = errors.concat(findUnsupportedFlags(withRegExpPatterns));\n    errors = errors.concat(findDuplicatePatterns(withRegExpPatterns));\n    errors = errors.concat(findEmptyMatchRegExps(withRegExpPatterns));\n    return errors;\n}\nfunction findMissingPatterns(tokenTypes) {\n    const tokenTypesWithMissingPattern = (0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(tokenTypes, (currType) => {\n        return !(0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(currType, PATTERN);\n    });\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(tokenTypesWithMissingPattern, (currType) => {\n        return {\n            message: \"Token Type: ->\" +\n                currType.name +\n                \"<- missing static 'PATTERN' property\",\n            type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.MISSING_PATTERN,\n            tokenTypes: [currType],\n        };\n    });\n    const valid = (0,lodash_es__WEBPACK_IMPORTED_MODULE_20__[\"default\"])(tokenTypes, tokenTypesWithMissingPattern);\n    return { errors, valid };\n}\nfunction findInvalidPatterns(tokenTypes) {\n    const tokenTypesWithInvalidPattern = (0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(tokenTypes, (currType) => {\n        const pattern = currType[PATTERN];\n        return (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(pattern) &&\n            !(0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(pattern) &&\n            !(0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(pattern, \"exec\") &&\n            !(0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(pattern));\n    });\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(tokenTypesWithInvalidPattern, (currType) => {\n        return {\n            message: \"Token Type: ->\" +\n                currType.name +\n                \"<- static 'PATTERN' can only be a RegExp, a\" +\n                \" Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.\",\n            type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.INVALID_PATTERN,\n            tokenTypes: [currType],\n        };\n    });\n    const valid = (0,lodash_es__WEBPACK_IMPORTED_MODULE_20__[\"default\"])(tokenTypes, tokenTypesWithInvalidPattern);\n    return { errors, valid };\n}\nconst end_of_input = /[^\\\\][$]/;\nfunction findEndOfInputAnchor(tokenTypes) {\n    class EndAnchorFinder extends _chevrotain_regexp_to_ast__WEBPACK_IMPORTED_MODULE_0__.BaseRegExpVisitor {\n        constructor() {\n            super(...arguments);\n            this.found = false;\n        }\n        visitEndAnchor(node) {\n            this.found = true;\n        }\n    }\n    const invalidRegex = (0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(tokenTypes, (currType) => {\n        const pattern = currType.PATTERN;\n        try {\n            const regexpAst = (0,_reg_exp_parser_js__WEBPACK_IMPORTED_MODULE_4__.getRegExpAst)(pattern);\n            const endAnchorVisitor = new EndAnchorFinder();\n            endAnchorVisitor.visit(regexpAst);\n            return endAnchorVisitor.found;\n        }\n        catch (e) {\n            // old behavior in case of runtime exceptions with regexp-to-ast.\n            /* istanbul ignore next - cannot ensure an error in regexp-to-ast*/\n            return end_of_input.test(pattern.source);\n        }\n    });\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(invalidRegex, (currType) => {\n        return {\n            message: \"Unexpected RegExp Anchor Error:\\n\" +\n                \"\\tToken Type: ->\" +\n                currType.name +\n                \"<- static 'PATTERN' cannot contain end of input anchor '$'\\n\" +\n                \"\\tSee chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\" +\n                \"\\tfor details.\",\n            type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.EOI_ANCHOR_FOUND,\n            tokenTypes: [currType],\n        };\n    });\n    return errors;\n}\nfunction findEmptyMatchRegExps(tokenTypes) {\n    const matchesEmptyString = (0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(tokenTypes, (currType) => {\n        const pattern = currType.PATTERN;\n        return pattern.test(\"\");\n    });\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(matchesEmptyString, (currType) => {\n        return {\n            message: \"Token Type: ->\" +\n                currType.name +\n                \"<- static 'PATTERN' must not match an empty string\",\n            type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.EMPTY_MATCH_PATTERN,\n            tokenTypes: [currType],\n        };\n    });\n    return errors;\n}\nconst start_of_input = /[^\\\\[][\\^]|^\\^/;\nfunction findStartOfInputAnchor(tokenTypes) {\n    class StartAnchorFinder extends _chevrotain_regexp_to_ast__WEBPACK_IMPORTED_MODULE_0__.BaseRegExpVisitor {\n        constructor() {\n            super(...arguments);\n            this.found = false;\n        }\n        visitStartAnchor(node) {\n            this.found = true;\n        }\n    }\n    const invalidRegex = (0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(tokenTypes, (currType) => {\n        const pattern = currType.PATTERN;\n        try {\n            const regexpAst = (0,_reg_exp_parser_js__WEBPACK_IMPORTED_MODULE_4__.getRegExpAst)(pattern);\n            const startAnchorVisitor = new StartAnchorFinder();\n            startAnchorVisitor.visit(regexpAst);\n            return startAnchorVisitor.found;\n        }\n        catch (e) {\n            // old behavior in case of runtime exceptions with regexp-to-ast.\n            /* istanbul ignore next - cannot ensure an error in regexp-to-ast*/\n            return start_of_input.test(pattern.source);\n        }\n    });\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(invalidRegex, (currType) => {\n        return {\n            message: \"Unexpected RegExp Anchor Error:\\n\" +\n                \"\\tToken Type: ->\" +\n                currType.name +\n                \"<- static 'PATTERN' cannot contain start of input anchor '^'\\n\" +\n                \"\\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\" +\n                \"\\tfor details.\",\n            type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.SOI_ANCHOR_FOUND,\n            tokenTypes: [currType],\n        };\n    });\n    return errors;\n}\nfunction findUnsupportedFlags(tokenTypes) {\n    const invalidFlags = (0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(tokenTypes, (currType) => {\n        const pattern = currType[PATTERN];\n        return pattern instanceof RegExp && (pattern.multiline || pattern.global);\n    });\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(invalidFlags, (currType) => {\n        return {\n            message: \"Token Type: ->\" +\n                currType.name +\n                \"<- static 'PATTERN' may NOT contain global('g') or multiline('m')\",\n            type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.UNSUPPORTED_FLAGS_FOUND,\n            tokenTypes: [currType],\n        };\n    });\n    return errors;\n}\n// This can only test for identical duplicate RegExps, not semantically equivalent ones.\nfunction findDuplicatePatterns(tokenTypes) {\n    const found = [];\n    let identicalPatterns = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(tokenTypes, (outerType) => {\n        return (0,lodash_es__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(tokenTypes, (result, innerType) => {\n            if (outerType.PATTERN.source === innerType.PATTERN.source &&\n                !(0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(found, innerType) &&\n                innerType.PATTERN !== _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.Lexer.NA) {\n                // this avoids duplicates in the result, each Token Type may only appear in one \"set\"\n                // in essence we are creating Equivalence classes on equality relation.\n                found.push(innerType);\n                result.push(innerType);\n                return result;\n            }\n            return result;\n        }, []);\n    });\n    identicalPatterns = (0,lodash_es__WEBPACK_IMPORTED_MODULE_21__[\"default\"])(identicalPatterns);\n    const duplicatePatterns = (0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(identicalPatterns, (currIdenticalSet) => {\n        return currIdenticalSet.length > 1;\n    });\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(duplicatePatterns, (setOfIdentical) => {\n        const tokenTypeNames = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(setOfIdentical, (currType) => {\n            return currType.name;\n        });\n        const dupPatternSrc = (0,lodash_es__WEBPACK_IMPORTED_MODULE_22__[\"default\"])(setOfIdentical).PATTERN;\n        return {\n            message: `The same RegExp pattern ->${dupPatternSrc}<-` +\n                `has been used in all of the following Token Types: ${tokenTypeNames.join(\", \")} <-`,\n            type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.DUPLICATE_PATTERNS_FOUND,\n            tokenTypes: setOfIdentical,\n        };\n    });\n    return errors;\n}\nfunction findInvalidGroupType(tokenTypes) {\n    const invalidTypes = (0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(tokenTypes, (clazz) => {\n        if (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(clazz, \"GROUP\")) {\n            return false;\n        }\n        const group = clazz.GROUP;\n        return group !== _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.Lexer.SKIPPED && group !== _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.Lexer.NA && !(0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(group);\n    });\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(invalidTypes, (currType) => {\n        return {\n            message: \"Token Type: ->\" +\n                currType.name +\n                \"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String\",\n            type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.INVALID_GROUP_TYPE_FOUND,\n            tokenTypes: [currType],\n        };\n    });\n    return errors;\n}\nfunction findModesThatDoNotExist(tokenTypes, validModes) {\n    const invalidModes = (0,lodash_es__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(tokenTypes, (clazz) => {\n        return (clazz.PUSH_MODE !== undefined && !(0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(validModes, clazz.PUSH_MODE));\n    });\n    const errors = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(invalidModes, (tokType) => {\n        const msg = `Token Type: ->${tokType.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${tokType.PUSH_MODE}<-` +\n            `which does not exist`;\n        return {\n            message: msg,\n            type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.PUSH_MODE_DOES_NOT_EXIST,\n            tokenTypes: [tokType],\n        };\n    });\n    return errors;\n}\nfunction findUnreachablePatterns(tokenTypes) {\n    const errors = [];\n    const canBeTested = (0,lodash_es__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(tokenTypes, (result, tokType, idx) => {\n        const pattern = tokType.PATTERN;\n        if (pattern === _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.Lexer.NA) {\n            return result;\n        }\n        // a more comprehensive validation for all forms of regExps would require\n        // deeper regExp analysis capabilities\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(pattern)) {\n            result.push({ str: pattern, idx, tokenType: tokType });\n        }\n        else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(pattern) && noMetaChar(pattern)) {\n            result.push({ str: pattern.source, idx, tokenType: tokType });\n        }\n        return result;\n    }, []);\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(tokenTypes, (tokType, testIdx) => {\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(canBeTested, ({ str, idx, tokenType }) => {\n            if (testIdx < idx && testTokenType(str, tokType.PATTERN)) {\n                const msg = `Token: ->${tokenType.name}<- can never be matched.\\n` +\n                    `Because it appears AFTER the Token Type ->${tokType.name}<-` +\n                    `in the lexer's definition.\\n` +\n                    `See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;\n                errors.push({\n                    message: msg,\n                    type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.UNREACHABLE_PATTERN,\n                    tokenTypes: [tokType, tokenType],\n                });\n            }\n        });\n    });\n    return errors;\n}\nfunction testTokenType(str, pattern) {\n    /* istanbul ignore else */\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(pattern)) {\n        const regExpArray = pattern.exec(str);\n        return regExpArray !== null && regExpArray.index === 0;\n    }\n    else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(pattern)) {\n        // maintain the API of custom patterns\n        return pattern(str, 0, [], {});\n    }\n    else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(pattern, \"exec\")) {\n        // maintain the API of custom patterns\n        return pattern.exec(str, 0, [], {});\n    }\n    else if (typeof pattern === \"string\") {\n        return pattern === str;\n    }\n    else {\n        throw Error(\"non exhaustive match\");\n    }\n}\nfunction noMetaChar(regExp) {\n    //https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp\n    const metaChars = [\n        \".\",\n        \"\\\\\",\n        \"[\",\n        \"]\",\n        \"|\",\n        \"^\",\n        \"$\",\n        \"(\",\n        \")\",\n        \"?\",\n        \"*\",\n        \"+\",\n        \"{\",\n    ];\n    return ((0,lodash_es__WEBPACK_IMPORTED_MODULE_23__[\"default\"])(metaChars, (char) => regExp.source.indexOf(char) !== -1) === undefined);\n}\nfunction addStartOfInput(pattern) {\n    const flags = pattern.ignoreCase ? \"i\" : \"\";\n    // always wrapping in a none capturing group preceded by '^' to make sure matching can only work on start of input.\n    // duplicate/redundant start of input markers have no meaning (/^^^^A/ === /^A/)\n    return new RegExp(`^(?:${pattern.source})`, flags);\n}\nfunction addStickyFlag(pattern) {\n    const flags = pattern.ignoreCase ? \"iy\" : \"y\";\n    // always wrapping in a none capturing group preceded by '^' to make sure matching can only work on start of input.\n    // duplicate/redundant start of input markers have no meaning (/^^^^A/ === /^A/)\n    return new RegExp(`${pattern.source}`, flags);\n}\nfunction performRuntimeChecks(lexerDefinition, trackLines, lineTerminatorCharacters) {\n    const errors = [];\n    // some run time checks to help the end users.\n    if (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(lexerDefinition, DEFAULT_MODE)) {\n        errors.push({\n            message: \"A MultiMode Lexer cannot be initialized without a <\" +\n                DEFAULT_MODE +\n                \"> property in its definition\\n\",\n            type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE,\n        });\n    }\n    if (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(lexerDefinition, MODES)) {\n        errors.push({\n            message: \"A MultiMode Lexer cannot be initialized without a <\" +\n                MODES +\n                \"> property in its definition\\n\",\n            type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY,\n        });\n    }\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(lexerDefinition, MODES) &&\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(lexerDefinition, DEFAULT_MODE) &&\n        !(0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(lexerDefinition.modes, lexerDefinition.defaultMode)) {\n        errors.push({\n            message: `A MultiMode Lexer cannot be initialized with a ${DEFAULT_MODE}: <${lexerDefinition.defaultMode}>` +\n                `which does not exist\\n`,\n            type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST,\n        });\n    }\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(lexerDefinition, MODES)) {\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(lexerDefinition.modes, (currModeValue, currModeName) => {\n            (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(currModeValue, (currTokType, currIdx) => {\n                if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(currTokType)) {\n                    errors.push({\n                        message: `A Lexer cannot be initialized using an undefined Token Type. Mode:` +\n                            `<${currModeName}> at index: <${currIdx}>\\n`,\n                        type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED,\n                    });\n                }\n                else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(currTokType, \"LONGER_ALT\")) {\n                    const longerAlt = (0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(currTokType.LONGER_ALT)\n                        ? currTokType.LONGER_ALT\n                        : [currTokType.LONGER_ALT];\n                    (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(longerAlt, (currLongerAlt) => {\n                        if (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(currLongerAlt) &&\n                            !(0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(currModeValue, currLongerAlt)) {\n                            errors.push({\n                                message: `A MultiMode Lexer cannot be initialized with a longer_alt <${currLongerAlt.name}> on token <${currTokType.name}> outside of mode <${currModeName}>\\n`,\n                                type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE,\n                            });\n                        }\n                    });\n                }\n            });\n        });\n    }\n    return errors;\n}\nfunction performWarningRuntimeChecks(lexerDefinition, trackLines, lineTerminatorCharacters) {\n    const warnings = [];\n    let hasAnyLineBreak = false;\n    const allTokenTypes = (0,lodash_es__WEBPACK_IMPORTED_MODULE_21__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_24__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_25__[\"default\"])(lexerDefinition.modes)));\n    const concreteTokenTypes = (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(allTokenTypes, (currType) => currType[PATTERN] === _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.Lexer.NA);\n    const terminatorCharCodes = getCharCodes(lineTerminatorCharacters);\n    if (trackLines) {\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(concreteTokenTypes, (tokType) => {\n            const currIssue = checkLineBreaksIssues(tokType, terminatorCharCodes);\n            if (currIssue !== false) {\n                const message = buildLineBreakIssueMessage(tokType, currIssue);\n                const warningDescriptor = {\n                    message,\n                    type: currIssue.issue,\n                    tokenType: tokType,\n                };\n                warnings.push(warningDescriptor);\n            }\n            else {\n                // we don't want to attempt to scan if the user explicitly specified the line_breaks option.\n                if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(tokType, \"LINE_BREAKS\")) {\n                    if (tokType.LINE_BREAKS === true) {\n                        hasAnyLineBreak = true;\n                    }\n                }\n                else {\n                    if ((0,_reg_exp_js__WEBPACK_IMPORTED_MODULE_3__.canMatchCharCode)(terminatorCharCodes, tokType.PATTERN)) {\n                        hasAnyLineBreak = true;\n                    }\n                }\n            }\n        });\n    }\n    if (trackLines && !hasAnyLineBreak) {\n        warnings.push({\n            message: \"Warning: No LINE_BREAKS Found.\\n\" +\n                \"\\tThis Lexer has been defined to track line and column information,\\n\" +\n                \"\\tBut none of the Token Types can be identified as matching a line terminator.\\n\" +\n                \"\\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \\n\" +\n                \"\\tfor details.\",\n            type: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.NO_LINE_BREAKS_FLAGS,\n        });\n    }\n    return warnings;\n}\nfunction cloneEmptyGroups(emptyGroups) {\n    const clonedResult = {};\n    const groupKeys = (0,lodash_es__WEBPACK_IMPORTED_MODULE_26__[\"default\"])(emptyGroups);\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(groupKeys, (currKey) => {\n        const currGroupValue = emptyGroups[currKey];\n        /* istanbul ignore else */\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(currGroupValue)) {\n            clonedResult[currKey] = [];\n        }\n        else {\n            throw Error(\"non exhaustive match\");\n        }\n    });\n    return clonedResult;\n}\n// TODO: refactor to avoid duplication\nfunction isCustomPattern(tokenType) {\n    const pattern = tokenType.PATTERN;\n    /* istanbul ignore else */\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(pattern)) {\n        return false;\n    }\n    else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(pattern)) {\n        // CustomPatternMatcherFunc - custom patterns do not require any transformations, only wrapping in a RegExp Like object\n        return true;\n    }\n    else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(pattern, \"exec\")) {\n        // ICustomPattern\n        return true;\n    }\n    else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(pattern)) {\n        return false;\n    }\n    else {\n        throw Error(\"non exhaustive match\");\n    }\n}\nfunction isShortPattern(pattern) {\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(pattern) && pattern.length === 1) {\n        return pattern.charCodeAt(0);\n    }\n    else {\n        return false;\n    }\n}\n/**\n * Faster than using a RegExp for default newline detection during lexing.\n */\nconst LineTerminatorOptimizedTester = {\n    // implements /\\n|\\r\\n?/g.test\n    test: function (text) {\n        const len = text.length;\n        for (let i = this.lastIndex; i < len; i++) {\n            const c = text.charCodeAt(i);\n            if (c === 10) {\n                this.lastIndex = i + 1;\n                return true;\n            }\n            else if (c === 13) {\n                if (text.charCodeAt(i + 1) === 10) {\n                    this.lastIndex = i + 2;\n                }\n                else {\n                    this.lastIndex = i + 1;\n                }\n                return true;\n            }\n        }\n        return false;\n    },\n    lastIndex: 0,\n};\nfunction checkLineBreaksIssues(tokType, lineTerminatorCharCodes) {\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(tokType, \"LINE_BREAKS\")) {\n        // if the user explicitly declared the line_breaks option we will respect their choice\n        // and assume it is correct.\n        return false;\n    }\n    else {\n        /* istanbul ignore else */\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(tokType.PATTERN)) {\n            try {\n                // TODO: why is the casting suddenly needed?\n                (0,_reg_exp_js__WEBPACK_IMPORTED_MODULE_3__.canMatchCharCode)(lineTerminatorCharCodes, tokType.PATTERN);\n            }\n            catch (e) {\n                /* istanbul ignore next - to test this we would have to mock <canMatchCharCode> to throw an error */\n                return {\n                    issue: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.IDENTIFY_TERMINATOR,\n                    errMsg: e.message,\n                };\n            }\n            return false;\n        }\n        else if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(tokType.PATTERN)) {\n            // string literal patterns can always be analyzed to detect line terminator usage\n            return false;\n        }\n        else if (isCustomPattern(tokType)) {\n            // custom token types\n            return { issue: _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.CUSTOM_LINE_BREAK };\n        }\n        else {\n            throw Error(\"non exhaustive match\");\n        }\n    }\n}\nfunction buildLineBreakIssueMessage(tokType, details) {\n    /* istanbul ignore else */\n    if (details.issue === _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.IDENTIFY_TERMINATOR) {\n        return (\"Warning: unable to identify line terminator usage in pattern.\\n\" +\n            `\\tThe problem is in the <${tokType.name}> Token Type\\n` +\n            `\\t Root cause: ${details.errMsg}.\\n` +\n            \"\\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR\");\n    }\n    else if (details.issue === _lexer_public_js__WEBPACK_IMPORTED_MODULE_1__.LexerDefinitionErrorType.CUSTOM_LINE_BREAK) {\n        return (\"Warning: A Custom Token Pattern should specify the <line_breaks> option.\\n\" +\n            `\\tThe problem is in the <${tokType.name}> Token Type\\n` +\n            \"\\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK\");\n    }\n    else {\n        throw Error(\"non exhaustive match\");\n    }\n}\nfunction getCharCodes(charsOrCodes) {\n    const charCodes = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(charsOrCodes, (numOrString) => {\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(numOrString)) {\n            return numOrString.charCodeAt(0);\n        }\n        else {\n            return numOrString;\n        }\n    });\n    return charCodes;\n}\nfunction addToMapOfArrays(map, key, value) {\n    if (map[key] === undefined) {\n        map[key] = [value];\n    }\n    else {\n        map[key].push(value);\n    }\n}\nconst minOptimizationVal = 256;\n/**\n * We are mapping charCode above ASCI (256) into buckets each in the size of 256.\n * This is because ASCI are the most common start chars so each one of those will get its own\n * possible token configs vector.\n *\n * Tokens starting with charCodes \"above\" ASCI are uncommon, so we can \"afford\"\n * to place these into buckets of possible token configs, What we gain from\n * this is avoiding the case of creating an optimization 'charCodeToPatternIdxToConfig'\n * which would contain 10,000+ arrays of small size (e.g unicode Identifiers scenario).\n * Our 'charCodeToPatternIdxToConfig' max size will now be:\n * 256 + (2^16 / 2^8) - 1 === 511\n *\n * note the hack for fast division integer part extraction\n * See: https://stackoverflow.com/a/4228528\n */\nlet charCodeToOptimizedIdxMap = [];\nfunction charCodeToOptimizedIndex(charCode) {\n    return charCode < minOptimizationVal\n        ? charCode\n        : charCodeToOptimizedIdxMap[charCode];\n}\n/**\n * This is a compromise between cold start / hot running performance\n * Creating this array takes ~3ms on a modern machine,\n * But if we perform the computation at runtime as needed the CSS Lexer benchmark\n * performance degrades by ~10%\n *\n * TODO: Perhaps it should be lazy initialized only if a charCode > 255 is used.\n */\nfunction initCharCodeToOptimizedIndexMap() {\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(charCodeToOptimizedIdxMap)) {\n        charCodeToOptimizedIdxMap = new Array(65536);\n        for (let i = 0; i < 65536; i++) {\n            charCodeToOptimizedIdxMap[i] = i > 255 ? 255 + ~~(i / 255) : i;\n        }\n    }\n}\n//# sourceMappingURL=lexer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3NjYW4vbGV4ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE4RDtBQUNPO0FBQ3VKO0FBQzVLO0FBQzZEO0FBQzFEO0FBQ25EO0FBQ087QUFDQTtBQUNBO0FBQ0E7QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUCxjQUFjLHFEQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDRCQUE0QixxREFBTTtBQUNsQyx5Q0FBeUMsbURBQUs7QUFDOUMsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxxREFBRztBQUNwQztBQUNBO0FBQ0EsZ0JBQWdCLHFEQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixxREFBUTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixzREFBVTtBQUMvQjtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRkFBcUY7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIscURBQUc7QUFDOUIsNEJBQTRCLHFEQUFHO0FBQy9CO0FBQ0E7QUFDQSw4QkFBOEIsbURBQUs7QUFDbkM7QUFDQTtBQUNBLHFCQUFxQixzREFBUTtBQUM3QjtBQUNBO0FBQ0EscUJBQXFCLHNEQUFXO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Qsc0NBQXNDLHFEQUFHO0FBQ3pDO0FBQ0E7QUFDQSx3Q0FBd0Msc0RBQU87QUFDL0Msc0JBQXNCLHFEQUFHLDBCQUEwQixzREFBTztBQUMxRCx1QkFBdUIsc0RBQU87QUFDOUI7QUFDQTtBQUNBLFNBQVM7QUFDVCwrQkFBK0IscURBQUc7QUFDbEMsOEJBQThCLHFEQUFHLCtCQUErQixzREFBRztBQUNuRSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLHFEQUFHO0FBQzNDO0FBQ0EsNENBQTRDLHFEQUFHO0FBQy9DLG9CQUFvQixzREFBRztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw2REFBZ0I7QUFDeEM7QUFDQSxhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixxREFBRztBQUNsQyw0QkFBNEIscURBQUc7QUFDL0Isc0JBQXNCLHNEQUFNO0FBQzVCO0FBQ0EsZ0JBQWdCLHNEQUFRLCtCQUErQixtREFBSztBQUM1RDtBQUNBO0FBQ0E7QUFDQSxTQUFTLElBQUk7QUFDYiw2QkFBNkIscURBQUc7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxzREFBTTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHNEQUFPO0FBQ2hDO0FBQ0Esb0JBQW9CLHNEQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLHlCQUF5QixxREFBUTtBQUNqQztBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsOERBQVcsSUFBSSxvRUFBMkIsQ0FBQztBQUN2RSx5REFBeUQsZ0NBQWdDO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQywwRUFBNkI7QUFDNUU7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHNEQUFPO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0RBQU87QUFDL0I7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsOERBQVcsSUFBSSxvRUFBMkIsQ0FBQztBQUNuRSw2Q0FBNkMsaUJBQWlCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHNEQUFNLDhCQUE4QixxREFBUTtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AseUNBQXlDLHNEQUFNO0FBQy9DLGdCQUFnQixzREFBRztBQUNuQixLQUFLO0FBQ0wsbUJBQW1CLHFEQUFHO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHNFQUF3QjtBQUMxQztBQUNBO0FBQ0EsS0FBSztBQUNMLGtCQUFrQixzREFBVTtBQUM1QixhQUFhO0FBQ2I7QUFDTztBQUNQLHlDQUF5QyxzREFBTTtBQUMvQztBQUNBLGlCQUFpQixxREFBUTtBQUN6QixhQUFhLHNEQUFVO0FBQ3ZCLGFBQWEsc0RBQUc7QUFDaEIsYUFBYSxzREFBUTtBQUNyQixLQUFLO0FBQ0wsbUJBQW1CLHFEQUFHO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLDBCQUEwQixnQ0FBZ0MsZ0JBQWdCO0FBQ25ILGtCQUFrQixzRUFBd0I7QUFDMUM7QUFDQTtBQUNBLEtBQUs7QUFDTCxrQkFBa0Isc0RBQVU7QUFDNUIsYUFBYTtBQUNiO0FBQ0E7QUFDTztBQUNQLGtDQUFrQyx3RUFBaUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixzREFBTTtBQUMvQjtBQUNBO0FBQ0EsOEJBQThCLGdFQUFZO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxtQkFBbUIscURBQUc7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isc0VBQXdCO0FBQzFDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNPO0FBQ1AsK0JBQStCLHNEQUFNO0FBQ3JDO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsbUJBQW1CLHFEQUFHO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHNFQUF3QjtBQUMxQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asb0NBQW9DLHdFQUFpQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHNEQUFNO0FBQy9CO0FBQ0E7QUFDQSw4QkFBOEIsZ0VBQVk7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLG1CQUFtQixxREFBRztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzRUFBd0I7QUFDMUM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ087QUFDUCx5QkFBeUIsc0RBQU07QUFDL0I7QUFDQTtBQUNBLEtBQUs7QUFDTCxtQkFBbUIscURBQUc7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isc0VBQXdCO0FBQzFDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLDRCQUE0QixxREFBRztBQUMvQixlQUFlLHNEQUFNO0FBQ3JCO0FBQ0EsaUJBQWlCLHFEQUFRO0FBQ3pCLHNDQUFzQyxtREFBSztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0wsd0JBQXdCLHNEQUFPO0FBQy9CLDhCQUE4QixzREFBTTtBQUNwQztBQUNBLEtBQUs7QUFDTCxtQkFBbUIscURBQUc7QUFDdEIsK0JBQStCLHFEQUFHO0FBQ2xDO0FBQ0EsU0FBUztBQUNULDhCQUE4QixzREFBSztBQUNuQztBQUNBLGtEQUFrRCxjQUFjO0FBQ2hFLHNFQUFzRSwyQkFBMkI7QUFDakcsa0JBQWtCLHNFQUF3QjtBQUMxQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDTztBQUNQLHlCQUF5QixzREFBTTtBQUMvQixhQUFhLHNEQUFHO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixtREFBSyxzQkFBc0IsbURBQUssUUFBUSxzREFBUTtBQUN6RSxLQUFLO0FBQ0wsbUJBQW1CLHFEQUFHO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHNFQUF3QjtBQUMxQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDTztBQUNQLHlCQUF5QixzREFBTTtBQUMvQixrREFBa0QscURBQVE7QUFDMUQsS0FBSztBQUNMLG1CQUFtQixxREFBRztBQUN0QixxQ0FBcUMsYUFBYSw2REFBNkQsa0JBQWtCO0FBQ2pJO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzRUFBd0I7QUFDMUM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ087QUFDUDtBQUNBLHdCQUF3QixzREFBTTtBQUM5QjtBQUNBLHdCQUF3QixtREFBSztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksc0RBQVE7QUFDcEIsMEJBQTBCLHVDQUF1QztBQUNqRTtBQUNBLGlCQUFpQixxREFBUTtBQUN6QiwwQkFBMEIsOENBQThDO0FBQ3hFO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxzREFBTztBQUNYLFFBQVEsc0RBQU8saUJBQWlCLHFCQUFxQjtBQUNyRDtBQUNBLHdDQUF3QyxlQUFlO0FBQ3ZELGlFQUFpRSxhQUFhO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHNFQUF3QjtBQUNsRDtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFEQUFRO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLGFBQWEsc0RBQVU7QUFDdkI7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQSxhQUFhLHNEQUFHO0FBQ2hCO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxZQUFZLHNEQUFJO0FBQ2hCO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsZUFBZTtBQUM1QztBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGVBQWU7QUFDeEM7QUFDTztBQUNQO0FBQ0E7QUFDQSxTQUFTLHNEQUFHO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isc0VBQXdCO0FBQzFDLFNBQVM7QUFDVDtBQUNBLFNBQVMsc0RBQUc7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzRUFBd0I7QUFDMUMsU0FBUztBQUNUO0FBQ0EsUUFBUSxzREFBRztBQUNYLFFBQVEsc0RBQUc7QUFDWCxTQUFTLHNEQUFHO0FBQ1o7QUFDQSx1RUFBdUUsYUFBYSxLQUFLLDRCQUE0QjtBQUNySDtBQUNBLGtCQUFrQixzRUFBd0I7QUFDMUMsU0FBUztBQUNUO0FBQ0EsUUFBUSxzREFBRztBQUNYLFFBQVEsc0RBQU87QUFDZixZQUFZLHNEQUFPO0FBQ25CLG9CQUFvQixzREFBVztBQUMvQjtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWEsZUFBZSxRQUFRO0FBQ3BFLDhCQUE4QixzRUFBd0I7QUFDdEQscUJBQXFCO0FBQ3JCO0FBQ0EseUJBQXlCLHNEQUFHO0FBQzVCLHNDQUFzQyxzREFBTztBQUM3QztBQUNBO0FBQ0Esb0JBQW9CLHNEQUFPO0FBQzNCLDZCQUE2QixzREFBVztBQUN4Qyw2QkFBNkIscURBQVE7QUFDckM7QUFDQSx1R0FBdUcsbUJBQW1CLGNBQWMsaUJBQWlCLHFCQUFxQixhQUFhO0FBQzNMLHNDQUFzQyxzRUFBd0I7QUFDOUQsNkJBQTZCO0FBQzdCO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSwwQkFBMEIsc0RBQU8sQ0FBQyxzREFBTyxDQUFDLHNEQUFNO0FBQ2hELCtCQUErQixxREFBTSxvREFBb0QsbURBQUs7QUFDOUY7QUFDQTtBQUNBLFFBQVEsc0RBQU87QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isc0RBQUc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw2REFBZ0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzRUFBd0I7QUFDMUMsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxzQkFBc0Isc0RBQUk7QUFDMUIsSUFBSSxzREFBTztBQUNYO0FBQ0E7QUFDQSxZQUFZLHNEQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsUUFBUSxxREFBUTtBQUNoQjtBQUNBO0FBQ0EsYUFBYSxzREFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxhQUFhLHNEQUFHO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLGFBQWEsc0RBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxRQUFRLHNEQUFRO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLFNBQVM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBRztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkscURBQVE7QUFDcEI7QUFDQTtBQUNBLGdCQUFnQiw2REFBZ0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsc0VBQXdCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsc0RBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixPQUFPLHNFQUF3QjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsMEJBQTBCLHNFQUF3QjtBQUNsRDtBQUNBLHdDQUF3QyxhQUFhO0FBQ3JELDhCQUE4QixlQUFlO0FBQzdDO0FBQ0E7QUFDQSwrQkFBK0Isc0VBQXdCO0FBQ3ZEO0FBQ0Esd0NBQXdDLGFBQWE7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IscURBQUc7QUFDekIsWUFBWSxzREFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFPO0FBQ2Y7QUFDQSx3QkFBd0IsV0FBVztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVybWFpZC1kaWFncmFtLWVkaXRvci8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYi9zcmMvc2Nhbi9sZXhlci5qcz80ZGIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VSZWdFeHBWaXNpdG9yIH0gZnJvbSBcIkBjaGV2cm90YWluL3JlZ2V4cC10by1hc3RcIjtcbmltcG9ydCB7IExleGVyLCBMZXhlckRlZmluaXRpb25FcnJvclR5cGUsIH0gZnJvbSBcIi4vbGV4ZXJfcHVibGljLmpzXCI7XG5pbXBvcnQgeyBjb21wYWN0LCBkZWZhdWx0cywgZGlmZmVyZW5jZSwgZmlsdGVyLCBmaW5kLCBmaXJzdCwgZmxhdHRlbiwgZm9yRWFjaCwgaGFzLCBpbmNsdWRlcywgaW5kZXhPZiwgaXNBcnJheSwgaXNFbXB0eSwgaXNGdW5jdGlvbiwgaXNSZWdFeHAsIGlzU3RyaW5nLCBpc1VuZGVmaW5lZCwga2V5cywgbWFwLCByZWR1Y2UsIHJlamVjdCwgdmFsdWVzLCB9IGZyb20gXCJsb2Rhc2gtZXNcIjtcbmltcG9ydCB7IFBSSU5UX0VSUk9SIH0gZnJvbSBcIkBjaGV2cm90YWluL3V0aWxzXCI7XG5pbXBvcnQgeyBjYW5NYXRjaENoYXJDb2RlLCBmYWlsZWRPcHRpbWl6YXRpb25QcmVmaXhNc2csIGdldE9wdGltaXplZFN0YXJ0Q29kZXNJbmRpY2VzLCB9IGZyb20gXCIuL3JlZ19leHAuanNcIjtcbmltcG9ydCB7IGdldFJlZ0V4cEFzdCB9IGZyb20gXCIuL3JlZ19leHBfcGFyc2VyLmpzXCI7XG5jb25zdCBQQVRURVJOID0gXCJQQVRURVJOXCI7XG5leHBvcnQgY29uc3QgREVGQVVMVF9NT0RFID0gXCJkZWZhdWx0TW9kZVwiO1xuZXhwb3J0IGNvbnN0IE1PREVTID0gXCJtb2Rlc1wiO1xuZXhwb3J0IGxldCBTVVBQT1JUX1NUSUNLWSA9IHR5cGVvZiBuZXcgUmVnRXhwKFwiKD86KVwiKS5zdGlja3kgPT09IFwiYm9vbGVhblwiO1xuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGVTdGlja3koKSB7XG4gICAgU1VQUE9SVF9TVElDS1kgPSBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBlbmFibGVTdGlja3koKSB7XG4gICAgU1VQUE9SVF9TVElDS1kgPSB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFuYWx5emVUb2tlblR5cGVzKHRva2VuVHlwZXMsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gZGVmYXVsdHMob3B0aW9ucywge1xuICAgICAgICB1c2VTdGlja3k6IFNVUFBPUlRfU1RJQ0tZLFxuICAgICAgICBkZWJ1ZzogZmFsc2UsXG4gICAgICAgIHNhZmVNb2RlOiBmYWxzZSxcbiAgICAgICAgcG9zaXRpb25UcmFja2luZzogXCJmdWxsXCIsXG4gICAgICAgIGxpbmVUZXJtaW5hdG9yQ2hhcmFjdGVyczogW1wiXFxyXCIsIFwiXFxuXCJdLFxuICAgICAgICB0cmFjZXI6IChtc2csIGFjdGlvbikgPT4gYWN0aW9uKCksXG4gICAgfSk7XG4gICAgY29uc3QgdHJhY2VyID0gb3B0aW9ucy50cmFjZXI7XG4gICAgdHJhY2VyKFwiaW5pdENoYXJDb2RlVG9PcHRpbWl6ZWRJbmRleE1hcFwiLCAoKSA9PiB7XG4gICAgICAgIGluaXRDaGFyQ29kZVRvT3B0aW1pemVkSW5kZXhNYXAoKTtcbiAgICB9KTtcbiAgICBsZXQgb25seVJlbGV2YW50VHlwZXM7XG4gICAgdHJhY2VyKFwiUmVqZWN0IExleGVyLk5BXCIsICgpID0+IHtcbiAgICAgICAgb25seVJlbGV2YW50VHlwZXMgPSByZWplY3QodG9rZW5UeXBlcywgKGN1cnJUeXBlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY3VyclR5cGVbUEFUVEVSTl0gPT09IExleGVyLk5BO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBsZXQgaGFzQ3VzdG9tID0gZmFsc2U7XG4gICAgbGV0IGFsbFRyYW5zZm9ybWVkUGF0dGVybnM7XG4gICAgdHJhY2VyKFwiVHJhbnNmb3JtIFBhdHRlcm5zXCIsICgpID0+IHtcbiAgICAgICAgaGFzQ3VzdG9tID0gZmFsc2U7XG4gICAgICAgIGFsbFRyYW5zZm9ybWVkUGF0dGVybnMgPSBtYXAob25seVJlbGV2YW50VHlwZXMsIChjdXJyVHlwZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VyclBhdHRlcm4gPSBjdXJyVHlwZVtQQVRURVJOXTtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICBpZiAoaXNSZWdFeHAoY3VyclBhdHRlcm4pKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnRXhwU291cmNlID0gY3VyclBhdHRlcm4uc291cmNlO1xuICAgICAgICAgICAgICAgIGlmIChyZWdFeHBTb3VyY2UubGVuZ3RoID09PSAxICYmXG4gICAgICAgICAgICAgICAgICAgIC8vIG9ubHkgdGhlc2UgcmVnRXhwIG1ldGEgY2hhcmFjdGVycyB3aGljaCBjYW4gYXBwZWFyIGluIGEgbGVuZ3RoIG9uZSByZWdFeHBcbiAgICAgICAgICAgICAgICAgICAgcmVnRXhwU291cmNlICE9PSBcIl5cIiAmJlxuICAgICAgICAgICAgICAgICAgICByZWdFeHBTb3VyY2UgIT09IFwiJFwiICYmXG4gICAgICAgICAgICAgICAgICAgIHJlZ0V4cFNvdXJjZSAhPT0gXCIuXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgIWN1cnJQYXR0ZXJuLmlnbm9yZUNhc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ0V4cFNvdXJjZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocmVnRXhwU291cmNlLmxlbmd0aCA9PT0gMiAmJlxuICAgICAgICAgICAgICAgICAgICByZWdFeHBTb3VyY2VbMF0gPT09IFwiXFxcXFwiICYmXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdCBhIG1ldGEgY2hhcmFjdGVyXG4gICAgICAgICAgICAgICAgICAgICFpbmNsdWRlcyhbXG4gICAgICAgICAgICAgICAgICAgICAgICBcImRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiRFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJCXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ3XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIldcIixcbiAgICAgICAgICAgICAgICAgICAgXSwgcmVnRXhwU291cmNlWzFdKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2NhcGVkIG1ldGEgQ2hhcmFjdGVyczogL1xcKy8gL1xcWy9cbiAgICAgICAgICAgICAgICAgICAgLy8gb3IgcmVkdW5kYW50IGVzY2FwaW5nOiAvXFxhL1xuICAgICAgICAgICAgICAgICAgICAvLyB3aXRob3V0IHRoZSBlc2NhcGluZyBcIlxcXCJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ0V4cFNvdXJjZVsxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLnVzZVN0aWNreVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBhZGRTdGlja3lGbGFnKGN1cnJQYXR0ZXJuKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBhZGRTdGFydE9mSW5wdXQoY3VyclBhdHRlcm4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24oY3VyclBhdHRlcm4pKSB7XG4gICAgICAgICAgICAgICAgaGFzQ3VzdG9tID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyBDdXN0b21QYXR0ZXJuTWF0Y2hlckZ1bmMgLSBjdXN0b20gcGF0dGVybnMgZG8gbm90IHJlcXVpcmUgYW55IHRyYW5zZm9ybWF0aW9ucywgb25seSB3cmFwcGluZyBpbiBhIFJlZ0V4cCBMaWtlIG9iamVjdFxuICAgICAgICAgICAgICAgIHJldHVybiB7IGV4ZWM6IGN1cnJQYXR0ZXJuIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgY3VyclBhdHRlcm4gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBoYXNDdXN0b20gPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIElDdXN0b21QYXR0ZXJuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJQYXR0ZXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGN1cnJQYXR0ZXJuID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJQYXR0ZXJuLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VyclBhdHRlcm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlc2NhcGVkUmVnRXhwU3RyaW5nID0gY3VyclBhdHRlcm4ucmVwbGFjZSgvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csIFwiXFxcXCQmXCIpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3cmFwcGVkUmVnRXhwID0gbmV3IFJlZ0V4cChlc2NhcGVkUmVnRXhwU3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMudXNlU3RpY2t5XG4gICAgICAgICAgICAgICAgICAgICAgICA/IGFkZFN0aWNreUZsYWcod3JhcHBlZFJlZ0V4cClcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYWRkU3RhcnRPZklucHV0KHdyYXBwZWRSZWdFeHApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwibm9uIGV4aGF1c3RpdmUgbWF0Y2hcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIGxldCBwYXR0ZXJuSWR4VG9UeXBlO1xuICAgIGxldCBwYXR0ZXJuSWR4VG9Hcm91cDtcbiAgICBsZXQgcGF0dGVybklkeFRvTG9uZ2VyQWx0SWR4QXJyO1xuICAgIGxldCBwYXR0ZXJuSWR4VG9QdXNoTW9kZTtcbiAgICBsZXQgcGF0dGVybklkeFRvUG9wTW9kZTtcbiAgICB0cmFjZXIoXCJtaXNjIG1hcHBpbmdcIiwgKCkgPT4ge1xuICAgICAgICBwYXR0ZXJuSWR4VG9UeXBlID0gbWFwKG9ubHlSZWxldmFudFR5cGVzLCAoY3VyclR5cGUpID0+IGN1cnJUeXBlLnRva2VuVHlwZUlkeCk7XG4gICAgICAgIHBhdHRlcm5JZHhUb0dyb3VwID0gbWFwKG9ubHlSZWxldmFudFR5cGVzLCAoY2xhenopID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwTmFtZSA9IGNsYXp6LkdST1VQO1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgIGlmIChncm91cE5hbWUgPT09IExleGVyLlNLSVBQRUQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNTdHJpbmcoZ3JvdXBOYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBncm91cE5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc1VuZGVmaW5lZChncm91cE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHBhdHRlcm5JZHhUb0xvbmdlckFsdElkeEFyciA9IG1hcChvbmx5UmVsZXZhbnRUeXBlcywgKGNsYXp6KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb25nZXJBbHRUeXBlID0gY2xhenouTE9OR0VSX0FMVDtcbiAgICAgICAgICAgIGlmIChsb25nZXJBbHRUeXBlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9uZ2VyQWx0SWR4QXJyID0gaXNBcnJheShsb25nZXJBbHRUeXBlKVxuICAgICAgICAgICAgICAgICAgICA/IG1hcChsb25nZXJBbHRUeXBlLCAodHlwZSkgPT4gaW5kZXhPZihvbmx5UmVsZXZhbnRUeXBlcywgdHlwZSkpXG4gICAgICAgICAgICAgICAgICAgIDogW2luZGV4T2Yob25seVJlbGV2YW50VHlwZXMsIGxvbmdlckFsdFR5cGUpXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9uZ2VyQWx0SWR4QXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcGF0dGVybklkeFRvUHVzaE1vZGUgPSBtYXAob25seVJlbGV2YW50VHlwZXMsIChjbGF6eikgPT4gY2xhenouUFVTSF9NT0RFKTtcbiAgICAgICAgcGF0dGVybklkeFRvUG9wTW9kZSA9IG1hcChvbmx5UmVsZXZhbnRUeXBlcywgKGNsYXp6KSA9PiBoYXMoY2xhenosIFwiUE9QX01PREVcIikpO1xuICAgIH0pO1xuICAgIGxldCBwYXR0ZXJuSWR4VG9DYW5MaW5lVGVybWluYXRvcjtcbiAgICB0cmFjZXIoXCJMaW5lIFRlcm1pbmF0b3IgSGFuZGxpbmdcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCBsaW5lVGVybWluYXRvckNoYXJDb2RlcyA9IGdldENoYXJDb2RlcyhvcHRpb25zLmxpbmVUZXJtaW5hdG9yQ2hhcmFjdGVycyk7XG4gICAgICAgIHBhdHRlcm5JZHhUb0NhbkxpbmVUZXJtaW5hdG9yID0gbWFwKG9ubHlSZWxldmFudFR5cGVzLCAodG9rVHlwZSkgPT4gZmFsc2UpO1xuICAgICAgICBpZiAob3B0aW9ucy5wb3NpdGlvblRyYWNraW5nICE9PSBcIm9ubHlPZmZzZXRcIikge1xuICAgICAgICAgICAgcGF0dGVybklkeFRvQ2FuTGluZVRlcm1pbmF0b3IgPSBtYXAob25seVJlbGV2YW50VHlwZXMsICh0b2tUeXBlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGhhcyh0b2tUeXBlLCBcIkxJTkVfQlJFQUtTXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhIXRva1R5cGUuTElORV9CUkVBS1M7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGNoZWNrTGluZUJyZWFrc0lzc3Vlcyh0b2tUeXBlLCBsaW5lVGVybWluYXRvckNoYXJDb2RlcykgPT09IGZhbHNlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5NYXRjaENoYXJDb2RlKGxpbmVUZXJtaW5hdG9yQ2hhckNvZGVzLCB0b2tUeXBlLlBBVFRFUk4pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGxldCBwYXR0ZXJuSWR4VG9Jc0N1c3RvbTtcbiAgICBsZXQgcGF0dGVybklkeFRvU2hvcnQ7XG4gICAgbGV0IGVtcHR5R3JvdXBzO1xuICAgIGxldCBwYXR0ZXJuSWR4VG9Db25maWc7XG4gICAgdHJhY2VyKFwiTWlzYyBNYXBwaW5nICMyXCIsICgpID0+IHtcbiAgICAgICAgcGF0dGVybklkeFRvSXNDdXN0b20gPSBtYXAob25seVJlbGV2YW50VHlwZXMsIGlzQ3VzdG9tUGF0dGVybik7XG4gICAgICAgIHBhdHRlcm5JZHhUb1Nob3J0ID0gbWFwKGFsbFRyYW5zZm9ybWVkUGF0dGVybnMsIGlzU2hvcnRQYXR0ZXJuKTtcbiAgICAgICAgZW1wdHlHcm91cHMgPSByZWR1Y2Uob25seVJlbGV2YW50VHlwZXMsIChhY2MsIGNsYXp6KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBncm91cE5hbWUgPSBjbGF6ei5HUk9VUDtcbiAgICAgICAgICAgIGlmIChpc1N0cmluZyhncm91cE5hbWUpICYmICEoZ3JvdXBOYW1lID09PSBMZXhlci5TS0lQUEVEKSkge1xuICAgICAgICAgICAgICAgIGFjY1tncm91cE5hbWVdID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7fSk7XG4gICAgICAgIHBhdHRlcm5JZHhUb0NvbmZpZyA9IG1hcChhbGxUcmFuc2Zvcm1lZFBhdHRlcm5zLCAoeCwgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHBhdHRlcm46IGFsbFRyYW5zZm9ybWVkUGF0dGVybnNbaWR4XSxcbiAgICAgICAgICAgICAgICBsb25nZXJBbHQ6IHBhdHRlcm5JZHhUb0xvbmdlckFsdElkeEFycltpZHhdLFxuICAgICAgICAgICAgICAgIGNhbkxpbmVUZXJtaW5hdG9yOiBwYXR0ZXJuSWR4VG9DYW5MaW5lVGVybWluYXRvcltpZHhdLFxuICAgICAgICAgICAgICAgIGlzQ3VzdG9tOiBwYXR0ZXJuSWR4VG9Jc0N1c3RvbVtpZHhdLFxuICAgICAgICAgICAgICAgIHNob3J0OiBwYXR0ZXJuSWR4VG9TaG9ydFtpZHhdLFxuICAgICAgICAgICAgICAgIGdyb3VwOiBwYXR0ZXJuSWR4VG9Hcm91cFtpZHhdLFxuICAgICAgICAgICAgICAgIHB1c2g6IHBhdHRlcm5JZHhUb1B1c2hNb2RlW2lkeF0sXG4gICAgICAgICAgICAgICAgcG9wOiBwYXR0ZXJuSWR4VG9Qb3BNb2RlW2lkeF0sXG4gICAgICAgICAgICAgICAgdG9rZW5UeXBlSWR4OiBwYXR0ZXJuSWR4VG9UeXBlW2lkeF0sXG4gICAgICAgICAgICAgICAgdG9rZW5UeXBlOiBvbmx5UmVsZXZhbnRUeXBlc1tpZHhdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgbGV0IGNhbkJlT3B0aW1pemVkID0gdHJ1ZTtcbiAgICBsZXQgY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZyA9IFtdO1xuICAgIGlmICghb3B0aW9ucy5zYWZlTW9kZSkge1xuICAgICAgICB0cmFjZXIoXCJGaXJzdCBDaGFyIE9wdGltaXphdGlvblwiLCAoKSA9PiB7XG4gICAgICAgICAgICBjaGFyQ29kZVRvUGF0dGVybklkeFRvQ29uZmlnID0gcmVkdWNlKG9ubHlSZWxldmFudFR5cGVzLCAocmVzdWx0LCBjdXJyVG9rVHlwZSwgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjdXJyVG9rVHlwZS5QQVRURVJOID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXJDb2RlID0gY3VyclRva1R5cGUuUEFUVEVSTi5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRpbWl6ZWRJZHggPSBjaGFyQ29kZVRvT3B0aW1pemVkSW5kZXgoY2hhckNvZGUpO1xuICAgICAgICAgICAgICAgICAgICBhZGRUb01hcE9mQXJyYXlzKHJlc3VsdCwgb3B0aW1pemVkSWR4LCBwYXR0ZXJuSWR4VG9Db25maWdbaWR4XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzQXJyYXkoY3VyclRva1R5cGUuU1RBUlRfQ0hBUlNfSElOVCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxhc3RPcHRpbWl6ZWRJZHg7XG4gICAgICAgICAgICAgICAgICAgIGZvckVhY2goY3VyclRva1R5cGUuU1RBUlRfQ0hBUlNfSElOVCwgKGNoYXJPckludCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhckNvZGUgPSB0eXBlb2YgY2hhck9ySW50ID09PSBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjaGFyT3JJbnQuY2hhckNvZGVBdCgwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY2hhck9ySW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3Vyck9wdGltaXplZElkeCA9IGNoYXJDb2RlVG9PcHRpbWl6ZWRJbmRleChjaGFyQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBdm9pZCBhZGRpbmcgdGhlIGNvbmZpZyBtdWx0aXBsZSB0aW1lc1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC0gRGlmZmljdWx0IHRvIGNoZWNrIHRoaXMgc2NlbmFyaW8gZWZmZWN0cyBhcyBpdCBpcyBvbmx5IGEgcGVyZm9ybWFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgb3B0aW1pemF0aW9uIHRoYXQgZG9lcyBub3QgY2hhbmdlIGNvcnJlY3RuZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFzdE9wdGltaXplZElkeCAhPT0gY3Vyck9wdGltaXplZElkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RPcHRpbWl6ZWRJZHggPSBjdXJyT3B0aW1pemVkSWR4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvTWFwT2ZBcnJheXMocmVzdWx0LCBjdXJyT3B0aW1pemVkSWR4LCBwYXR0ZXJuSWR4VG9Db25maWdbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc1JlZ0V4cChjdXJyVG9rVHlwZS5QQVRURVJOKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VyclRva1R5cGUuUEFUVEVSTi51bmljb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5CZU9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZW5zdXJlT3B0aW1pemF0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBSSU5UX0VSUk9SKGAke2ZhaWxlZE9wdGltaXphdGlvblByZWZpeE1zZ31gICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFxcdFVuYWJsZSB0byBhbmFseXplIDwgJHtjdXJyVG9rVHlwZS5QQVRURVJOLnRvU3RyaW5nKCl9ID4gcGF0dGVybi5cXG5gICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcXHRUaGUgcmVnZXhwIHVuaWNvZGUgZmxhZyBpcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZCBieSB0aGUgcmVnZXhwLXRvLWFzdCBsaWJyYXJ5LlxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcXHRUaGlzIHdpbGwgZGlzYWJsZSB0aGUgbGV4ZXIncyBmaXJzdCBjaGFyIG9wdGltaXphdGlvbnMuXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcdEZvciBkZXRhaWxzIFNlZTogaHR0cHM6Ly9jaGV2cm90YWluLmlvL2RvY3MvZ3VpZGUvcmVzb2x2aW5nX2xleGVyX2Vycm9ycy5odG1sI1VOSUNPREVfT1BUSU1JWkVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRpbWl6ZWRDb2RlcyA9IGdldE9wdGltaXplZFN0YXJ0Q29kZXNJbmRpY2VzKGN1cnJUb2tUeXBlLlBBVFRFUk4sIG9wdGlvbnMuZW5zdXJlT3B0aW1pemF0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0IGNvZGUgd2lsbCBvbmx5IGJlIGVtcHR5IGdpdmVuIGFuIGVtcHR5IHJlZ0V4cCBvciBmYWlsdXJlIG9mIHJlZ2V4cC10by1hc3QgbGlicmFyeVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGZpcnN0IHNob3VsZCBiZSBhIGRpZmZlcmVudCB2YWxpZGF0aW9uIGFuZCB0aGUgc2Vjb25kIGNhbm5vdCBiZSB0ZXN0ZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNFbXB0eShvcHRpbWl6ZWRDb2RlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBjYW5ub3QgdW5kZXJzdGFuZCB3aGF0IGNvZGVzIG1heSBzdGFydCBwb3NzaWJsZSBtYXRjaGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIG9wdGltaXphdGlvbiBjb3JyZWN0bmVzcyByZXF1aXJlcyBrbm93aW5nIHN0YXJ0IGNvZGVzIGZvciBBTEwgcGF0dGVybnMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm90IGFjdHVhbGx5IHN1cmUgdGhpcyBpcyBhbiBlcnJvciwgbm8gZGVidWcgbWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbkJlT3B0aW1pemVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JFYWNoKG9wdGltaXplZENvZGVzLCAoY29kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvTWFwT2ZBcnJheXMocmVzdWx0LCBjb2RlLCBwYXR0ZXJuSWR4VG9Db25maWdbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZW5zdXJlT3B0aW1pemF0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJJTlRfRVJST1IoYCR7ZmFpbGVkT3B0aW1pemF0aW9uUHJlZml4TXNnfWAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBcXHRUb2tlblR5cGU6IDwke2N1cnJUb2tUeXBlLm5hbWV9PiBpcyB1c2luZyBhIGN1c3RvbSB0b2tlbiBwYXR0ZXJuIHdpdGhvdXQgcHJvdmlkaW5nIDxzdGFydF9jaGFyc19oaW50PiBwYXJhbWV0ZXIuXFxuYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcXHRUaGlzIHdpbGwgZGlzYWJsZSB0aGUgbGV4ZXIncyBmaXJzdCBjaGFyIG9wdGltaXphdGlvbnMuXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXFx0Rm9yIGRldGFpbHMgU2VlOiBodHRwczovL2NoZXZyb3RhaW4uaW8vZG9jcy9ndWlkZS9yZXNvbHZpbmdfbGV4ZXJfZXJyb3JzLmh0bWwjQ1VTVE9NX09QVElNSVpFXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhbkJlT3B0aW1pemVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBlbXB0eUdyb3VwczogZW1wdHlHcm91cHMsXG4gICAgICAgIHBhdHRlcm5JZHhUb0NvbmZpZzogcGF0dGVybklkeFRvQ29uZmlnLFxuICAgICAgICBjaGFyQ29kZVRvUGF0dGVybklkeFRvQ29uZmlnOiBjaGFyQ29kZVRvUGF0dGVybklkeFRvQ29uZmlnLFxuICAgICAgICBoYXNDdXN0b206IGhhc0N1c3RvbSxcbiAgICAgICAgY2FuQmVPcHRpbWl6ZWQ6IGNhbkJlT3B0aW1pemVkLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVQYXR0ZXJucyh0b2tlblR5cGVzLCB2YWxpZE1vZGVzTmFtZXMpIHtcbiAgICBsZXQgZXJyb3JzID0gW107XG4gICAgY29uc3QgbWlzc2luZ1Jlc3VsdCA9IGZpbmRNaXNzaW5nUGF0dGVybnModG9rZW5UeXBlcyk7XG4gICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdChtaXNzaW5nUmVzdWx0LmVycm9ycyk7XG4gICAgY29uc3QgaW52YWxpZFJlc3VsdCA9IGZpbmRJbnZhbGlkUGF0dGVybnMobWlzc2luZ1Jlc3VsdC52YWxpZCk7XG4gICAgY29uc3QgdmFsaWRUb2tlblR5cGVzID0gaW52YWxpZFJlc3VsdC52YWxpZDtcbiAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KGludmFsaWRSZXN1bHQuZXJyb3JzKTtcbiAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KHZhbGlkYXRlUmVnRXhwUGF0dGVybih2YWxpZFRva2VuVHlwZXMpKTtcbiAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KGZpbmRJbnZhbGlkR3JvdXBUeXBlKHZhbGlkVG9rZW5UeXBlcykpO1xuICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQoZmluZE1vZGVzVGhhdERvTm90RXhpc3QodmFsaWRUb2tlblR5cGVzLCB2YWxpZE1vZGVzTmFtZXMpKTtcbiAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KGZpbmRVbnJlYWNoYWJsZVBhdHRlcm5zKHZhbGlkVG9rZW5UeXBlcykpO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVJlZ0V4cFBhdHRlcm4odG9rZW5UeXBlcykge1xuICAgIGxldCBlcnJvcnMgPSBbXTtcbiAgICBjb25zdCB3aXRoUmVnRXhwUGF0dGVybnMgPSBmaWx0ZXIodG9rZW5UeXBlcywgKGN1cnJUb2tUeXBlKSA9PiBpc1JlZ0V4cChjdXJyVG9rVHlwZVtQQVRURVJOXSkpO1xuICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQoZmluZEVuZE9mSW5wdXRBbmNob3Iod2l0aFJlZ0V4cFBhdHRlcm5zKSk7XG4gICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdChmaW5kU3RhcnRPZklucHV0QW5jaG9yKHdpdGhSZWdFeHBQYXR0ZXJucykpO1xuICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQoZmluZFVuc3VwcG9ydGVkRmxhZ3Mod2l0aFJlZ0V4cFBhdHRlcm5zKSk7XG4gICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdChmaW5kRHVwbGljYXRlUGF0dGVybnMod2l0aFJlZ0V4cFBhdHRlcm5zKSk7XG4gICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdChmaW5kRW1wdHlNYXRjaFJlZ0V4cHMod2l0aFJlZ0V4cFBhdHRlcm5zKSk7XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaW5kTWlzc2luZ1BhdHRlcm5zKHRva2VuVHlwZXMpIHtcbiAgICBjb25zdCB0b2tlblR5cGVzV2l0aE1pc3NpbmdQYXR0ZXJuID0gZmlsdGVyKHRva2VuVHlwZXMsIChjdXJyVHlwZSkgPT4ge1xuICAgICAgICByZXR1cm4gIWhhcyhjdXJyVHlwZSwgUEFUVEVSTik7XG4gICAgfSk7XG4gICAgY29uc3QgZXJyb3JzID0gbWFwKHRva2VuVHlwZXNXaXRoTWlzc2luZ1BhdHRlcm4sIChjdXJyVHlwZSkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVzc2FnZTogXCJUb2tlbiBUeXBlOiAtPlwiICtcbiAgICAgICAgICAgICAgICBjdXJyVHlwZS5uYW1lICtcbiAgICAgICAgICAgICAgICBcIjwtIG1pc3Npbmcgc3RhdGljICdQQVRURVJOJyBwcm9wZXJ0eVwiLFxuICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLk1JU1NJTkdfUEFUVEVSTixcbiAgICAgICAgICAgIHRva2VuVHlwZXM6IFtjdXJyVHlwZV0sXG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgY29uc3QgdmFsaWQgPSBkaWZmZXJlbmNlKHRva2VuVHlwZXMsIHRva2VuVHlwZXNXaXRoTWlzc2luZ1BhdHRlcm4pO1xuICAgIHJldHVybiB7IGVycm9ycywgdmFsaWQgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaW5kSW52YWxpZFBhdHRlcm5zKHRva2VuVHlwZXMpIHtcbiAgICBjb25zdCB0b2tlblR5cGVzV2l0aEludmFsaWRQYXR0ZXJuID0gZmlsdGVyKHRva2VuVHlwZXMsIChjdXJyVHlwZSkgPT4ge1xuICAgICAgICBjb25zdCBwYXR0ZXJuID0gY3VyclR5cGVbUEFUVEVSTl07XG4gICAgICAgIHJldHVybiAoIWlzUmVnRXhwKHBhdHRlcm4pICYmXG4gICAgICAgICAgICAhaXNGdW5jdGlvbihwYXR0ZXJuKSAmJlxuICAgICAgICAgICAgIWhhcyhwYXR0ZXJuLCBcImV4ZWNcIikgJiZcbiAgICAgICAgICAgICFpc1N0cmluZyhwYXR0ZXJuKSk7XG4gICAgfSk7XG4gICAgY29uc3QgZXJyb3JzID0gbWFwKHRva2VuVHlwZXNXaXRoSW52YWxpZFBhdHRlcm4sIChjdXJyVHlwZSkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVzc2FnZTogXCJUb2tlbiBUeXBlOiAtPlwiICtcbiAgICAgICAgICAgICAgICBjdXJyVHlwZS5uYW1lICtcbiAgICAgICAgICAgICAgICBcIjwtIHN0YXRpYyAnUEFUVEVSTicgY2FuIG9ubHkgYmUgYSBSZWdFeHAsIGFcIiArXG4gICAgICAgICAgICAgICAgXCIgRnVuY3Rpb24gbWF0Y2hpbmcgdGhlIHtDdXN0b21QYXR0ZXJuTWF0Y2hlckZ1bmN9IHR5cGUgb3IgYW4gT2JqZWN0IG1hdGNoaW5nIHRoZSB7SUN1c3RvbVBhdHRlcm59IGludGVyZmFjZS5cIixcbiAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5JTlZBTElEX1BBVFRFUk4sXG4gICAgICAgICAgICB0b2tlblR5cGVzOiBbY3VyclR5cGVdLFxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIGNvbnN0IHZhbGlkID0gZGlmZmVyZW5jZSh0b2tlblR5cGVzLCB0b2tlblR5cGVzV2l0aEludmFsaWRQYXR0ZXJuKTtcbiAgICByZXR1cm4geyBlcnJvcnMsIHZhbGlkIH07XG59XG5jb25zdCBlbmRfb2ZfaW5wdXQgPSAvW15cXFxcXVskXS87XG5leHBvcnQgZnVuY3Rpb24gZmluZEVuZE9mSW5wdXRBbmNob3IodG9rZW5UeXBlcykge1xuICAgIGNsYXNzIEVuZEFuY2hvckZpbmRlciBleHRlbmRzIEJhc2VSZWdFeHBWaXNpdG9yIHtcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAgICAgdGhpcy5mb3VuZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZpc2l0RW5kQW5jaG9yKG5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuZm91bmQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGludmFsaWRSZWdleCA9IGZpbHRlcih0b2tlblR5cGVzLCAoY3VyclR5cGUpID0+IHtcbiAgICAgICAgY29uc3QgcGF0dGVybiA9IGN1cnJUeXBlLlBBVFRFUk47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZWdleHBBc3QgPSBnZXRSZWdFeHBBc3QocGF0dGVybik7XG4gICAgICAgICAgICBjb25zdCBlbmRBbmNob3JWaXNpdG9yID0gbmV3IEVuZEFuY2hvckZpbmRlcigpO1xuICAgICAgICAgICAgZW5kQW5jaG9yVmlzaXRvci52aXNpdChyZWdleHBBc3QpO1xuICAgICAgICAgICAgcmV0dXJuIGVuZEFuY2hvclZpc2l0b3IuZm91bmQ7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIG9sZCBiZWhhdmlvciBpbiBjYXNlIG9mIHJ1bnRpbWUgZXhjZXB0aW9ucyB3aXRoIHJlZ2V4cC10by1hc3QuXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAtIGNhbm5vdCBlbnN1cmUgYW4gZXJyb3IgaW4gcmVnZXhwLXRvLWFzdCovXG4gICAgICAgICAgICByZXR1cm4gZW5kX29mX2lucHV0LnRlc3QocGF0dGVybi5zb3VyY2UpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgZXJyb3JzID0gbWFwKGludmFsaWRSZWdleCwgKGN1cnJUeXBlKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlVuZXhwZWN0ZWQgUmVnRXhwIEFuY2hvciBFcnJvcjpcXG5cIiArXG4gICAgICAgICAgICAgICAgXCJcXHRUb2tlbiBUeXBlOiAtPlwiICtcbiAgICAgICAgICAgICAgICBjdXJyVHlwZS5uYW1lICtcbiAgICAgICAgICAgICAgICBcIjwtIHN0YXRpYyAnUEFUVEVSTicgY2Fubm90IGNvbnRhaW4gZW5kIG9mIGlucHV0IGFuY2hvciAnJCdcXG5cIiArXG4gICAgICAgICAgICAgICAgXCJcXHRTZWUgY2hldnJvdGFpbi5pby9kb2NzL2d1aWRlL3Jlc29sdmluZ19sZXhlcl9lcnJvcnMuaHRtbCNBTkNIT1JTXCIgK1xuICAgICAgICAgICAgICAgIFwiXFx0Zm9yIGRldGFpbHMuXCIsXG4gICAgICAgICAgICB0eXBlOiBMZXhlckRlZmluaXRpb25FcnJvclR5cGUuRU9JX0FOQ0hPUl9GT1VORCxcbiAgICAgICAgICAgIHRva2VuVHlwZXM6IFtjdXJyVHlwZV0sXG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaW5kRW1wdHlNYXRjaFJlZ0V4cHModG9rZW5UeXBlcykge1xuICAgIGNvbnN0IG1hdGNoZXNFbXB0eVN0cmluZyA9IGZpbHRlcih0b2tlblR5cGVzLCAoY3VyclR5cGUpID0+IHtcbiAgICAgICAgY29uc3QgcGF0dGVybiA9IGN1cnJUeXBlLlBBVFRFUk47XG4gICAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QoXCJcIik7XG4gICAgfSk7XG4gICAgY29uc3QgZXJyb3JzID0gbWFwKG1hdGNoZXNFbXB0eVN0cmluZywgKGN1cnJUeXBlKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlRva2VuIFR5cGU6IC0+XCIgK1xuICAgICAgICAgICAgICAgIGN1cnJUeXBlLm5hbWUgK1xuICAgICAgICAgICAgICAgIFwiPC0gc3RhdGljICdQQVRURVJOJyBtdXN0IG5vdCBtYXRjaCBhbiBlbXB0eSBzdHJpbmdcIixcbiAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5FTVBUWV9NQVRDSF9QQVRURVJOLFxuICAgICAgICAgICAgdG9rZW5UeXBlczogW2N1cnJUeXBlXSxcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gZXJyb3JzO1xufVxuY29uc3Qgc3RhcnRfb2ZfaW5wdXQgPSAvW15cXFxcW11bXFxeXXxeXFxeLztcbmV4cG9ydCBmdW5jdGlvbiBmaW5kU3RhcnRPZklucHV0QW5jaG9yKHRva2VuVHlwZXMpIHtcbiAgICBjbGFzcyBTdGFydEFuY2hvckZpbmRlciBleHRlbmRzIEJhc2VSZWdFeHBWaXNpdG9yIHtcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAgICAgdGhpcy5mb3VuZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZpc2l0U3RhcnRBbmNob3Iobm9kZSkge1xuICAgICAgICAgICAgdGhpcy5mb3VuZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaW52YWxpZFJlZ2V4ID0gZmlsdGVyKHRva2VuVHlwZXMsIChjdXJyVHlwZSkgPT4ge1xuICAgICAgICBjb25zdCBwYXR0ZXJuID0gY3VyclR5cGUuUEFUVEVSTjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlZ2V4cEFzdCA9IGdldFJlZ0V4cEFzdChwYXR0ZXJuKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0QW5jaG9yVmlzaXRvciA9IG5ldyBTdGFydEFuY2hvckZpbmRlcigpO1xuICAgICAgICAgICAgc3RhcnRBbmNob3JWaXNpdG9yLnZpc2l0KHJlZ2V4cEFzdCk7XG4gICAgICAgICAgICByZXR1cm4gc3RhcnRBbmNob3JWaXNpdG9yLmZvdW5kO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBvbGQgYmVoYXZpb3IgaW4gY2FzZSBvZiBydW50aW1lIGV4Y2VwdGlvbnMgd2l0aCByZWdleHAtdG8tYXN0LlxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgLSBjYW5ub3QgZW5zdXJlIGFuIGVycm9yIGluIHJlZ2V4cC10by1hc3QqL1xuICAgICAgICAgICAgcmV0dXJuIHN0YXJ0X29mX2lucHV0LnRlc3QocGF0dGVybi5zb3VyY2UpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgZXJyb3JzID0gbWFwKGludmFsaWRSZWdleCwgKGN1cnJUeXBlKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlVuZXhwZWN0ZWQgUmVnRXhwIEFuY2hvciBFcnJvcjpcXG5cIiArXG4gICAgICAgICAgICAgICAgXCJcXHRUb2tlbiBUeXBlOiAtPlwiICtcbiAgICAgICAgICAgICAgICBjdXJyVHlwZS5uYW1lICtcbiAgICAgICAgICAgICAgICBcIjwtIHN0YXRpYyAnUEFUVEVSTicgY2Fubm90IGNvbnRhaW4gc3RhcnQgb2YgaW5wdXQgYW5jaG9yICdeJ1xcblwiICtcbiAgICAgICAgICAgICAgICBcIlxcdFNlZSBodHRwczovL2NoZXZyb3RhaW4uaW8vZG9jcy9ndWlkZS9yZXNvbHZpbmdfbGV4ZXJfZXJyb3JzLmh0bWwjQU5DSE9SU1wiICtcbiAgICAgICAgICAgICAgICBcIlxcdGZvciBkZXRhaWxzLlwiLFxuICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLlNPSV9BTkNIT1JfRk9VTkQsXG4gICAgICAgICAgICB0b2tlblR5cGVzOiBbY3VyclR5cGVdLFxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZFVuc3VwcG9ydGVkRmxhZ3ModG9rZW5UeXBlcykge1xuICAgIGNvbnN0IGludmFsaWRGbGFncyA9IGZpbHRlcih0b2tlblR5cGVzLCAoY3VyclR5cGUpID0+IHtcbiAgICAgICAgY29uc3QgcGF0dGVybiA9IGN1cnJUeXBlW1BBVFRFUk5dO1xuICAgICAgICByZXR1cm4gcGF0dGVybiBpbnN0YW5jZW9mIFJlZ0V4cCAmJiAocGF0dGVybi5tdWx0aWxpbmUgfHwgcGF0dGVybi5nbG9iYWwpO1xuICAgIH0pO1xuICAgIGNvbnN0IGVycm9ycyA9IG1hcChpbnZhbGlkRmxhZ3MsIChjdXJyVHlwZSkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVzc2FnZTogXCJUb2tlbiBUeXBlOiAtPlwiICtcbiAgICAgICAgICAgICAgICBjdXJyVHlwZS5uYW1lICtcbiAgICAgICAgICAgICAgICBcIjwtIHN0YXRpYyAnUEFUVEVSTicgbWF5IE5PVCBjb250YWluIGdsb2JhbCgnZycpIG9yIG11bHRpbGluZSgnbScpXCIsXG4gICAgICAgICAgICB0eXBlOiBMZXhlckRlZmluaXRpb25FcnJvclR5cGUuVU5TVVBQT1JURURfRkxBR1NfRk9VTkQsXG4gICAgICAgICAgICB0b2tlblR5cGVzOiBbY3VyclR5cGVdLFxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG4vLyBUaGlzIGNhbiBvbmx5IHRlc3QgZm9yIGlkZW50aWNhbCBkdXBsaWNhdGUgUmVnRXhwcywgbm90IHNlbWFudGljYWxseSBlcXVpdmFsZW50IG9uZXMuXG5leHBvcnQgZnVuY3Rpb24gZmluZER1cGxpY2F0ZVBhdHRlcm5zKHRva2VuVHlwZXMpIHtcbiAgICBjb25zdCBmb3VuZCA9IFtdO1xuICAgIGxldCBpZGVudGljYWxQYXR0ZXJucyA9IG1hcCh0b2tlblR5cGVzLCAob3V0ZXJUeXBlKSA9PiB7XG4gICAgICAgIHJldHVybiByZWR1Y2UodG9rZW5UeXBlcywgKHJlc3VsdCwgaW5uZXJUeXBlKSA9PiB7XG4gICAgICAgICAgICBpZiAob3V0ZXJUeXBlLlBBVFRFUk4uc291cmNlID09PSBpbm5lclR5cGUuUEFUVEVSTi5zb3VyY2UgJiZcbiAgICAgICAgICAgICAgICAhaW5jbHVkZXMoZm91bmQsIGlubmVyVHlwZSkgJiZcbiAgICAgICAgICAgICAgICBpbm5lclR5cGUuUEFUVEVSTiAhPT0gTGV4ZXIuTkEpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGF2b2lkcyBkdXBsaWNhdGVzIGluIHRoZSByZXN1bHQsIGVhY2ggVG9rZW4gVHlwZSBtYXkgb25seSBhcHBlYXIgaW4gb25lIFwic2V0XCJcbiAgICAgICAgICAgICAgICAvLyBpbiBlc3NlbmNlIHdlIGFyZSBjcmVhdGluZyBFcXVpdmFsZW5jZSBjbGFzc2VzIG9uIGVxdWFsaXR5IHJlbGF0aW9uLlxuICAgICAgICAgICAgICAgIGZvdW5kLnB1c2goaW5uZXJUeXBlKTtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChpbm5lclR5cGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LCBbXSk7XG4gICAgfSk7XG4gICAgaWRlbnRpY2FsUGF0dGVybnMgPSBjb21wYWN0KGlkZW50aWNhbFBhdHRlcm5zKTtcbiAgICBjb25zdCBkdXBsaWNhdGVQYXR0ZXJucyA9IGZpbHRlcihpZGVudGljYWxQYXR0ZXJucywgKGN1cnJJZGVudGljYWxTZXQpID0+IHtcbiAgICAgICAgcmV0dXJuIGN1cnJJZGVudGljYWxTZXQubGVuZ3RoID4gMTtcbiAgICB9KTtcbiAgICBjb25zdCBlcnJvcnMgPSBtYXAoZHVwbGljYXRlUGF0dGVybnMsIChzZXRPZklkZW50aWNhbCkgPT4ge1xuICAgICAgICBjb25zdCB0b2tlblR5cGVOYW1lcyA9IG1hcChzZXRPZklkZW50aWNhbCwgKGN1cnJUeXBlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY3VyclR5cGUubmFtZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGR1cFBhdHRlcm5TcmMgPSBmaXJzdChzZXRPZklkZW50aWNhbCkuUEFUVEVSTjtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IGBUaGUgc2FtZSBSZWdFeHAgcGF0dGVybiAtPiR7ZHVwUGF0dGVyblNyY308LWAgK1xuICAgICAgICAgICAgICAgIGBoYXMgYmVlbiB1c2VkIGluIGFsbCBvZiB0aGUgZm9sbG93aW5nIFRva2VuIFR5cGVzOiAke3Rva2VuVHlwZU5hbWVzLmpvaW4oXCIsIFwiKX0gPC1gLFxuICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLkRVUExJQ0FURV9QQVRURVJOU19GT1VORCxcbiAgICAgICAgICAgIHRva2VuVHlwZXM6IHNldE9mSWRlbnRpY2FsLFxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZEludmFsaWRHcm91cFR5cGUodG9rZW5UeXBlcykge1xuICAgIGNvbnN0IGludmFsaWRUeXBlcyA9IGZpbHRlcih0b2tlblR5cGVzLCAoY2xhenopID0+IHtcbiAgICAgICAgaWYgKCFoYXMoY2xhenosIFwiR1JPVVBcIikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBncm91cCA9IGNsYXp6LkdST1VQO1xuICAgICAgICByZXR1cm4gZ3JvdXAgIT09IExleGVyLlNLSVBQRUQgJiYgZ3JvdXAgIT09IExleGVyLk5BICYmICFpc1N0cmluZyhncm91cCk7XG4gICAgfSk7XG4gICAgY29uc3QgZXJyb3JzID0gbWFwKGludmFsaWRUeXBlcywgKGN1cnJUeXBlKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlRva2VuIFR5cGU6IC0+XCIgK1xuICAgICAgICAgICAgICAgIGN1cnJUeXBlLm5hbWUgK1xuICAgICAgICAgICAgICAgIFwiPC0gc3RhdGljICdHUk9VUCcgY2FuIG9ubHkgYmUgTGV4ZXIuU0tJUFBFRC9MZXhlci5OQS9BIFN0cmluZ1wiLFxuICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLklOVkFMSURfR1JPVVBfVFlQRV9GT1VORCxcbiAgICAgICAgICAgIHRva2VuVHlwZXM6IFtjdXJyVHlwZV0sXG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaW5kTW9kZXNUaGF0RG9Ob3RFeGlzdCh0b2tlblR5cGVzLCB2YWxpZE1vZGVzKSB7XG4gICAgY29uc3QgaW52YWxpZE1vZGVzID0gZmlsdGVyKHRva2VuVHlwZXMsIChjbGF6eikgPT4ge1xuICAgICAgICByZXR1cm4gKGNsYXp6LlBVU0hfTU9ERSAhPT0gdW5kZWZpbmVkICYmICFpbmNsdWRlcyh2YWxpZE1vZGVzLCBjbGF6ei5QVVNIX01PREUpKTtcbiAgICB9KTtcbiAgICBjb25zdCBlcnJvcnMgPSBtYXAoaW52YWxpZE1vZGVzLCAodG9rVHlwZSkgPT4ge1xuICAgICAgICBjb25zdCBtc2cgPSBgVG9rZW4gVHlwZTogLT4ke3Rva1R5cGUubmFtZX08LSBzdGF0aWMgJ1BVU0hfTU9ERScgdmFsdWUgY2Fubm90IHJlZmVyIHRvIGEgTGV4ZXIgTW9kZSAtPiR7dG9rVHlwZS5QVVNIX01PREV9PC1gICtcbiAgICAgICAgICAgIGB3aGljaCBkb2VzIG5vdCBleGlzdGA7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBtc2csXG4gICAgICAgICAgICB0eXBlOiBMZXhlckRlZmluaXRpb25FcnJvclR5cGUuUFVTSF9NT0RFX0RPRVNfTk9UX0VYSVNULFxuICAgICAgICAgICAgdG9rZW5UeXBlczogW3Rva1R5cGVdLFxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZFVucmVhY2hhYmxlUGF0dGVybnModG9rZW5UeXBlcykge1xuICAgIGNvbnN0IGVycm9ycyA9IFtdO1xuICAgIGNvbnN0IGNhbkJlVGVzdGVkID0gcmVkdWNlKHRva2VuVHlwZXMsIChyZXN1bHQsIHRva1R5cGUsIGlkeCkgPT4ge1xuICAgICAgICBjb25zdCBwYXR0ZXJuID0gdG9rVHlwZS5QQVRURVJOO1xuICAgICAgICBpZiAocGF0dGVybiA9PT0gTGV4ZXIuTkEpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYSBtb3JlIGNvbXByZWhlbnNpdmUgdmFsaWRhdGlvbiBmb3IgYWxsIGZvcm1zIG9mIHJlZ0V4cHMgd291bGQgcmVxdWlyZVxuICAgICAgICAvLyBkZWVwZXIgcmVnRXhwIGFuYWx5c2lzIGNhcGFiaWxpdGllc1xuICAgICAgICBpZiAoaXNTdHJpbmcocGF0dGVybikpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgc3RyOiBwYXR0ZXJuLCBpZHgsIHRva2VuVHlwZTogdG9rVHlwZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1JlZ0V4cChwYXR0ZXJuKSAmJiBub01ldGFDaGFyKHBhdHRlcm4pKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh7IHN0cjogcGF0dGVybi5zb3VyY2UsIGlkeCwgdG9rZW5UeXBlOiB0b2tUeXBlIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSwgW10pO1xuICAgIGZvckVhY2godG9rZW5UeXBlcywgKHRva1R5cGUsIHRlc3RJZHgpID0+IHtcbiAgICAgICAgZm9yRWFjaChjYW5CZVRlc3RlZCwgKHsgc3RyLCBpZHgsIHRva2VuVHlwZSB9KSA9PiB7XG4gICAgICAgICAgICBpZiAodGVzdElkeCA8IGlkeCAmJiB0ZXN0VG9rZW5UeXBlKHN0ciwgdG9rVHlwZS5QQVRURVJOKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1zZyA9IGBUb2tlbjogLT4ke3Rva2VuVHlwZS5uYW1lfTwtIGNhbiBuZXZlciBiZSBtYXRjaGVkLlxcbmAgK1xuICAgICAgICAgICAgICAgICAgICBgQmVjYXVzZSBpdCBhcHBlYXJzIEFGVEVSIHRoZSBUb2tlbiBUeXBlIC0+JHt0b2tUeXBlLm5hbWV9PC1gICtcbiAgICAgICAgICAgICAgICAgICAgYGluIHRoZSBsZXhlcidzIGRlZmluaXRpb24uXFxuYCArXG4gICAgICAgICAgICAgICAgICAgIGBTZWUgaHR0cHM6Ly9jaGV2cm90YWluLmlvL2RvY3MvZ3VpZGUvcmVzb2x2aW5nX2xleGVyX2Vycm9ycy5odG1sI1VOUkVBQ0hBQkxFYDtcbiAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1zZyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLlVOUkVBQ0hBQkxFX1BBVFRFUk4sXG4gICAgICAgICAgICAgICAgICAgIHRva2VuVHlwZXM6IFt0b2tUeXBlLCB0b2tlblR5cGVdLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZXJyb3JzO1xufVxuZnVuY3Rpb24gdGVzdFRva2VuVHlwZShzdHIsIHBhdHRlcm4pIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChpc1JlZ0V4cChwYXR0ZXJuKSkge1xuICAgICAgICBjb25zdCByZWdFeHBBcnJheSA9IHBhdHRlcm4uZXhlYyhzdHIpO1xuICAgICAgICByZXR1cm4gcmVnRXhwQXJyYXkgIT09IG51bGwgJiYgcmVnRXhwQXJyYXkuaW5kZXggPT09IDA7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24ocGF0dGVybikpIHtcbiAgICAgICAgLy8gbWFpbnRhaW4gdGhlIEFQSSBvZiBjdXN0b20gcGF0dGVybnNcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4oc3RyLCAwLCBbXSwge30pO1xuICAgIH1cbiAgICBlbHNlIGlmIChoYXMocGF0dGVybiwgXCJleGVjXCIpKSB7XG4gICAgICAgIC8vIG1haW50YWluIHRoZSBBUEkgb2YgY3VzdG9tIHBhdHRlcm5zXG4gICAgICAgIHJldHVybiBwYXR0ZXJuLmV4ZWMoc3RyLCAwLCBbXSwge30pO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgcGF0dGVybiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gcGF0dGVybiA9PT0gc3RyO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICB9XG59XG5mdW5jdGlvbiBub01ldGFDaGFyKHJlZ0V4cCkge1xuICAgIC8vaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUmVnRXhwXG4gICAgY29uc3QgbWV0YUNoYXJzID0gW1xuICAgICAgICBcIi5cIixcbiAgICAgICAgXCJcXFxcXCIsXG4gICAgICAgIFwiW1wiLFxuICAgICAgICBcIl1cIixcbiAgICAgICAgXCJ8XCIsXG4gICAgICAgIFwiXlwiLFxuICAgICAgICBcIiRcIixcbiAgICAgICAgXCIoXCIsXG4gICAgICAgIFwiKVwiLFxuICAgICAgICBcIj9cIixcbiAgICAgICAgXCIqXCIsXG4gICAgICAgIFwiK1wiLFxuICAgICAgICBcIntcIixcbiAgICBdO1xuICAgIHJldHVybiAoZmluZChtZXRhQ2hhcnMsIChjaGFyKSA9PiByZWdFeHAuc291cmNlLmluZGV4T2YoY2hhcikgIT09IC0xKSA9PT0gdW5kZWZpbmVkKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGRTdGFydE9mSW5wdXQocGF0dGVybikge1xuICAgIGNvbnN0IGZsYWdzID0gcGF0dGVybi5pZ25vcmVDYXNlID8gXCJpXCIgOiBcIlwiO1xuICAgIC8vIGFsd2F5cyB3cmFwcGluZyBpbiBhIG5vbmUgY2FwdHVyaW5nIGdyb3VwIHByZWNlZGVkIGJ5ICdeJyB0byBtYWtlIHN1cmUgbWF0Y2hpbmcgY2FuIG9ubHkgd29yayBvbiBzdGFydCBvZiBpbnB1dC5cbiAgICAvLyBkdXBsaWNhdGUvcmVkdW5kYW50IHN0YXJ0IG9mIGlucHV0IG1hcmtlcnMgaGF2ZSBubyBtZWFuaW5nICgvXl5eXkEvID09PSAvXkEvKVxuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeKD86JHtwYXR0ZXJuLnNvdXJjZX0pYCwgZmxhZ3MpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFkZFN0aWNreUZsYWcocGF0dGVybikge1xuICAgIGNvbnN0IGZsYWdzID0gcGF0dGVybi5pZ25vcmVDYXNlID8gXCJpeVwiIDogXCJ5XCI7XG4gICAgLy8gYWx3YXlzIHdyYXBwaW5nIGluIGEgbm9uZSBjYXB0dXJpbmcgZ3JvdXAgcHJlY2VkZWQgYnkgJ14nIHRvIG1ha2Ugc3VyZSBtYXRjaGluZyBjYW4gb25seSB3b3JrIG9uIHN0YXJ0IG9mIGlucHV0LlxuICAgIC8vIGR1cGxpY2F0ZS9yZWR1bmRhbnQgc3RhcnQgb2YgaW5wdXQgbWFya2VycyBoYXZlIG5vIG1lYW5pbmcgKC9eXl5eQS8gPT09IC9eQS8pXG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoYCR7cGF0dGVybi5zb3VyY2V9YCwgZmxhZ3MpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBlcmZvcm1SdW50aW1lQ2hlY2tzKGxleGVyRGVmaW5pdGlvbiwgdHJhY2tMaW5lcywgbGluZVRlcm1pbmF0b3JDaGFyYWN0ZXJzKSB7XG4gICAgY29uc3QgZXJyb3JzID0gW107XG4gICAgLy8gc29tZSBydW4gdGltZSBjaGVja3MgdG8gaGVscCB0aGUgZW5kIHVzZXJzLlxuICAgIGlmICghaGFzKGxleGVyRGVmaW5pdGlvbiwgREVGQVVMVF9NT0RFKSkge1xuICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkEgTXVsdGlNb2RlIExleGVyIGNhbm5vdCBiZSBpbml0aWFsaXplZCB3aXRob3V0IGEgPFwiICtcbiAgICAgICAgICAgICAgICBERUZBVUxUX01PREUgK1xuICAgICAgICAgICAgICAgIFwiPiBwcm9wZXJ0eSBpbiBpdHMgZGVmaW5pdGlvblxcblwiLFxuICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLk1VTFRJX01PREVfTEVYRVJfV0lUSE9VVF9ERUZBVUxUX01PREUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIWhhcyhsZXhlckRlZmluaXRpb24sIE1PREVTKSkge1xuICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkEgTXVsdGlNb2RlIExleGVyIGNhbm5vdCBiZSBpbml0aWFsaXplZCB3aXRob3V0IGEgPFwiICtcbiAgICAgICAgICAgICAgICBNT0RFUyArXG4gICAgICAgICAgICAgICAgXCI+IHByb3BlcnR5IGluIGl0cyBkZWZpbml0aW9uXFxuXCIsXG4gICAgICAgICAgICB0eXBlOiBMZXhlckRlZmluaXRpb25FcnJvclR5cGUuTVVMVElfTU9ERV9MRVhFUl9XSVRIT1VUX01PREVTX1BST1BFUlRZLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGhhcyhsZXhlckRlZmluaXRpb24sIE1PREVTKSAmJlxuICAgICAgICBoYXMobGV4ZXJEZWZpbml0aW9uLCBERUZBVUxUX01PREUpICYmXG4gICAgICAgICFoYXMobGV4ZXJEZWZpbml0aW9uLm1vZGVzLCBsZXhlckRlZmluaXRpb24uZGVmYXVsdE1vZGUpKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IGBBIE11bHRpTW9kZSBMZXhlciBjYW5ub3QgYmUgaW5pdGlhbGl6ZWQgd2l0aCBhICR7REVGQVVMVF9NT0RFfTogPCR7bGV4ZXJEZWZpbml0aW9uLmRlZmF1bHRNb2RlfT5gICtcbiAgICAgICAgICAgICAgICBgd2hpY2ggZG9lcyBub3QgZXhpc3RcXG5gLFxuICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLk1VTFRJX01PREVfTEVYRVJfREVGQVVMVF9NT0RFX1ZBTFVFX0RPRVNfTk9UX0VYSVNULFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGhhcyhsZXhlckRlZmluaXRpb24sIE1PREVTKSkge1xuICAgICAgICBmb3JFYWNoKGxleGVyRGVmaW5pdGlvbi5tb2RlcywgKGN1cnJNb2RlVmFsdWUsIGN1cnJNb2RlTmFtZSkgPT4ge1xuICAgICAgICAgICAgZm9yRWFjaChjdXJyTW9kZVZhbHVlLCAoY3VyclRva1R5cGUsIGN1cnJJZHgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNVbmRlZmluZWQoY3VyclRva1R5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBBIExleGVyIGNhbm5vdCBiZSBpbml0aWFsaXplZCB1c2luZyBhbiB1bmRlZmluZWQgVG9rZW4gVHlwZS4gTW9kZTpgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgPCR7Y3Vyck1vZGVOYW1lfT4gYXQgaW5kZXg6IDwke2N1cnJJZHh9PlxcbmAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBMZXhlckRlZmluaXRpb25FcnJvclR5cGUuTEVYRVJfREVGSU5JVElPTl9DQU5OT1RfQ09OVEFJTl9VTkRFRklORUQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChoYXMoY3VyclRva1R5cGUsIFwiTE9OR0VSX0FMVFwiKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb25nZXJBbHQgPSBpc0FycmF5KGN1cnJUb2tUeXBlLkxPTkdFUl9BTFQpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGN1cnJUb2tUeXBlLkxPTkdFUl9BTFRcbiAgICAgICAgICAgICAgICAgICAgICAgIDogW2N1cnJUb2tUeXBlLkxPTkdFUl9BTFRdO1xuICAgICAgICAgICAgICAgICAgICBmb3JFYWNoKGxvbmdlckFsdCwgKGN1cnJMb25nZXJBbHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNVbmRlZmluZWQoY3VyckxvbmdlckFsdCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhaW5jbHVkZXMoY3Vyck1vZGVWYWx1ZSwgY3VyckxvbmdlckFsdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBBIE11bHRpTW9kZSBMZXhlciBjYW5ub3QgYmUgaW5pdGlhbGl6ZWQgd2l0aCBhIGxvbmdlcl9hbHQgPCR7Y3VyckxvbmdlckFsdC5uYW1lfT4gb24gdG9rZW4gPCR7Y3VyclRva1R5cGUubmFtZX0+IG91dHNpZGUgb2YgbW9kZSA8JHtjdXJyTW9kZU5hbWV9PlxcbmAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5NVUxUSV9NT0RFX0xFWEVSX0xPTkdFUl9BTFRfTk9UX0lOX0NVUlJFTlRfTU9ERSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZXJyb3JzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBlcmZvcm1XYXJuaW5nUnVudGltZUNoZWNrcyhsZXhlckRlZmluaXRpb24sIHRyYWNrTGluZXMsIGxpbmVUZXJtaW5hdG9yQ2hhcmFjdGVycykge1xuICAgIGNvbnN0IHdhcm5pbmdzID0gW107XG4gICAgbGV0IGhhc0FueUxpbmVCcmVhayA9IGZhbHNlO1xuICAgIGNvbnN0IGFsbFRva2VuVHlwZXMgPSBjb21wYWN0KGZsYXR0ZW4odmFsdWVzKGxleGVyRGVmaW5pdGlvbi5tb2RlcykpKTtcbiAgICBjb25zdCBjb25jcmV0ZVRva2VuVHlwZXMgPSByZWplY3QoYWxsVG9rZW5UeXBlcywgKGN1cnJUeXBlKSA9PiBjdXJyVHlwZVtQQVRURVJOXSA9PT0gTGV4ZXIuTkEpO1xuICAgIGNvbnN0IHRlcm1pbmF0b3JDaGFyQ29kZXMgPSBnZXRDaGFyQ29kZXMobGluZVRlcm1pbmF0b3JDaGFyYWN0ZXJzKTtcbiAgICBpZiAodHJhY2tMaW5lcykge1xuICAgICAgICBmb3JFYWNoKGNvbmNyZXRlVG9rZW5UeXBlcywgKHRva1R5cGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJJc3N1ZSA9IGNoZWNrTGluZUJyZWFrc0lzc3Vlcyh0b2tUeXBlLCB0ZXJtaW5hdG9yQ2hhckNvZGVzKTtcbiAgICAgICAgICAgIGlmIChjdXJySXNzdWUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGJ1aWxkTGluZUJyZWFrSXNzdWVNZXNzYWdlKHRva1R5cGUsIGN1cnJJc3N1ZSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2FybmluZ0Rlc2NyaXB0b3IgPSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGN1cnJJc3N1ZS5pc3N1ZSxcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5UeXBlOiB0b2tUeXBlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgd2FybmluZ3MucHVzaCh3YXJuaW5nRGVzY3JpcHRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBkb24ndCB3YW50IHRvIGF0dGVtcHQgdG8gc2NhbiBpZiB0aGUgdXNlciBleHBsaWNpdGx5IHNwZWNpZmllZCB0aGUgbGluZV9icmVha3Mgb3B0aW9uLlxuICAgICAgICAgICAgICAgIGlmIChoYXModG9rVHlwZSwgXCJMSU5FX0JSRUFLU1wiKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9rVHlwZS5MSU5FX0JSRUFLUyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzQW55TGluZUJyZWFrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbk1hdGNoQ2hhckNvZGUodGVybWluYXRvckNoYXJDb2RlcywgdG9rVHlwZS5QQVRURVJOKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzQW55TGluZUJyZWFrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmICh0cmFja0xpbmVzICYmICFoYXNBbnlMaW5lQnJlYWspIHtcbiAgICAgICAgd2FybmluZ3MucHVzaCh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIldhcm5pbmc6IE5vIExJTkVfQlJFQUtTIEZvdW5kLlxcblwiICtcbiAgICAgICAgICAgICAgICBcIlxcdFRoaXMgTGV4ZXIgaGFzIGJlZW4gZGVmaW5lZCB0byB0cmFjayBsaW5lIGFuZCBjb2x1bW4gaW5mb3JtYXRpb24sXFxuXCIgK1xuICAgICAgICAgICAgICAgIFwiXFx0QnV0IG5vbmUgb2YgdGhlIFRva2VuIFR5cGVzIGNhbiBiZSBpZGVudGlmaWVkIGFzIG1hdGNoaW5nIGEgbGluZSB0ZXJtaW5hdG9yLlxcblwiICtcbiAgICAgICAgICAgICAgICBcIlxcdFNlZSBodHRwczovL2NoZXZyb3RhaW4uaW8vZG9jcy9ndWlkZS9yZXNvbHZpbmdfbGV4ZXJfZXJyb3JzLmh0bWwjTElORV9CUkVBS1MgXFxuXCIgK1xuICAgICAgICAgICAgICAgIFwiXFx0Zm9yIGRldGFpbHMuXCIsXG4gICAgICAgICAgICB0eXBlOiBMZXhlckRlZmluaXRpb25FcnJvclR5cGUuTk9fTElORV9CUkVBS1NfRkxBR1MsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gd2FybmluZ3M7XG59XG5leHBvcnQgZnVuY3Rpb24gY2xvbmVFbXB0eUdyb3VwcyhlbXB0eUdyb3Vwcykge1xuICAgIGNvbnN0IGNsb25lZFJlc3VsdCA9IHt9O1xuICAgIGNvbnN0IGdyb3VwS2V5cyA9IGtleXMoZW1wdHlHcm91cHMpO1xuICAgIGZvckVhY2goZ3JvdXBLZXlzLCAoY3VycktleSkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyR3JvdXBWYWx1ZSA9IGVtcHR5R3JvdXBzW2N1cnJLZXldO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAoaXNBcnJheShjdXJyR3JvdXBWYWx1ZSkpIHtcbiAgICAgICAgICAgIGNsb25lZFJlc3VsdFtjdXJyS2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBjbG9uZWRSZXN1bHQ7XG59XG4vLyBUT0RPOiByZWZhY3RvciB0byBhdm9pZCBkdXBsaWNhdGlvblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ3VzdG9tUGF0dGVybih0b2tlblR5cGUpIHtcbiAgICBjb25zdCBwYXR0ZXJuID0gdG9rZW5UeXBlLlBBVFRFUk47XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoaXNSZWdFeHAocGF0dGVybikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHBhdHRlcm4pKSB7XG4gICAgICAgIC8vIEN1c3RvbVBhdHRlcm5NYXRjaGVyRnVuYyAtIGN1c3RvbSBwYXR0ZXJucyBkbyBub3QgcmVxdWlyZSBhbnkgdHJhbnNmb3JtYXRpb25zLCBvbmx5IHdyYXBwaW5nIGluIGEgUmVnRXhwIExpa2Ugb2JqZWN0XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChoYXMocGF0dGVybiwgXCJleGVjXCIpKSB7XG4gICAgICAgIC8vIElDdXN0b21QYXR0ZXJuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1N0cmluZyhwYXR0ZXJuKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1Nob3J0UGF0dGVybihwYXR0ZXJuKSB7XG4gICAgaWYgKGlzU3RyaW5nKHBhdHRlcm4pICYmIHBhdHRlcm4ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBwYXR0ZXJuLmNoYXJDb2RlQXQoMCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuLyoqXG4gKiBGYXN0ZXIgdGhhbiB1c2luZyBhIFJlZ0V4cCBmb3IgZGVmYXVsdCBuZXdsaW5lIGRldGVjdGlvbiBkdXJpbmcgbGV4aW5nLlxuICovXG5leHBvcnQgY29uc3QgTGluZVRlcm1pbmF0b3JPcHRpbWl6ZWRUZXN0ZXIgPSB7XG4gICAgLy8gaW1wbGVtZW50cyAvXFxufFxcclxcbj8vZy50ZXN0XG4gICAgdGVzdDogZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgY29uc3QgbGVuID0gdGV4dC5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmxhc3RJbmRleDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjID0gdGV4dC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgaWYgKGMgPT09IDEwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0SW5kZXggPSBpICsgMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGMgPT09IDEzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRleHQuY2hhckNvZGVBdChpICsgMSkgPT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdEluZGV4ID0gaSArIDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RJbmRleCA9IGkgKyAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBsYXN0SW5kZXg6IDAsXG59O1xuZnVuY3Rpb24gY2hlY2tMaW5lQnJlYWtzSXNzdWVzKHRva1R5cGUsIGxpbmVUZXJtaW5hdG9yQ2hhckNvZGVzKSB7XG4gICAgaWYgKGhhcyh0b2tUeXBlLCBcIkxJTkVfQlJFQUtTXCIpKSB7XG4gICAgICAgIC8vIGlmIHRoZSB1c2VyIGV4cGxpY2l0bHkgZGVjbGFyZWQgdGhlIGxpbmVfYnJlYWtzIG9wdGlvbiB3ZSB3aWxsIHJlc3BlY3QgdGhlaXIgY2hvaWNlXG4gICAgICAgIC8vIGFuZCBhc3N1bWUgaXQgaXMgY29ycmVjdC5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKGlzUmVnRXhwKHRva1R5cGUuUEFUVEVSTikpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogd2h5IGlzIHRoZSBjYXN0aW5nIHN1ZGRlbmx5IG5lZWRlZD9cbiAgICAgICAgICAgICAgICBjYW5NYXRjaENoYXJDb2RlKGxpbmVUZXJtaW5hdG9yQ2hhckNvZGVzLCB0b2tUeXBlLlBBVFRFUk4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAtIHRvIHRlc3QgdGhpcyB3ZSB3b3VsZCBoYXZlIHRvIG1vY2sgPGNhbk1hdGNoQ2hhckNvZGU+IHRvIHRocm93IGFuIGVycm9yICovXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaXNzdWU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5JREVOVElGWV9URVJNSU5BVE9SLFxuICAgICAgICAgICAgICAgICAgICBlcnJNc2c6IGUubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzU3RyaW5nKHRva1R5cGUuUEFUVEVSTikpIHtcbiAgICAgICAgICAgIC8vIHN0cmluZyBsaXRlcmFsIHBhdHRlcm5zIGNhbiBhbHdheXMgYmUgYW5hbHl6ZWQgdG8gZGV0ZWN0IGxpbmUgdGVybWluYXRvciB1c2FnZVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQ3VzdG9tUGF0dGVybih0b2tUeXBlKSkge1xuICAgICAgICAgICAgLy8gY3VzdG9tIHRva2VuIHR5cGVzXG4gICAgICAgICAgICByZXR1cm4geyBpc3N1ZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLkNVU1RPTV9MSU5FX0JSRUFLIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkTGluZUJyZWFrSXNzdWVNZXNzYWdlKHRva1R5cGUsIGRldGFpbHMpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChkZXRhaWxzLmlzc3VlID09PSBMZXhlckRlZmluaXRpb25FcnJvclR5cGUuSURFTlRJRllfVEVSTUlOQVRPUikge1xuICAgICAgICByZXR1cm4gKFwiV2FybmluZzogdW5hYmxlIHRvIGlkZW50aWZ5IGxpbmUgdGVybWluYXRvciB1c2FnZSBpbiBwYXR0ZXJuLlxcblwiICtcbiAgICAgICAgICAgIGBcXHRUaGUgcHJvYmxlbSBpcyBpbiB0aGUgPCR7dG9rVHlwZS5uYW1lfT4gVG9rZW4gVHlwZVxcbmAgK1xuICAgICAgICAgICAgYFxcdCBSb290IGNhdXNlOiAke2RldGFpbHMuZXJyTXNnfS5cXG5gICtcbiAgICAgICAgICAgIFwiXFx0Rm9yIGRldGFpbHMgU2VlOiBodHRwczovL2NoZXZyb3RhaW4uaW8vZG9jcy9ndWlkZS9yZXNvbHZpbmdfbGV4ZXJfZXJyb3JzLmh0bWwjSURFTlRJRllfVEVSTUlOQVRPUlwiKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZGV0YWlscy5pc3N1ZSA9PT0gTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLkNVU1RPTV9MSU5FX0JSRUFLKSB7XG4gICAgICAgIHJldHVybiAoXCJXYXJuaW5nOiBBIEN1c3RvbSBUb2tlbiBQYXR0ZXJuIHNob3VsZCBzcGVjaWZ5IHRoZSA8bGluZV9icmVha3M+IG9wdGlvbi5cXG5cIiArXG4gICAgICAgICAgICBgXFx0VGhlIHByb2JsZW0gaXMgaW4gdGhlIDwke3Rva1R5cGUubmFtZX0+IFRva2VuIFR5cGVcXG5gICtcbiAgICAgICAgICAgIFwiXFx0Rm9yIGRldGFpbHMgU2VlOiBodHRwczovL2NoZXZyb3RhaW4uaW8vZG9jcy9ndWlkZS9yZXNvbHZpbmdfbGV4ZXJfZXJyb3JzLmh0bWwjQ1VTVE9NX0xJTkVfQlJFQUtcIik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldENoYXJDb2RlcyhjaGFyc09yQ29kZXMpIHtcbiAgICBjb25zdCBjaGFyQ29kZXMgPSBtYXAoY2hhcnNPckNvZGVzLCAobnVtT3JTdHJpbmcpID0+IHtcbiAgICAgICAgaWYgKGlzU3RyaW5nKG51bU9yU3RyaW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bU9yU3RyaW5nLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVtT3JTdHJpbmc7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY2hhckNvZGVzO1xufVxuZnVuY3Rpb24gYWRkVG9NYXBPZkFycmF5cyhtYXAsIGtleSwgdmFsdWUpIHtcbiAgICBpZiAobWFwW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBtYXBba2V5XSA9IFt2YWx1ZV07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBtYXBba2V5XS5wdXNoKHZhbHVlKTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgbWluT3B0aW1pemF0aW9uVmFsID0gMjU2O1xuLyoqXG4gKiBXZSBhcmUgbWFwcGluZyBjaGFyQ29kZSBhYm92ZSBBU0NJICgyNTYpIGludG8gYnVja2V0cyBlYWNoIGluIHRoZSBzaXplIG9mIDI1Ni5cbiAqIFRoaXMgaXMgYmVjYXVzZSBBU0NJIGFyZSB0aGUgbW9zdCBjb21tb24gc3RhcnQgY2hhcnMgc28gZWFjaCBvbmUgb2YgdGhvc2Ugd2lsbCBnZXQgaXRzIG93blxuICogcG9zc2libGUgdG9rZW4gY29uZmlncyB2ZWN0b3IuXG4gKlxuICogVG9rZW5zIHN0YXJ0aW5nIHdpdGggY2hhckNvZGVzIFwiYWJvdmVcIiBBU0NJIGFyZSB1bmNvbW1vbiwgc28gd2UgY2FuIFwiYWZmb3JkXCJcbiAqIHRvIHBsYWNlIHRoZXNlIGludG8gYnVja2V0cyBvZiBwb3NzaWJsZSB0b2tlbiBjb25maWdzLCBXaGF0IHdlIGdhaW4gZnJvbVxuICogdGhpcyBpcyBhdm9pZGluZyB0aGUgY2FzZSBvZiBjcmVhdGluZyBhbiBvcHRpbWl6YXRpb24gJ2NoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWcnXG4gKiB3aGljaCB3b3VsZCBjb250YWluIDEwLDAwMCsgYXJyYXlzIG9mIHNtYWxsIHNpemUgKGUuZyB1bmljb2RlIElkZW50aWZpZXJzIHNjZW5hcmlvKS5cbiAqIE91ciAnY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZycgbWF4IHNpemUgd2lsbCBub3cgYmU6XG4gKiAyNTYgKyAoMl4xNiAvIDJeOCkgLSAxID09PSA1MTFcbiAqXG4gKiBub3RlIHRoZSBoYWNrIGZvciBmYXN0IGRpdmlzaW9uIGludGVnZXIgcGFydCBleHRyYWN0aW9uXG4gKiBTZWU6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80MjI4NTI4XG4gKi9cbmxldCBjaGFyQ29kZVRvT3B0aW1pemVkSWR4TWFwID0gW107XG5leHBvcnQgZnVuY3Rpb24gY2hhckNvZGVUb09wdGltaXplZEluZGV4KGNoYXJDb2RlKSB7XG4gICAgcmV0dXJuIGNoYXJDb2RlIDwgbWluT3B0aW1pemF0aW9uVmFsXG4gICAgICAgID8gY2hhckNvZGVcbiAgICAgICAgOiBjaGFyQ29kZVRvT3B0aW1pemVkSWR4TWFwW2NoYXJDb2RlXTtcbn1cbi8qKlxuICogVGhpcyBpcyBhIGNvbXByb21pc2UgYmV0d2VlbiBjb2xkIHN0YXJ0IC8gaG90IHJ1bm5pbmcgcGVyZm9ybWFuY2VcbiAqIENyZWF0aW5nIHRoaXMgYXJyYXkgdGFrZXMgfjNtcyBvbiBhIG1vZGVybiBtYWNoaW5lLFxuICogQnV0IGlmIHdlIHBlcmZvcm0gdGhlIGNvbXB1dGF0aW9uIGF0IHJ1bnRpbWUgYXMgbmVlZGVkIHRoZSBDU1MgTGV4ZXIgYmVuY2htYXJrXG4gKiBwZXJmb3JtYW5jZSBkZWdyYWRlcyBieSB+MTAlXG4gKlxuICogVE9ETzogUGVyaGFwcyBpdCBzaG91bGQgYmUgbGF6eSBpbml0aWFsaXplZCBvbmx5IGlmIGEgY2hhckNvZGUgPiAyNTUgaXMgdXNlZC5cbiAqL1xuZnVuY3Rpb24gaW5pdENoYXJDb2RlVG9PcHRpbWl6ZWRJbmRleE1hcCgpIHtcbiAgICBpZiAoaXNFbXB0eShjaGFyQ29kZVRvT3B0aW1pemVkSWR4TWFwKSkge1xuICAgICAgICBjaGFyQ29kZVRvT3B0aW1pemVkSWR4TWFwID0gbmV3IEFycmF5KDY1NTM2KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2NTUzNjsgaSsrKSB7XG4gICAgICAgICAgICBjaGFyQ29kZVRvT3B0aW1pemVkSWR4TWFwW2ldID0gaSA+IDI1NSA/IDI1NSArIH5+KGkgLyAyNTUpIDogaTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxleGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/scan/lexer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/scan/lexer_errors_public.js":
/*!*********************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/scan/lexer_errors_public.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultLexerErrorProvider: () => (/* binding */ defaultLexerErrorProvider)\n/* harmony export */ });\nconst defaultLexerErrorProvider = {\n    buildUnableToPopLexerModeMessage(token) {\n        return `Unable to pop Lexer Mode after encountering Token ->${token.image}<- The Mode Stack is empty`;\n    },\n    buildUnexpectedCharactersMessage(fullText, startOffset, length, line, column) {\n        return (`unexpected character: ->${fullText.charAt(startOffset)}<- at offset: ${startOffset},` + ` skipped ${length} characters.`);\n    },\n};\n//# sourceMappingURL=lexer_errors_public.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3NjYW4vbGV4ZXJfZXJyb3JzX3B1YmxpYy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBLHNFQUFzRSxZQUFZO0FBQ2xGLEtBQUs7QUFDTDtBQUNBLDJDQUEyQyw2QkFBNkIsZ0JBQWdCLFlBQVksaUJBQWlCLFFBQVE7QUFDN0gsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXJtYWlkLWRpYWdyYW0tZWRpdG9yLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy9zY2FuL2xleGVyX2Vycm9yc19wdWJsaWMuanM/NThlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZGVmYXVsdExleGVyRXJyb3JQcm92aWRlciA9IHtcbiAgICBidWlsZFVuYWJsZVRvUG9wTGV4ZXJNb2RlTWVzc2FnZSh0b2tlbikge1xuICAgICAgICByZXR1cm4gYFVuYWJsZSB0byBwb3AgTGV4ZXIgTW9kZSBhZnRlciBlbmNvdW50ZXJpbmcgVG9rZW4gLT4ke3Rva2VuLmltYWdlfTwtIFRoZSBNb2RlIFN0YWNrIGlzIGVtcHR5YDtcbiAgICB9LFxuICAgIGJ1aWxkVW5leHBlY3RlZENoYXJhY3RlcnNNZXNzYWdlKGZ1bGxUZXh0LCBzdGFydE9mZnNldCwgbGVuZ3RoLCBsaW5lLCBjb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIChgdW5leHBlY3RlZCBjaGFyYWN0ZXI6IC0+JHtmdWxsVGV4dC5jaGFyQXQoc3RhcnRPZmZzZXQpfTwtIGF0IG9mZnNldDogJHtzdGFydE9mZnNldH0sYCArIGAgc2tpcHBlZCAke2xlbmd0aH0gY2hhcmFjdGVycy5gKTtcbiAgICB9LFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxleGVyX2Vycm9yc19wdWJsaWMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/scan/lexer_errors_public.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/scan/lexer_public.js":
/*!**************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/scan/lexer_public.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Lexer: () => (/* binding */ Lexer),\n/* harmony export */   LexerDefinitionErrorType: () => (/* binding */ LexerDefinitionErrorType)\n/* harmony export */ });\n/* harmony import */ var _lexer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lexer.js */ \"(ssr)/./node_modules/chevrotain/lib/src/scan/lexer.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/assign.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isArray.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/clone.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/forEach.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/reject.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isUndefined.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/keys.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isEmpty.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/map.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/identity.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/noop.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/reduce.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/last.js\");\n/* harmony import */ var _chevrotain_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chevrotain/utils */ \"(ssr)/./node_modules/@chevrotain/utils/lib/src/api.js\");\n/* harmony import */ var _tokens_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tokens.js */ \"(ssr)/./node_modules/chevrotain/lib/src/scan/tokens.js\");\n/* harmony import */ var _lexer_errors_public_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lexer_errors_public.js */ \"(ssr)/./node_modules/chevrotain/lib/src/scan/lexer_errors_public.js\");\n/* harmony import */ var _reg_exp_parser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./reg_exp_parser.js */ \"(ssr)/./node_modules/chevrotain/lib/src/scan/reg_exp_parser.js\");\n\n\n\n\n\n\nvar LexerDefinitionErrorType;\n(function (LexerDefinitionErrorType) {\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"MISSING_PATTERN\"] = 0] = \"MISSING_PATTERN\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"INVALID_PATTERN\"] = 1] = \"INVALID_PATTERN\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"EOI_ANCHOR_FOUND\"] = 2] = \"EOI_ANCHOR_FOUND\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"UNSUPPORTED_FLAGS_FOUND\"] = 3] = \"UNSUPPORTED_FLAGS_FOUND\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"DUPLICATE_PATTERNS_FOUND\"] = 4] = \"DUPLICATE_PATTERNS_FOUND\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"INVALID_GROUP_TYPE_FOUND\"] = 5] = \"INVALID_GROUP_TYPE_FOUND\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"PUSH_MODE_DOES_NOT_EXIST\"] = 6] = \"PUSH_MODE_DOES_NOT_EXIST\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE\"] = 7] = \"MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY\"] = 8] = \"MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST\"] = 9] = \"MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED\"] = 10] = \"LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"SOI_ANCHOR_FOUND\"] = 11] = \"SOI_ANCHOR_FOUND\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"EMPTY_MATCH_PATTERN\"] = 12] = \"EMPTY_MATCH_PATTERN\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"NO_LINE_BREAKS_FLAGS\"] = 13] = \"NO_LINE_BREAKS_FLAGS\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"UNREACHABLE_PATTERN\"] = 14] = \"UNREACHABLE_PATTERN\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"IDENTIFY_TERMINATOR\"] = 15] = \"IDENTIFY_TERMINATOR\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"CUSTOM_LINE_BREAK\"] = 16] = \"CUSTOM_LINE_BREAK\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE\"] = 17] = \"MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE\";\n})(LexerDefinitionErrorType || (LexerDefinitionErrorType = {}));\nconst DEFAULT_LEXER_CONFIG = {\n    deferDefinitionErrorsHandling: false,\n    positionTracking: \"full\",\n    lineTerminatorsPattern: /\\n|\\r\\n?/g,\n    lineTerminatorCharacters: [\"\\n\", \"\\r\"],\n    ensureOptimizations: false,\n    safeMode: false,\n    errorMessageProvider: _lexer_errors_public_js__WEBPACK_IMPORTED_MODULE_3__.defaultLexerErrorProvider,\n    traceInitPerf: false,\n    skipValidations: false,\n    recoveryEnabled: true,\n};\nObject.freeze(DEFAULT_LEXER_CONFIG);\nclass Lexer {\n    constructor(lexerDefinition, config = DEFAULT_LEXER_CONFIG) {\n        this.lexerDefinition = lexerDefinition;\n        this.lexerDefinitionErrors = [];\n        this.lexerDefinitionWarning = [];\n        this.patternIdxToConfig = {};\n        this.charCodeToPatternIdxToConfig = {};\n        this.modes = [];\n        this.emptyGroups = {};\n        this.trackStartLines = true;\n        this.trackEndLines = true;\n        this.hasCustom = false;\n        this.canModeBeOptimized = {};\n        // Duplicated from the parser's perf trace trait to allow future extraction\n        // of the lexer to a separate package.\n        this.TRACE_INIT = (phaseDesc, phaseImpl) => {\n            // No need to optimize this using NOOP pattern because\n            // It is not called in a hot spot...\n            if (this.traceInitPerf === true) {\n                this.traceInitIndent++;\n                const indent = new Array(this.traceInitIndent + 1).join(\"\\t\");\n                if (this.traceInitIndent < this.traceInitMaxIdent) {\n                    console.log(`${indent}--> <${phaseDesc}>`);\n                }\n                const { time, value } = (0,_chevrotain_utils__WEBPACK_IMPORTED_MODULE_1__.timer)(phaseImpl);\n                /* istanbul ignore next - Difficult to reproduce specific performance behavior (>10ms) in tests */\n                const traceMethod = time > 10 ? console.warn : console.log;\n                if (this.traceInitIndent < this.traceInitMaxIdent) {\n                    traceMethod(`${indent}<-- <${phaseDesc}> time: ${time}ms`);\n                }\n                this.traceInitIndent--;\n                return value;\n            }\n            else {\n                return phaseImpl();\n            }\n        };\n        if (typeof config === \"boolean\") {\n            throw Error(\"The second argument to the Lexer constructor is now an ILexerConfig Object.\\n\" +\n                \"a boolean 2nd argument is no longer supported\");\n        }\n        // todo: defaults func?\n        this.config = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, DEFAULT_LEXER_CONFIG, config);\n        const traceInitVal = this.config.traceInitPerf;\n        if (traceInitVal === true) {\n            this.traceInitMaxIdent = Infinity;\n            this.traceInitPerf = true;\n        }\n        else if (typeof traceInitVal === \"number\") {\n            this.traceInitMaxIdent = traceInitVal;\n            this.traceInitPerf = true;\n        }\n        this.traceInitIndent = -1;\n        this.TRACE_INIT(\"Lexer Constructor\", () => {\n            let actualDefinition;\n            let hasOnlySingleMode = true;\n            this.TRACE_INIT(\"Lexer Config handling\", () => {\n                if (this.config.lineTerminatorsPattern ===\n                    DEFAULT_LEXER_CONFIG.lineTerminatorsPattern) {\n                    // optimized built-in implementation for the defaults definition of lineTerminators\n                    this.config.lineTerminatorsPattern = _lexer_js__WEBPACK_IMPORTED_MODULE_0__.LineTerminatorOptimizedTester;\n                }\n                else {\n                    if (this.config.lineTerminatorCharacters ===\n                        DEFAULT_LEXER_CONFIG.lineTerminatorCharacters) {\n                        throw Error(\"Error: Missing <lineTerminatorCharacters> property on the Lexer config.\\n\" +\n                            \"\\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS\");\n                    }\n                }\n                if (config.safeMode && config.ensureOptimizations) {\n                    throw Error('\"safeMode\" and \"ensureOptimizations\" flags are mutually exclusive.');\n                }\n                this.trackStartLines = /full|onlyStart/i.test(this.config.positionTracking);\n                this.trackEndLines = /full/i.test(this.config.positionTracking);\n                // Convert SingleModeLexerDefinition into a IMultiModeLexerDefinition.\n                if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(lexerDefinition)) {\n                    actualDefinition = {\n                        modes: { defaultMode: (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(lexerDefinition) },\n                        defaultMode: _lexer_js__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_MODE,\n                    };\n                }\n                else {\n                    // no conversion needed, input should already be a IMultiModeLexerDefinition\n                    hasOnlySingleMode = false;\n                    actualDefinition = (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(lexerDefinition);\n                }\n            });\n            if (this.config.skipValidations === false) {\n                this.TRACE_INIT(\"performRuntimeChecks\", () => {\n                    this.lexerDefinitionErrors = this.lexerDefinitionErrors.concat((0,_lexer_js__WEBPACK_IMPORTED_MODULE_0__.performRuntimeChecks)(actualDefinition, this.trackStartLines, this.config.lineTerminatorCharacters));\n                });\n                this.TRACE_INIT(\"performWarningRuntimeChecks\", () => {\n                    this.lexerDefinitionWarning = this.lexerDefinitionWarning.concat((0,_lexer_js__WEBPACK_IMPORTED_MODULE_0__.performWarningRuntimeChecks)(actualDefinition, this.trackStartLines, this.config.lineTerminatorCharacters));\n                });\n            }\n            // for extra robustness to avoid throwing an none informative error message\n            actualDefinition.modes = actualDefinition.modes\n                ? actualDefinition.modes\n                : {};\n            // an error of undefined TokenTypes will be detected in \"performRuntimeChecks\" above.\n            // this transformation is to increase robustness in the case of partially invalid lexer definition.\n            (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(actualDefinition.modes, (currModeValue, currModeName) => {\n                actualDefinition.modes[currModeName] = (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(currModeValue, (currTokType) => (0,lodash_es__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(currTokType));\n            });\n            const allModeNames = (0,lodash_es__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(actualDefinition.modes);\n            (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(actualDefinition.modes, (currModDef, currModName) => {\n                this.TRACE_INIT(`Mode: <${currModName}> processing`, () => {\n                    this.modes.push(currModName);\n                    if (this.config.skipValidations === false) {\n                        this.TRACE_INIT(`validatePatterns`, () => {\n                            this.lexerDefinitionErrors = this.lexerDefinitionErrors.concat((0,_lexer_js__WEBPACK_IMPORTED_MODULE_0__.validatePatterns)(currModDef, allModeNames));\n                        });\n                    }\n                    // If definition errors were encountered, the analysis phase may fail unexpectedly/\n                    // Considering a lexer with definition errors may never be used, there is no point\n                    // to performing the analysis anyhow...\n                    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(this.lexerDefinitionErrors)) {\n                        (0,_tokens_js__WEBPACK_IMPORTED_MODULE_2__.augmentTokenTypes)(currModDef);\n                        let currAnalyzeResult;\n                        this.TRACE_INIT(`analyzeTokenTypes`, () => {\n                            currAnalyzeResult = (0,_lexer_js__WEBPACK_IMPORTED_MODULE_0__.analyzeTokenTypes)(currModDef, {\n                                lineTerminatorCharacters: this.config.lineTerminatorCharacters,\n                                positionTracking: config.positionTracking,\n                                ensureOptimizations: config.ensureOptimizations,\n                                safeMode: config.safeMode,\n                                tracer: this.TRACE_INIT,\n                            });\n                        });\n                        this.patternIdxToConfig[currModName] =\n                            currAnalyzeResult.patternIdxToConfig;\n                        this.charCodeToPatternIdxToConfig[currModName] =\n                            currAnalyzeResult.charCodeToPatternIdxToConfig;\n                        this.emptyGroups = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, this.emptyGroups, currAnalyzeResult.emptyGroups);\n                        this.hasCustom = currAnalyzeResult.hasCustom || this.hasCustom;\n                        this.canModeBeOptimized[currModName] =\n                            currAnalyzeResult.canBeOptimized;\n                    }\n                });\n            });\n            this.defaultMode = actualDefinition.defaultMode;\n            if (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(this.lexerDefinitionErrors) &&\n                !this.config.deferDefinitionErrorsHandling) {\n                const allErrMessages = (0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(this.lexerDefinitionErrors, (error) => {\n                    return error.message;\n                });\n                const allErrMessagesString = allErrMessages.join(\"-----------------------\\n\");\n                throw new Error(\"Errors detected in definition of Lexer:\\n\" + allErrMessagesString);\n            }\n            // Only print warning if there are no errors, This will avoid pl\n            (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(this.lexerDefinitionWarning, (warningDescriptor) => {\n                (0,_chevrotain_utils__WEBPACK_IMPORTED_MODULE_1__.PRINT_WARNING)(warningDescriptor.message);\n            });\n            this.TRACE_INIT(\"Choosing sub-methods implementations\", () => {\n                // Choose the relevant internal implementations for this specific parser.\n                // These implementations should be in-lined by the JavaScript engine\n                // to provide optimal performance in each scenario.\n                if (_lexer_js__WEBPACK_IMPORTED_MODULE_0__.SUPPORT_STICKY) {\n                    this.chopInput = lodash_es__WEBPACK_IMPORTED_MODULE_14__[\"default\"];\n                    this.match = this.matchWithTest;\n                }\n                else {\n                    this.updateLastIndex = lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"];\n                    this.match = this.matchWithExec;\n                }\n                if (hasOnlySingleMode) {\n                    this.handleModes = lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"];\n                }\n                if (this.trackStartLines === false) {\n                    this.computeNewColumn = lodash_es__WEBPACK_IMPORTED_MODULE_14__[\"default\"];\n                }\n                if (this.trackEndLines === false) {\n                    this.updateTokenEndLineColumnLocation = lodash_es__WEBPACK_IMPORTED_MODULE_15__[\"default\"];\n                }\n                if (/full/i.test(this.config.positionTracking)) {\n                    this.createTokenInstance = this.createFullToken;\n                }\n                else if (/onlyStart/i.test(this.config.positionTracking)) {\n                    this.createTokenInstance = this.createStartOnlyToken;\n                }\n                else if (/onlyOffset/i.test(this.config.positionTracking)) {\n                    this.createTokenInstance = this.createOffsetOnlyToken;\n                }\n                else {\n                    throw Error(`Invalid <positionTracking> config option: \"${this.config.positionTracking}\"`);\n                }\n                if (this.hasCustom) {\n                    this.addToken = this.addTokenUsingPush;\n                    this.handlePayload = this.handlePayloadWithCustom;\n                }\n                else {\n                    this.addToken = this.addTokenUsingMemberAccess;\n                    this.handlePayload = this.handlePayloadNoCustom;\n                }\n            });\n            this.TRACE_INIT(\"Failed Optimization Warnings\", () => {\n                const unOptimizedModes = (0,lodash_es__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(this.canModeBeOptimized, (cannotBeOptimized, canBeOptimized, modeName) => {\n                    if (canBeOptimized === false) {\n                        cannotBeOptimized.push(modeName);\n                    }\n                    return cannotBeOptimized;\n                }, []);\n                if (config.ensureOptimizations && !(0,lodash_es__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(unOptimizedModes)) {\n                    throw Error(`Lexer Modes: < ${unOptimizedModes.join(\", \")} > cannot be optimized.\\n` +\n                        '\\t Disable the \"ensureOptimizations\" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\\n' +\n                        \"\\t Or inspect the console log for details on how to resolve these issues.\");\n                }\n            });\n            this.TRACE_INIT(\"clearRegExpParserCache\", () => {\n                (0,_reg_exp_parser_js__WEBPACK_IMPORTED_MODULE_4__.clearRegExpParserCache)();\n            });\n            this.TRACE_INIT(\"toFastProperties\", () => {\n                (0,_chevrotain_utils__WEBPACK_IMPORTED_MODULE_1__.toFastProperties)(this);\n            });\n        });\n    }\n    tokenize(text, initialMode = this.defaultMode) {\n        if (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(this.lexerDefinitionErrors)) {\n            const allErrMessages = (0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(this.lexerDefinitionErrors, (error) => {\n                return error.message;\n            });\n            const allErrMessagesString = allErrMessages.join(\"-----------------------\\n\");\n            throw new Error(\"Unable to Tokenize because Errors detected in definition of Lexer:\\n\" +\n                allErrMessagesString);\n        }\n        return this.tokenizeInternal(text, initialMode);\n    }\n    // There is quite a bit of duplication between this and \"tokenizeInternalLazy\"\n    // This is intentional due to performance considerations.\n    // this method also used quite a bit of `!` none null assertions because it is too optimized\n    // for `tsc` to always understand it is \"safe\"\n    tokenizeInternal(text, initialMode) {\n        let i, j, k, matchAltImage, longerAlt, matchedImage, payload, altPayload, imageLength, group, tokType, newToken, errLength, droppedChar, msg, match;\n        const orgText = text;\n        const orgLength = orgText.length;\n        let offset = 0;\n        let matchedTokensIndex = 0;\n        // initializing the tokensArray to the \"guessed\" size.\n        // guessing too little will still reduce the number of array re-sizes on pushes.\n        // guessing too large (Tested by guessing x4 too large) may cost a bit more of memory\n        // but would still have a faster runtime by avoiding (All but one) array resizing.\n        const guessedNumberOfTokens = this.hasCustom\n            ? 0 // will break custom token pattern APIs the matchedTokens array will contain undefined elements.\n            : Math.floor(text.length / 10);\n        const matchedTokens = new Array(guessedNumberOfTokens);\n        const errors = [];\n        let line = this.trackStartLines ? 1 : undefined;\n        let column = this.trackStartLines ? 1 : undefined;\n        const groups = (0,_lexer_js__WEBPACK_IMPORTED_MODULE_0__.cloneEmptyGroups)(this.emptyGroups);\n        const trackLines = this.trackStartLines;\n        const lineTerminatorPattern = this.config.lineTerminatorsPattern;\n        let currModePatternsLength = 0;\n        let patternIdxToConfig = [];\n        let currCharCodeToPatternIdxToConfig = [];\n        const modeStack = [];\n        const emptyArray = [];\n        Object.freeze(emptyArray);\n        let getPossiblePatterns;\n        function getPossiblePatternsSlow() {\n            return patternIdxToConfig;\n        }\n        function getPossiblePatternsOptimized(charCode) {\n            const optimizedCharIdx = (0,_lexer_js__WEBPACK_IMPORTED_MODULE_0__.charCodeToOptimizedIndex)(charCode);\n            const possiblePatterns = currCharCodeToPatternIdxToConfig[optimizedCharIdx];\n            if (possiblePatterns === undefined) {\n                return emptyArray;\n            }\n            else {\n                return possiblePatterns;\n            }\n        }\n        const pop_mode = (popToken) => {\n            // TODO: perhaps avoid this error in the edge case there is no more input?\n            if (modeStack.length === 1 &&\n                // if we have both a POP_MODE and a PUSH_MODE this is in-fact a \"transition\"\n                // So no error should occur.\n                popToken.tokenType.PUSH_MODE === undefined) {\n                // if we try to pop the last mode there lexer will no longer have ANY mode.\n                // thus the pop is ignored, an error will be created and the lexer will continue parsing in the previous mode.\n                const msg = this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(popToken);\n                errors.push({\n                    offset: popToken.startOffset,\n                    line: popToken.startLine,\n                    column: popToken.startColumn,\n                    length: popToken.image.length,\n                    message: msg,\n                });\n            }\n            else {\n                modeStack.pop();\n                const newMode = (0,lodash_es__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(modeStack);\n                patternIdxToConfig = this.patternIdxToConfig[newMode];\n                currCharCodeToPatternIdxToConfig =\n                    this.charCodeToPatternIdxToConfig[newMode];\n                currModePatternsLength = patternIdxToConfig.length;\n                const modeCanBeOptimized = this.canModeBeOptimized[newMode] && this.config.safeMode === false;\n                if (currCharCodeToPatternIdxToConfig && modeCanBeOptimized) {\n                    getPossiblePatterns = getPossiblePatternsOptimized;\n                }\n                else {\n                    getPossiblePatterns = getPossiblePatternsSlow;\n                }\n            }\n        };\n        function push_mode(newMode) {\n            modeStack.push(newMode);\n            currCharCodeToPatternIdxToConfig =\n                this.charCodeToPatternIdxToConfig[newMode];\n            patternIdxToConfig = this.patternIdxToConfig[newMode];\n            currModePatternsLength = patternIdxToConfig.length;\n            currModePatternsLength = patternIdxToConfig.length;\n            const modeCanBeOptimized = this.canModeBeOptimized[newMode] && this.config.safeMode === false;\n            if (currCharCodeToPatternIdxToConfig && modeCanBeOptimized) {\n                getPossiblePatterns = getPossiblePatternsOptimized;\n            }\n            else {\n                getPossiblePatterns = getPossiblePatternsSlow;\n            }\n        }\n        // this pattern seems to avoid a V8 de-optimization, although that de-optimization does not\n        // seem to matter performance wise.\n        push_mode.call(this, initialMode);\n        let currConfig;\n        const recoveryEnabled = this.config.recoveryEnabled;\n        while (offset < orgLength) {\n            matchedImage = null;\n            const nextCharCode = orgText.charCodeAt(offset);\n            const chosenPatternIdxToConfig = getPossiblePatterns(nextCharCode);\n            const chosenPatternsLength = chosenPatternIdxToConfig.length;\n            for (i = 0; i < chosenPatternsLength; i++) {\n                currConfig = chosenPatternIdxToConfig[i];\n                const currPattern = currConfig.pattern;\n                payload = null;\n                // manually in-lined because > 600 chars won't be in-lined in V8\n                const singleCharCode = currConfig.short;\n                if (singleCharCode !== false) {\n                    if (nextCharCode === singleCharCode) {\n                        // single character string\n                        matchedImage = currPattern;\n                    }\n                }\n                else if (currConfig.isCustom === true) {\n                    match = currPattern.exec(orgText, offset, matchedTokens, groups);\n                    if (match !== null) {\n                        matchedImage = match[0];\n                        if (match.payload !== undefined) {\n                            payload = match.payload;\n                        }\n                    }\n                    else {\n                        matchedImage = null;\n                    }\n                }\n                else {\n                    this.updateLastIndex(currPattern, offset);\n                    matchedImage = this.match(currPattern, text, offset);\n                }\n                if (matchedImage !== null) {\n                    // even though this pattern matched we must try a another longer alternative.\n                    // this can be used to prioritize keywords over identifiers\n                    longerAlt = currConfig.longerAlt;\n                    if (longerAlt !== undefined) {\n                        // TODO: micro optimize, avoid extra prop access\n                        // by saving/linking longerAlt on the original config?\n                        const longerAltLength = longerAlt.length;\n                        for (k = 0; k < longerAltLength; k++) {\n                            const longerAltConfig = patternIdxToConfig[longerAlt[k]];\n                            const longerAltPattern = longerAltConfig.pattern;\n                            altPayload = null;\n                            // single Char can never be a longer alt so no need to test it.\n                            // manually in-lined because > 600 chars won't be in-lined in V8\n                            if (longerAltConfig.isCustom === true) {\n                                match = longerAltPattern.exec(orgText, offset, matchedTokens, groups);\n                                if (match !== null) {\n                                    matchAltImage = match[0];\n                                    if (match.payload !== undefined) {\n                                        altPayload = match.payload;\n                                    }\n                                }\n                                else {\n                                    matchAltImage = null;\n                                }\n                            }\n                            else {\n                                this.updateLastIndex(longerAltPattern, offset);\n                                matchAltImage = this.match(longerAltPattern, text, offset);\n                            }\n                            if (matchAltImage && matchAltImage.length > matchedImage.length) {\n                                matchedImage = matchAltImage;\n                                payload = altPayload;\n                                currConfig = longerAltConfig;\n                                // Exit the loop early after matching one of the longer alternatives\n                                // The first matched alternative takes precedence\n                                break;\n                            }\n                        }\n                    }\n                    break;\n                }\n            }\n            // successful match\n            if (matchedImage !== null) {\n                imageLength = matchedImage.length;\n                group = currConfig.group;\n                if (group !== undefined) {\n                    tokType = currConfig.tokenTypeIdx;\n                    // TODO: \"offset + imageLength\" and the new column may be computed twice in case of \"full\" location information inside\n                    // createFullToken method\n                    newToken = this.createTokenInstance(matchedImage, offset, tokType, currConfig.tokenType, line, column, imageLength);\n                    this.handlePayload(newToken, payload);\n                    // TODO: optimize NOOP in case there are no special groups?\n                    if (group === false) {\n                        matchedTokensIndex = this.addToken(matchedTokens, matchedTokensIndex, newToken);\n                    }\n                    else {\n                        groups[group].push(newToken);\n                    }\n                }\n                text = this.chopInput(text, imageLength);\n                offset = offset + imageLength;\n                // TODO: with newlines the column may be assigned twice\n                column = this.computeNewColumn(column, imageLength);\n                if (trackLines === true && currConfig.canLineTerminator === true) {\n                    let numOfLTsInMatch = 0;\n                    let foundTerminator;\n                    let lastLTEndOffset;\n                    lineTerminatorPattern.lastIndex = 0;\n                    do {\n                        foundTerminator = lineTerminatorPattern.test(matchedImage);\n                        if (foundTerminator === true) {\n                            lastLTEndOffset = lineTerminatorPattern.lastIndex - 1;\n                            numOfLTsInMatch++;\n                        }\n                    } while (foundTerminator === true);\n                    if (numOfLTsInMatch !== 0) {\n                        line = line + numOfLTsInMatch;\n                        column = imageLength - lastLTEndOffset;\n                        this.updateTokenEndLineColumnLocation(newToken, group, lastLTEndOffset, numOfLTsInMatch, line, column, imageLength);\n                    }\n                }\n                // will be NOOP if no modes present\n                this.handleModes(currConfig, pop_mode, push_mode, newToken);\n            }\n            else {\n                // error recovery, drop characters until we identify a valid token's start point\n                const errorStartOffset = offset;\n                const errorLine = line;\n                const errorColumn = column;\n                let foundResyncPoint = recoveryEnabled === false;\n                while (foundResyncPoint === false && offset < orgLength) {\n                    // Identity Func (when sticky flag is enabled)\n                    text = this.chopInput(text, 1);\n                    offset++;\n                    for (j = 0; j < currModePatternsLength; j++) {\n                        const currConfig = patternIdxToConfig[j];\n                        const currPattern = currConfig.pattern;\n                        // manually in-lined because > 600 chars won't be in-lined in V8\n                        const singleCharCode = currConfig.short;\n                        if (singleCharCode !== false) {\n                            if (orgText.charCodeAt(offset) === singleCharCode) {\n                                // single character string\n                                foundResyncPoint = true;\n                            }\n                        }\n                        else if (currConfig.isCustom === true) {\n                            foundResyncPoint =\n                                currPattern.exec(orgText, offset, matchedTokens, groups) !== null;\n                        }\n                        else {\n                            this.updateLastIndex(currPattern, offset);\n                            foundResyncPoint = currPattern.exec(text) !== null;\n                        }\n                        if (foundResyncPoint === true) {\n                            break;\n                        }\n                    }\n                }\n                errLength = offset - errorStartOffset;\n                column = this.computeNewColumn(column, errLength);\n                // at this point we either re-synced or reached the end of the input text\n                msg = this.config.errorMessageProvider.buildUnexpectedCharactersMessage(orgText, errorStartOffset, errLength, errorLine, errorColumn);\n                errors.push({\n                    offset: errorStartOffset,\n                    line: errorLine,\n                    column: errorColumn,\n                    length: errLength,\n                    message: msg,\n                });\n                if (recoveryEnabled === false) {\n                    break;\n                }\n            }\n        }\n        // if we do have custom patterns which push directly into the\n        // TODO: custom tokens should not push directly??\n        if (!this.hasCustom) {\n            // if we guessed a too large size for the tokens array this will shrink it to the right size.\n            matchedTokens.length = matchedTokensIndex;\n        }\n        return {\n            tokens: matchedTokens,\n            groups: groups,\n            errors: errors,\n        };\n    }\n    handleModes(config, pop_mode, push_mode, newToken) {\n        if (config.pop === true) {\n            // need to save the PUSH_MODE property as if the mode is popped\n            // patternIdxToPopMode is updated to reflect the new mode after popping the stack\n            const pushMode = config.push;\n            pop_mode(newToken);\n            if (pushMode !== undefined) {\n                push_mode.call(this, pushMode);\n            }\n        }\n        else if (config.push !== undefined) {\n            push_mode.call(this, config.push);\n        }\n    }\n    chopInput(text, length) {\n        return text.substring(length);\n    }\n    updateLastIndex(regExp, newLastIndex) {\n        regExp.lastIndex = newLastIndex;\n    }\n    // TODO: decrease this under 600 characters? inspect stripping comments option in TSC compiler\n    updateTokenEndLineColumnLocation(newToken, group, lastLTIdx, numOfLTsInMatch, line, column, imageLength) {\n        let lastCharIsLT, fixForEndingInLT;\n        if (group !== undefined) {\n            // a none skipped multi line Token, need to update endLine/endColumn\n            lastCharIsLT = lastLTIdx === imageLength - 1;\n            fixForEndingInLT = lastCharIsLT ? -1 : 0;\n            if (!(numOfLTsInMatch === 1 && lastCharIsLT === true)) {\n                // if a token ends in a LT that last LT only affects the line numbering of following Tokens\n                newToken.endLine = line + fixForEndingInLT;\n                // the last LT in a token does not affect the endColumn either as the [columnStart ... columnEnd)\n                // inclusive to exclusive range.\n                newToken.endColumn = column - 1 + -fixForEndingInLT;\n            }\n            // else single LT in the last character of a token, no need to modify the endLine/EndColumn\n        }\n    }\n    computeNewColumn(oldColumn, imageLength) {\n        return oldColumn + imageLength;\n    }\n    createOffsetOnlyToken(image, startOffset, tokenTypeIdx, tokenType) {\n        return {\n            image,\n            startOffset,\n            tokenTypeIdx,\n            tokenType,\n        };\n    }\n    createStartOnlyToken(image, startOffset, tokenTypeIdx, tokenType, startLine, startColumn) {\n        return {\n            image,\n            startOffset,\n            startLine,\n            startColumn,\n            tokenTypeIdx,\n            tokenType,\n        };\n    }\n    createFullToken(image, startOffset, tokenTypeIdx, tokenType, startLine, startColumn, imageLength) {\n        return {\n            image,\n            startOffset,\n            endOffset: startOffset + imageLength - 1,\n            startLine,\n            endLine: startLine,\n            startColumn,\n            endColumn: startColumn + imageLength - 1,\n            tokenTypeIdx,\n            tokenType,\n        };\n    }\n    addTokenUsingPush(tokenVector, index, tokenToAdd) {\n        tokenVector.push(tokenToAdd);\n        return index;\n    }\n    addTokenUsingMemberAccess(tokenVector, index, tokenToAdd) {\n        tokenVector[index] = tokenToAdd;\n        index++;\n        return index;\n    }\n    handlePayloadNoCustom(token, payload) { }\n    handlePayloadWithCustom(token, payload) {\n        if (payload !== null) {\n            token.payload = payload;\n        }\n    }\n    matchWithTest(pattern, text, offset) {\n        const found = pattern.test(text);\n        if (found === true) {\n            return text.substring(offset, pattern.lastIndex);\n        }\n        return null;\n    }\n    matchWithExec(pattern, text) {\n        const regExpArray = pattern.exec(text);\n        return regExpArray !== null ? regExpArray[0] : null;\n    }\n}\nLexer.SKIPPED = \"This marks a skipped Token pattern, this means each token identified by it will\" +\n    \"be consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.\";\nLexer.NA = /NOT_APPLICABLE/;\n//# sourceMappingURL=lexer_public.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3NjYW4vbGV4ZXJfcHVibGljLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQThOO0FBQzFGO0FBQ3pEO0FBQzNCO0FBQ3FCO0FBQ1I7QUFDdEQ7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsNERBQTREO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDhFQUF5QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsT0FBTyxPQUFPLFVBQVU7QUFDM0Q7QUFDQSx3QkFBd0IsY0FBYyxFQUFFLHdEQUFLO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxPQUFPLE9BQU8sVUFBVSxVQUFVLEtBQUs7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IscURBQU0sR0FBRztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELG9FQUE2QjtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFEQUFPO0FBQzNCO0FBQ0EsaUNBQWlDLGFBQWEscURBQUssbUJBQW1CO0FBQ3RFLHFDQUFxQyxtREFBWTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHFEQUFLO0FBQzVDO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxtRkFBbUYsK0RBQW9CO0FBQ3ZHLGlCQUFpQjtBQUNqQjtBQUNBLHFGQUFxRixzRUFBMkI7QUFDaEgsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxREFBTztBQUNuQix1REFBdUQscURBQU0saUNBQWlDLHNEQUFXO0FBQ3pHLGFBQWE7QUFDYixpQ0FBaUMsc0RBQUk7QUFDckMsWUFBWSxxREFBTztBQUNuQiwwQ0FBMEMsWUFBWTtBQUN0RDtBQUNBO0FBQ0E7QUFDQSwyRkFBMkYsMkRBQWdCO0FBQzNHLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixzREFBTztBQUMvQix3QkFBd0IsNkRBQWlCO0FBQ3pDO0FBQ0E7QUFDQSxnREFBZ0QsNERBQWlCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLHFEQUFNLEdBQUc7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0EsaUJBQWlCLHNEQUFPO0FBQ3hCO0FBQ0EsdUNBQXVDLHNEQUFHO0FBQzFDO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxREFBTztBQUNuQixnQkFBZ0IsZ0VBQWE7QUFDN0IsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFEQUFjO0FBQ2xDLHFDQUFxQyxrREFBUTtBQUM3QztBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsa0RBQUk7QUFDL0M7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLGtEQUFJO0FBQzNDO0FBQ0E7QUFDQSw0Q0FBNEMsa0RBQVE7QUFDcEQ7QUFDQTtBQUNBLDREQUE0RCxrREFBSTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEVBQThFLDZCQUE2QjtBQUMzRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSx5Q0FBeUMsc0RBQU07QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsbURBQW1ELHNEQUFPO0FBQzFELGtEQUFrRCw2QkFBNkI7QUFDL0U7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsZ0JBQWdCLDBFQUFzQjtBQUN0QyxhQUFhO0FBQ2I7QUFDQSxnQkFBZ0IsbUVBQWdCO0FBQ2hDLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLGFBQWEsc0RBQU87QUFDcEIsbUNBQW1DLHNEQUFHO0FBQ3RDO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwyREFBZ0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsbUVBQXdCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHNEQUFJO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMEJBQTBCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MscUJBQXFCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDRCQUE0QjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL21lcm1haWQtZGlhZ3JhbS1lZGl0b3IvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3NjYW4vbGV4ZXJfcHVibGljLmpzPzc3ZGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYW5hbHl6ZVRva2VuVHlwZXMsIGNoYXJDb2RlVG9PcHRpbWl6ZWRJbmRleCwgY2xvbmVFbXB0eUdyb3VwcywgREVGQVVMVF9NT0RFLCBMaW5lVGVybWluYXRvck9wdGltaXplZFRlc3RlciwgcGVyZm9ybVJ1bnRpbWVDaGVja3MsIHBlcmZvcm1XYXJuaW5nUnVudGltZUNoZWNrcywgU1VQUE9SVF9TVElDS1ksIHZhbGlkYXRlUGF0dGVybnMsIH0gZnJvbSBcIi4vbGV4ZXIuanNcIjtcbmltcG9ydCB7IGFzc2lnbiwgY2xvbmUsIGZvckVhY2gsIGlkZW50aXR5LCBpc0FycmF5LCBpc0VtcHR5LCBpc1VuZGVmaW5lZCwga2V5cywgbGFzdCwgbWFwLCBub29wLCByZWR1Y2UsIHJlamVjdCwgfSBmcm9tIFwibG9kYXNoLWVzXCI7XG5pbXBvcnQgeyBQUklOVF9XQVJOSU5HLCB0aW1lciwgdG9GYXN0UHJvcGVydGllcyB9IGZyb20gXCJAY2hldnJvdGFpbi91dGlsc1wiO1xuaW1wb3J0IHsgYXVnbWVudFRva2VuVHlwZXMgfSBmcm9tIFwiLi90b2tlbnMuanNcIjtcbmltcG9ydCB7IGRlZmF1bHRMZXhlckVycm9yUHJvdmlkZXIgfSBmcm9tIFwiLi9sZXhlcl9lcnJvcnNfcHVibGljLmpzXCI7XG5pbXBvcnQgeyBjbGVhclJlZ0V4cFBhcnNlckNhY2hlIH0gZnJvbSBcIi4vcmVnX2V4cF9wYXJzZXIuanNcIjtcbmV4cG9ydCB2YXIgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlO1xuKGZ1bmN0aW9uIChMZXhlckRlZmluaXRpb25FcnJvclR5cGUpIHtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiTUlTU0lOR19QQVRURVJOXCJdID0gMF0gPSBcIk1JU1NJTkdfUEFUVEVSTlwiO1xuICAgIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtMZXhlckRlZmluaXRpb25FcnJvclR5cGVbXCJJTlZBTElEX1BBVFRFUk5cIl0gPSAxXSA9IFwiSU5WQUxJRF9QQVRURVJOXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIkVPSV9BTkNIT1JfRk9VTkRcIl0gPSAyXSA9IFwiRU9JX0FOQ0hPUl9GT1VORFwiO1xuICAgIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtMZXhlckRlZmluaXRpb25FcnJvclR5cGVbXCJVTlNVUFBPUlRFRF9GTEFHU19GT1VORFwiXSA9IDNdID0gXCJVTlNVUFBPUlRFRF9GTEFHU19GT1VORFwiO1xuICAgIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtMZXhlckRlZmluaXRpb25FcnJvclR5cGVbXCJEVVBMSUNBVEVfUEFUVEVSTlNfRk9VTkRcIl0gPSA0XSA9IFwiRFVQTElDQVRFX1BBVFRFUk5TX0ZPVU5EXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIklOVkFMSURfR1JPVVBfVFlQRV9GT1VORFwiXSA9IDVdID0gXCJJTlZBTElEX0dST1VQX1RZUEVfRk9VTkRcIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiUFVTSF9NT0RFX0RPRVNfTk9UX0VYSVNUXCJdID0gNl0gPSBcIlBVU0hfTU9ERV9ET0VTX05PVF9FWElTVFwiO1xuICAgIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtMZXhlckRlZmluaXRpb25FcnJvclR5cGVbXCJNVUxUSV9NT0RFX0xFWEVSX1dJVEhPVVRfREVGQVVMVF9NT0RFXCJdID0gN10gPSBcIk1VTFRJX01PREVfTEVYRVJfV0lUSE9VVF9ERUZBVUxUX01PREVcIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiTVVMVElfTU9ERV9MRVhFUl9XSVRIT1VUX01PREVTX1BST1BFUlRZXCJdID0gOF0gPSBcIk1VTFRJX01PREVfTEVYRVJfV0lUSE9VVF9NT0RFU19QUk9QRVJUWVwiO1xuICAgIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtMZXhlckRlZmluaXRpb25FcnJvclR5cGVbXCJNVUxUSV9NT0RFX0xFWEVSX0RFRkFVTFRfTU9ERV9WQUxVRV9ET0VTX05PVF9FWElTVFwiXSA9IDldID0gXCJNVUxUSV9NT0RFX0xFWEVSX0RFRkFVTFRfTU9ERV9WQUxVRV9ET0VTX05PVF9FWElTVFwiO1xuICAgIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtMZXhlckRlZmluaXRpb25FcnJvclR5cGVbXCJMRVhFUl9ERUZJTklUSU9OX0NBTk5PVF9DT05UQUlOX1VOREVGSU5FRFwiXSA9IDEwXSA9IFwiTEVYRVJfREVGSU5JVElPTl9DQU5OT1RfQ09OVEFJTl9VTkRFRklORURcIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiU09JX0FOQ0hPUl9GT1VORFwiXSA9IDExXSA9IFwiU09JX0FOQ0hPUl9GT1VORFwiO1xuICAgIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtMZXhlckRlZmluaXRpb25FcnJvclR5cGVbXCJFTVBUWV9NQVRDSF9QQVRURVJOXCJdID0gMTJdID0gXCJFTVBUWV9NQVRDSF9QQVRURVJOXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIk5PX0xJTkVfQlJFQUtTX0ZMQUdTXCJdID0gMTNdID0gXCJOT19MSU5FX0JSRUFLU19GTEFHU1wiO1xuICAgIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtMZXhlckRlZmluaXRpb25FcnJvclR5cGVbXCJVTlJFQUNIQUJMRV9QQVRURVJOXCJdID0gMTRdID0gXCJVTlJFQUNIQUJMRV9QQVRURVJOXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIklERU5USUZZX1RFUk1JTkFUT1JcIl0gPSAxNV0gPSBcIklERU5USUZZX1RFUk1JTkFUT1JcIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiQ1VTVE9NX0xJTkVfQlJFQUtcIl0gPSAxNl0gPSBcIkNVU1RPTV9MSU5FX0JSRUFLXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIk1VTFRJX01PREVfTEVYRVJfTE9OR0VSX0FMVF9OT1RfSU5fQ1VSUkVOVF9NT0RFXCJdID0gMTddID0gXCJNVUxUSV9NT0RFX0xFWEVSX0xPTkdFUl9BTFRfTk9UX0lOX0NVUlJFTlRfTU9ERVwiO1xufSkoTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlIHx8IChMZXhlckRlZmluaXRpb25FcnJvclR5cGUgPSB7fSkpO1xuY29uc3QgREVGQVVMVF9MRVhFUl9DT05GSUcgPSB7XG4gICAgZGVmZXJEZWZpbml0aW9uRXJyb3JzSGFuZGxpbmc6IGZhbHNlLFxuICAgIHBvc2l0aW9uVHJhY2tpbmc6IFwiZnVsbFwiLFxuICAgIGxpbmVUZXJtaW5hdG9yc1BhdHRlcm46IC9cXG58XFxyXFxuPy9nLFxuICAgIGxpbmVUZXJtaW5hdG9yQ2hhcmFjdGVyczogW1wiXFxuXCIsIFwiXFxyXCJdLFxuICAgIGVuc3VyZU9wdGltaXphdGlvbnM6IGZhbHNlLFxuICAgIHNhZmVNb2RlOiBmYWxzZSxcbiAgICBlcnJvck1lc3NhZ2VQcm92aWRlcjogZGVmYXVsdExleGVyRXJyb3JQcm92aWRlcixcbiAgICB0cmFjZUluaXRQZXJmOiBmYWxzZSxcbiAgICBza2lwVmFsaWRhdGlvbnM6IGZhbHNlLFxuICAgIHJlY292ZXJ5RW5hYmxlZDogdHJ1ZSxcbn07XG5PYmplY3QuZnJlZXplKERFRkFVTFRfTEVYRVJfQ09ORklHKTtcbmV4cG9ydCBjbGFzcyBMZXhlciB7XG4gICAgY29uc3RydWN0b3IobGV4ZXJEZWZpbml0aW9uLCBjb25maWcgPSBERUZBVUxUX0xFWEVSX0NPTkZJRykge1xuICAgICAgICB0aGlzLmxleGVyRGVmaW5pdGlvbiA9IGxleGVyRGVmaW5pdGlvbjtcbiAgICAgICAgdGhpcy5sZXhlckRlZmluaXRpb25FcnJvcnMgPSBbXTtcbiAgICAgICAgdGhpcy5sZXhlckRlZmluaXRpb25XYXJuaW5nID0gW107XG4gICAgICAgIHRoaXMucGF0dGVybklkeFRvQ29uZmlnID0ge307XG4gICAgICAgIHRoaXMuY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZyA9IHt9O1xuICAgICAgICB0aGlzLm1vZGVzID0gW107XG4gICAgICAgIHRoaXMuZW1wdHlHcm91cHMgPSB7fTtcbiAgICAgICAgdGhpcy50cmFja1N0YXJ0TGluZXMgPSB0cnVlO1xuICAgICAgICB0aGlzLnRyYWNrRW5kTGluZXMgPSB0cnVlO1xuICAgICAgICB0aGlzLmhhc0N1c3RvbSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNhbk1vZGVCZU9wdGltaXplZCA9IHt9O1xuICAgICAgICAvLyBEdXBsaWNhdGVkIGZyb20gdGhlIHBhcnNlcidzIHBlcmYgdHJhY2UgdHJhaXQgdG8gYWxsb3cgZnV0dXJlIGV4dHJhY3Rpb25cbiAgICAgICAgLy8gb2YgdGhlIGxleGVyIHRvIGEgc2VwYXJhdGUgcGFja2FnZS5cbiAgICAgICAgdGhpcy5UUkFDRV9JTklUID0gKHBoYXNlRGVzYywgcGhhc2VJbXBsKSA9PiB7XG4gICAgICAgICAgICAvLyBObyBuZWVkIHRvIG9wdGltaXplIHRoaXMgdXNpbmcgTk9PUCBwYXR0ZXJuIGJlY2F1c2VcbiAgICAgICAgICAgIC8vIEl0IGlzIG5vdCBjYWxsZWQgaW4gYSBob3Qgc3BvdC4uLlxuICAgICAgICAgICAgaWYgKHRoaXMudHJhY2VJbml0UGVyZiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2VJbml0SW5kZW50Kys7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZW50ID0gbmV3IEFycmF5KHRoaXMudHJhY2VJbml0SW5kZW50ICsgMSkuam9pbihcIlxcdFwiKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFjZUluaXRJbmRlbnQgPCB0aGlzLnRyYWNlSW5pdE1heElkZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke2luZGVudH0tLT4gPCR7cGhhc2VEZXNjfT5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyB0aW1lLCB2YWx1ZSB9ID0gdGltZXIocGhhc2VJbXBsKTtcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAtIERpZmZpY3VsdCB0byByZXByb2R1Y2Ugc3BlY2lmaWMgcGVyZm9ybWFuY2UgYmVoYXZpb3IgKD4xMG1zKSBpbiB0ZXN0cyAqL1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyYWNlTWV0aG9kID0gdGltZSA+IDEwID8gY29uc29sZS53YXJuIDogY29uc29sZS5sb2c7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhY2VJbml0SW5kZW50IDwgdGhpcy50cmFjZUluaXRNYXhJZGVudCkge1xuICAgICAgICAgICAgICAgICAgICB0cmFjZU1ldGhvZChgJHtpbmRlbnR9PC0tIDwke3BoYXNlRGVzY30+IHRpbWU6ICR7dGltZX1tc2ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlSW5pdEluZGVudC0tO1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBwaGFzZUltcGwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHR5cGVvZiBjb25maWcgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIlRoZSBzZWNvbmQgYXJndW1lbnQgdG8gdGhlIExleGVyIGNvbnN0cnVjdG9yIGlzIG5vdyBhbiBJTGV4ZXJDb25maWcgT2JqZWN0LlxcblwiICtcbiAgICAgICAgICAgICAgICBcImEgYm9vbGVhbiAybmQgYXJndW1lbnQgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0b2RvOiBkZWZhdWx0cyBmdW5jP1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGFzc2lnbih7fSwgREVGQVVMVF9MRVhFUl9DT05GSUcsIGNvbmZpZyk7XG4gICAgICAgIGNvbnN0IHRyYWNlSW5pdFZhbCA9IHRoaXMuY29uZmlnLnRyYWNlSW5pdFBlcmY7XG4gICAgICAgIGlmICh0cmFjZUluaXRWYWwgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2VJbml0TWF4SWRlbnQgPSBJbmZpbml0eTtcbiAgICAgICAgICAgIHRoaXMudHJhY2VJbml0UGVyZiA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHRyYWNlSW5pdFZhbCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgdGhpcy50cmFjZUluaXRNYXhJZGVudCA9IHRyYWNlSW5pdFZhbDtcbiAgICAgICAgICAgIHRoaXMudHJhY2VJbml0UGVyZiA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmFjZUluaXRJbmRlbnQgPSAtMTtcbiAgICAgICAgdGhpcy5UUkFDRV9JTklUKFwiTGV4ZXIgQ29uc3RydWN0b3JcIiwgKCkgPT4ge1xuICAgICAgICAgICAgbGV0IGFjdHVhbERlZmluaXRpb247XG4gICAgICAgICAgICBsZXQgaGFzT25seVNpbmdsZU1vZGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5UUkFDRV9JTklUKFwiTGV4ZXIgQ29uZmlnIGhhbmRsaW5nXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWcubGluZVRlcm1pbmF0b3JzUGF0dGVybiA9PT1cbiAgICAgICAgICAgICAgICAgICAgREVGQVVMVF9MRVhFUl9DT05GSUcubGluZVRlcm1pbmF0b3JzUGF0dGVybikge1xuICAgICAgICAgICAgICAgICAgICAvLyBvcHRpbWl6ZWQgYnVpbHQtaW4gaW1wbGVtZW50YXRpb24gZm9yIHRoZSBkZWZhdWx0cyBkZWZpbml0aW9uIG9mIGxpbmVUZXJtaW5hdG9yc1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5saW5lVGVybWluYXRvcnNQYXR0ZXJuID0gTGluZVRlcm1pbmF0b3JPcHRpbWl6ZWRUZXN0ZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWcubGluZVRlcm1pbmF0b3JDaGFyYWN0ZXJzID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgREVGQVVMVF9MRVhFUl9DT05GSUcubGluZVRlcm1pbmF0b3JDaGFyYWN0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIkVycm9yOiBNaXNzaW5nIDxsaW5lVGVybWluYXRvckNoYXJhY3RlcnM+IHByb3BlcnR5IG9uIHRoZSBMZXhlciBjb25maWcuXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXFx0Rm9yIGRldGFpbHMgU2VlOiBodHRwczovL2NoZXZyb3RhaW4uaW8vZG9jcy9ndWlkZS9yZXNvbHZpbmdfbGV4ZXJfZXJyb3JzLmh0bWwjTUlTU0lOR19MSU5FX1RFUk1fQ0hBUlNcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5zYWZlTW9kZSAmJiBjb25maWcuZW5zdXJlT3B0aW1pemF0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignXCJzYWZlTW9kZVwiIGFuZCBcImVuc3VyZU9wdGltaXphdGlvbnNcIiBmbGFncyBhcmUgbXV0dWFsbHkgZXhjbHVzaXZlLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNrU3RhcnRMaW5lcyA9IC9mdWxsfG9ubHlTdGFydC9pLnRlc3QodGhpcy5jb25maWcucG9zaXRpb25UcmFja2luZyk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFja0VuZExpbmVzID0gL2Z1bGwvaS50ZXN0KHRoaXMuY29uZmlnLnBvc2l0aW9uVHJhY2tpbmcpO1xuICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgU2luZ2xlTW9kZUxleGVyRGVmaW5pdGlvbiBpbnRvIGEgSU11bHRpTW9kZUxleGVyRGVmaW5pdGlvbi5cbiAgICAgICAgICAgICAgICBpZiAoaXNBcnJheShsZXhlckRlZmluaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdHVhbERlZmluaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlczogeyBkZWZhdWx0TW9kZTogY2xvbmUobGV4ZXJEZWZpbml0aW9uKSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1vZGU6IERFRkFVTFRfTU9ERSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vIGNvbnZlcnNpb24gbmVlZGVkLCBpbnB1dCBzaG91bGQgYWxyZWFkeSBiZSBhIElNdWx0aU1vZGVMZXhlckRlZmluaXRpb25cbiAgICAgICAgICAgICAgICAgICAgaGFzT25seVNpbmdsZU1vZGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYWN0dWFsRGVmaW5pdGlvbiA9IGNsb25lKGxleGVyRGVmaW5pdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAodGhpcy5jb25maWcuc2tpcFZhbGlkYXRpb25zID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuVFJBQ0VfSU5JVChcInBlcmZvcm1SdW50aW1lQ2hlY2tzXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sZXhlckRlZmluaXRpb25FcnJvcnMgPSB0aGlzLmxleGVyRGVmaW5pdGlvbkVycm9ycy5jb25jYXQocGVyZm9ybVJ1bnRpbWVDaGVja3MoYWN0dWFsRGVmaW5pdGlvbiwgdGhpcy50cmFja1N0YXJ0TGluZXMsIHRoaXMuY29uZmlnLmxpbmVUZXJtaW5hdG9yQ2hhcmFjdGVycykpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuVFJBQ0VfSU5JVChcInBlcmZvcm1XYXJuaW5nUnVudGltZUNoZWNrc1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGV4ZXJEZWZpbml0aW9uV2FybmluZyA9IHRoaXMubGV4ZXJEZWZpbml0aW9uV2FybmluZy5jb25jYXQocGVyZm9ybVdhcm5pbmdSdW50aW1lQ2hlY2tzKGFjdHVhbERlZmluaXRpb24sIHRoaXMudHJhY2tTdGFydExpbmVzLCB0aGlzLmNvbmZpZy5saW5lVGVybWluYXRvckNoYXJhY3RlcnMpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGZvciBleHRyYSByb2J1c3RuZXNzIHRvIGF2b2lkIHRocm93aW5nIGFuIG5vbmUgaW5mb3JtYXRpdmUgZXJyb3IgbWVzc2FnZVxuICAgICAgICAgICAgYWN0dWFsRGVmaW5pdGlvbi5tb2RlcyA9IGFjdHVhbERlZmluaXRpb24ubW9kZXNcbiAgICAgICAgICAgICAgICA/IGFjdHVhbERlZmluaXRpb24ubW9kZXNcbiAgICAgICAgICAgICAgICA6IHt9O1xuICAgICAgICAgICAgLy8gYW4gZXJyb3Igb2YgdW5kZWZpbmVkIFRva2VuVHlwZXMgd2lsbCBiZSBkZXRlY3RlZCBpbiBcInBlcmZvcm1SdW50aW1lQ2hlY2tzXCIgYWJvdmUuXG4gICAgICAgICAgICAvLyB0aGlzIHRyYW5zZm9ybWF0aW9uIGlzIHRvIGluY3JlYXNlIHJvYnVzdG5lc3MgaW4gdGhlIGNhc2Ugb2YgcGFydGlhbGx5IGludmFsaWQgbGV4ZXIgZGVmaW5pdGlvbi5cbiAgICAgICAgICAgIGZvckVhY2goYWN0dWFsRGVmaW5pdGlvbi5tb2RlcywgKGN1cnJNb2RlVmFsdWUsIGN1cnJNb2RlTmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgIGFjdHVhbERlZmluaXRpb24ubW9kZXNbY3Vyck1vZGVOYW1lXSA9IHJlamVjdChjdXJyTW9kZVZhbHVlLCAoY3VyclRva1R5cGUpID0+IGlzVW5kZWZpbmVkKGN1cnJUb2tUeXBlKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGFsbE1vZGVOYW1lcyA9IGtleXMoYWN0dWFsRGVmaW5pdGlvbi5tb2Rlcyk7XG4gICAgICAgICAgICBmb3JFYWNoKGFjdHVhbERlZmluaXRpb24ubW9kZXMsIChjdXJyTW9kRGVmLCBjdXJyTW9kTmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuVFJBQ0VfSU5JVChgTW9kZTogPCR7Y3Vyck1vZE5hbWV9PiBwcm9jZXNzaW5nYCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVzLnB1c2goY3Vyck1vZE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWcuc2tpcFZhbGlkYXRpb25zID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5UUkFDRV9JTklUKGB2YWxpZGF0ZVBhdHRlcm5zYCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGV4ZXJEZWZpbml0aW9uRXJyb3JzID0gdGhpcy5sZXhlckRlZmluaXRpb25FcnJvcnMuY29uY2F0KHZhbGlkYXRlUGF0dGVybnMoY3Vyck1vZERlZiwgYWxsTW9kZU5hbWVzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBkZWZpbml0aW9uIGVycm9ycyB3ZXJlIGVuY291bnRlcmVkLCB0aGUgYW5hbHlzaXMgcGhhc2UgbWF5IGZhaWwgdW5leHBlY3RlZGx5L1xuICAgICAgICAgICAgICAgICAgICAvLyBDb25zaWRlcmluZyBhIGxleGVyIHdpdGggZGVmaW5pdGlvbiBlcnJvcnMgbWF5IG5ldmVyIGJlIHVzZWQsIHRoZXJlIGlzIG5vIHBvaW50XG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIHBlcmZvcm1pbmcgdGhlIGFuYWx5c2lzIGFueWhvdy4uLlxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNFbXB0eSh0aGlzLmxleGVyRGVmaW5pdGlvbkVycm9ycykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1Z21lbnRUb2tlblR5cGVzKGN1cnJNb2REZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJBbmFseXplUmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5UUkFDRV9JTklUKGBhbmFseXplVG9rZW5UeXBlc2AsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyQW5hbHl6ZVJlc3VsdCA9IGFuYWx5emVUb2tlblR5cGVzKGN1cnJNb2REZWYsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZVRlcm1pbmF0b3JDaGFyYWN0ZXJzOiB0aGlzLmNvbmZpZy5saW5lVGVybWluYXRvckNoYXJhY3RlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uVHJhY2tpbmc6IGNvbmZpZy5wb3NpdGlvblRyYWNraW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnN1cmVPcHRpbWl6YXRpb25zOiBjb25maWcuZW5zdXJlT3B0aW1pemF0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FmZU1vZGU6IGNvbmZpZy5zYWZlTW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2VyOiB0aGlzLlRSQUNFX0lOSVQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGF0dGVybklkeFRvQ29uZmlnW2N1cnJNb2ROYW1lXSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyckFuYWx5emVSZXN1bHQucGF0dGVybklkeFRvQ29uZmlnO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyQ29kZVRvUGF0dGVybklkeFRvQ29uZmlnW2N1cnJNb2ROYW1lXSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyckFuYWx5emVSZXN1bHQuY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1wdHlHcm91cHMgPSBhc3NpZ24oe30sIHRoaXMuZW1wdHlHcm91cHMsIGN1cnJBbmFseXplUmVzdWx0LmVtcHR5R3JvdXBzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzQ3VzdG9tID0gY3VyckFuYWx5emVSZXN1bHQuaGFzQ3VzdG9tIHx8IHRoaXMuaGFzQ3VzdG9tO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5Nb2RlQmVPcHRpbWl6ZWRbY3Vyck1vZE5hbWVdID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyQW5hbHl6ZVJlc3VsdC5jYW5CZU9wdGltaXplZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRNb2RlID0gYWN0dWFsRGVmaW5pdGlvbi5kZWZhdWx0TW9kZTtcbiAgICAgICAgICAgIGlmICghaXNFbXB0eSh0aGlzLmxleGVyRGVmaW5pdGlvbkVycm9ycykgJiZcbiAgICAgICAgICAgICAgICAhdGhpcy5jb25maWcuZGVmZXJEZWZpbml0aW9uRXJyb3JzSGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhbGxFcnJNZXNzYWdlcyA9IG1hcCh0aGlzLmxleGVyRGVmaW5pdGlvbkVycm9ycywgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5tZXNzYWdlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsbEVyck1lc3NhZ2VzU3RyaW5nID0gYWxsRXJyTWVzc2FnZXMuam9pbihcIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxuXCIpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9ycyBkZXRlY3RlZCBpbiBkZWZpbml0aW9uIG9mIExleGVyOlxcblwiICsgYWxsRXJyTWVzc2FnZXNTdHJpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gT25seSBwcmludCB3YXJuaW5nIGlmIHRoZXJlIGFyZSBubyBlcnJvcnMsIFRoaXMgd2lsbCBhdm9pZCBwbFxuICAgICAgICAgICAgZm9yRWFjaCh0aGlzLmxleGVyRGVmaW5pdGlvbldhcm5pbmcsICh3YXJuaW5nRGVzY3JpcHRvcikgPT4ge1xuICAgICAgICAgICAgICAgIFBSSU5UX1dBUk5JTkcod2FybmluZ0Rlc2NyaXB0b3IubWVzc2FnZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuVFJBQ0VfSU5JVChcIkNob29zaW5nIHN1Yi1tZXRob2RzIGltcGxlbWVudGF0aW9uc1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gQ2hvb3NlIHRoZSByZWxldmFudCBpbnRlcm5hbCBpbXBsZW1lbnRhdGlvbnMgZm9yIHRoaXMgc3BlY2lmaWMgcGFyc2VyLlxuICAgICAgICAgICAgICAgIC8vIFRoZXNlIGltcGxlbWVudGF0aW9ucyBzaG91bGQgYmUgaW4tbGluZWQgYnkgdGhlIEphdmFTY3JpcHQgZW5naW5lXG4gICAgICAgICAgICAgICAgLy8gdG8gcHJvdmlkZSBvcHRpbWFsIHBlcmZvcm1hbmNlIGluIGVhY2ggc2NlbmFyaW8uXG4gICAgICAgICAgICAgICAgaWYgKFNVUFBPUlRfU1RJQ0tZKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hvcElucHV0ID0gaWRlbnRpdHk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWF0Y2ggPSB0aGlzLm1hdGNoV2l0aFRlc3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxhc3RJbmRleCA9IG5vb3A7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWF0Y2ggPSB0aGlzLm1hdGNoV2l0aEV4ZWM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChoYXNPbmx5U2luZ2xlTW9kZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU1vZGVzID0gbm9vcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhY2tTdGFydExpbmVzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXB1dGVOZXdDb2x1bW4gPSBpZGVudGl0eTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhY2tFbmRMaW5lcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUb2tlbkVuZExpbmVDb2x1bW5Mb2NhdGlvbiA9IG5vb3A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgvZnVsbC9pLnRlc3QodGhpcy5jb25maWcucG9zaXRpb25UcmFja2luZykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVUb2tlbkluc3RhbmNlID0gdGhpcy5jcmVhdGVGdWxsVG9rZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKC9vbmx5U3RhcnQvaS50ZXN0KHRoaXMuY29uZmlnLnBvc2l0aW9uVHJhY2tpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlVG9rZW5JbnN0YW5jZSA9IHRoaXMuY3JlYXRlU3RhcnRPbmx5VG9rZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKC9vbmx5T2Zmc2V0L2kudGVzdCh0aGlzLmNvbmZpZy5wb3NpdGlvblRyYWNraW5nKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVRva2VuSW5zdGFuY2UgPSB0aGlzLmNyZWF0ZU9mZnNldE9ubHlUb2tlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBJbnZhbGlkIDxwb3NpdGlvblRyYWNraW5nPiBjb25maWcgb3B0aW9uOiBcIiR7dGhpcy5jb25maWcucG9zaXRpb25UcmFja2luZ31cImApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNDdXN0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRUb2tlbiA9IHRoaXMuYWRkVG9rZW5Vc2luZ1B1c2g7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlUGF5bG9hZCA9IHRoaXMuaGFuZGxlUGF5bG9hZFdpdGhDdXN0b207XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFRva2VuID0gdGhpcy5hZGRUb2tlblVzaW5nTWVtYmVyQWNjZXNzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVBheWxvYWQgPSB0aGlzLmhhbmRsZVBheWxvYWROb0N1c3RvbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuVFJBQ0VfSU5JVChcIkZhaWxlZCBPcHRpbWl6YXRpb24gV2FybmluZ3NcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVuT3B0aW1pemVkTW9kZXMgPSByZWR1Y2UodGhpcy5jYW5Nb2RlQmVPcHRpbWl6ZWQsIChjYW5ub3RCZU9wdGltaXplZCwgY2FuQmVPcHRpbWl6ZWQsIG1vZGVOYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW5CZU9wdGltaXplZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbm5vdEJlT3B0aW1pemVkLnB1c2gobW9kZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYW5ub3RCZU9wdGltaXplZDtcbiAgICAgICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5lbnN1cmVPcHRpbWl6YXRpb25zICYmICFpc0VtcHR5KHVuT3B0aW1pemVkTW9kZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBMZXhlciBNb2RlczogPCAke3VuT3B0aW1pemVkTW9kZXMuam9pbihcIiwgXCIpfSA+IGNhbm5vdCBiZSBvcHRpbWl6ZWQuXFxuYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0IERpc2FibGUgdGhlIFwiZW5zdXJlT3B0aW1pemF0aW9uc1wiIGxleGVyIGNvbmZpZyBmbGFnIHRvIHNpbGVudGx5IGlnbm9yZSB0aGlzIGFuZCBydW4gdGhlIGxleGVyIGluIGFuIHVuLW9wdGltaXplZCBtb2RlLlxcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJcXHQgT3IgaW5zcGVjdCB0aGUgY29uc29sZSBsb2cgZm9yIGRldGFpbHMgb24gaG93IHRvIHJlc29sdmUgdGhlc2UgaXNzdWVzLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuVFJBQ0VfSU5JVChcImNsZWFyUmVnRXhwUGFyc2VyQ2FjaGVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNsZWFyUmVnRXhwUGFyc2VyQ2FjaGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5UUkFDRV9JTklUKFwidG9GYXN0UHJvcGVydGllc1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdG9GYXN0UHJvcGVydGllcyh0aGlzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdG9rZW5pemUodGV4dCwgaW5pdGlhbE1vZGUgPSB0aGlzLmRlZmF1bHRNb2RlKSB7XG4gICAgICAgIGlmICghaXNFbXB0eSh0aGlzLmxleGVyRGVmaW5pdGlvbkVycm9ycykpIHtcbiAgICAgICAgICAgIGNvbnN0IGFsbEVyck1lc3NhZ2VzID0gbWFwKHRoaXMubGV4ZXJEZWZpbml0aW9uRXJyb3JzLCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubWVzc2FnZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgYWxsRXJyTWVzc2FnZXNTdHJpbmcgPSBhbGxFcnJNZXNzYWdlcy5qb2luKFwiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG5cIik7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gVG9rZW5pemUgYmVjYXVzZSBFcnJvcnMgZGV0ZWN0ZWQgaW4gZGVmaW5pdGlvbiBvZiBMZXhlcjpcXG5cIiArXG4gICAgICAgICAgICAgICAgYWxsRXJyTWVzc2FnZXNTdHJpbmcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnRva2VuaXplSW50ZXJuYWwodGV4dCwgaW5pdGlhbE1vZGUpO1xuICAgIH1cbiAgICAvLyBUaGVyZSBpcyBxdWl0ZSBhIGJpdCBvZiBkdXBsaWNhdGlvbiBiZXR3ZWVuIHRoaXMgYW5kIFwidG9rZW5pemVJbnRlcm5hbExhenlcIlxuICAgIC8vIFRoaXMgaXMgaW50ZW50aW9uYWwgZHVlIHRvIHBlcmZvcm1hbmNlIGNvbnNpZGVyYXRpb25zLlxuICAgIC8vIHRoaXMgbWV0aG9kIGFsc28gdXNlZCBxdWl0ZSBhIGJpdCBvZiBgIWAgbm9uZSBudWxsIGFzc2VydGlvbnMgYmVjYXVzZSBpdCBpcyB0b28gb3B0aW1pemVkXG4gICAgLy8gZm9yIGB0c2NgIHRvIGFsd2F5cyB1bmRlcnN0YW5kIGl0IGlzIFwic2FmZVwiXG4gICAgdG9rZW5pemVJbnRlcm5hbCh0ZXh0LCBpbml0aWFsTW9kZSkge1xuICAgICAgICBsZXQgaSwgaiwgaywgbWF0Y2hBbHRJbWFnZSwgbG9uZ2VyQWx0LCBtYXRjaGVkSW1hZ2UsIHBheWxvYWQsIGFsdFBheWxvYWQsIGltYWdlTGVuZ3RoLCBncm91cCwgdG9rVHlwZSwgbmV3VG9rZW4sIGVyckxlbmd0aCwgZHJvcHBlZENoYXIsIG1zZywgbWF0Y2g7XG4gICAgICAgIGNvbnN0IG9yZ1RleHQgPSB0ZXh0O1xuICAgICAgICBjb25zdCBvcmdMZW5ndGggPSBvcmdUZXh0Lmxlbmd0aDtcbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICAgIGxldCBtYXRjaGVkVG9rZW5zSW5kZXggPSAwO1xuICAgICAgICAvLyBpbml0aWFsaXppbmcgdGhlIHRva2Vuc0FycmF5IHRvIHRoZSBcImd1ZXNzZWRcIiBzaXplLlxuICAgICAgICAvLyBndWVzc2luZyB0b28gbGl0dGxlIHdpbGwgc3RpbGwgcmVkdWNlIHRoZSBudW1iZXIgb2YgYXJyYXkgcmUtc2l6ZXMgb24gcHVzaGVzLlxuICAgICAgICAvLyBndWVzc2luZyB0b28gbGFyZ2UgKFRlc3RlZCBieSBndWVzc2luZyB4NCB0b28gbGFyZ2UpIG1heSBjb3N0IGEgYml0IG1vcmUgb2YgbWVtb3J5XG4gICAgICAgIC8vIGJ1dCB3b3VsZCBzdGlsbCBoYXZlIGEgZmFzdGVyIHJ1bnRpbWUgYnkgYXZvaWRpbmcgKEFsbCBidXQgb25lKSBhcnJheSByZXNpemluZy5cbiAgICAgICAgY29uc3QgZ3Vlc3NlZE51bWJlck9mVG9rZW5zID0gdGhpcy5oYXNDdXN0b21cbiAgICAgICAgICAgID8gMCAvLyB3aWxsIGJyZWFrIGN1c3RvbSB0b2tlbiBwYXR0ZXJuIEFQSXMgdGhlIG1hdGNoZWRUb2tlbnMgYXJyYXkgd2lsbCBjb250YWluIHVuZGVmaW5lZCBlbGVtZW50cy5cbiAgICAgICAgICAgIDogTWF0aC5mbG9vcih0ZXh0Lmxlbmd0aCAvIDEwKTtcbiAgICAgICAgY29uc3QgbWF0Y2hlZFRva2VucyA9IG5ldyBBcnJheShndWVzc2VkTnVtYmVyT2ZUb2tlbnMpO1xuICAgICAgICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgICAgICAgbGV0IGxpbmUgPSB0aGlzLnRyYWNrU3RhcnRMaW5lcyA/IDEgOiB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBjb2x1bW4gPSB0aGlzLnRyYWNrU3RhcnRMaW5lcyA/IDEgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IGdyb3VwcyA9IGNsb25lRW1wdHlHcm91cHModGhpcy5lbXB0eUdyb3Vwcyk7XG4gICAgICAgIGNvbnN0IHRyYWNrTGluZXMgPSB0aGlzLnRyYWNrU3RhcnRMaW5lcztcbiAgICAgICAgY29uc3QgbGluZVRlcm1pbmF0b3JQYXR0ZXJuID0gdGhpcy5jb25maWcubGluZVRlcm1pbmF0b3JzUGF0dGVybjtcbiAgICAgICAgbGV0IGN1cnJNb2RlUGF0dGVybnNMZW5ndGggPSAwO1xuICAgICAgICBsZXQgcGF0dGVybklkeFRvQ29uZmlnID0gW107XG4gICAgICAgIGxldCBjdXJyQ2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZyA9IFtdO1xuICAgICAgICBjb25zdCBtb2RlU3RhY2sgPSBbXTtcbiAgICAgICAgY29uc3QgZW1wdHlBcnJheSA9IFtdO1xuICAgICAgICBPYmplY3QuZnJlZXplKGVtcHR5QXJyYXkpO1xuICAgICAgICBsZXQgZ2V0UG9zc2libGVQYXR0ZXJucztcbiAgICAgICAgZnVuY3Rpb24gZ2V0UG9zc2libGVQYXR0ZXJuc1Nsb3coKSB7XG4gICAgICAgICAgICByZXR1cm4gcGF0dGVybklkeFRvQ29uZmlnO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGdldFBvc3NpYmxlUGF0dGVybnNPcHRpbWl6ZWQoY2hhckNvZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGltaXplZENoYXJJZHggPSBjaGFyQ29kZVRvT3B0aW1pemVkSW5kZXgoY2hhckNvZGUpO1xuICAgICAgICAgICAgY29uc3QgcG9zc2libGVQYXR0ZXJucyA9IGN1cnJDaGFyQ29kZVRvUGF0dGVybklkeFRvQ29uZmlnW29wdGltaXplZENoYXJJZHhdO1xuICAgICAgICAgICAgaWYgKHBvc3NpYmxlUGF0dGVybnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eUFycmF5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvc3NpYmxlUGF0dGVybnM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcG9wX21vZGUgPSAocG9wVG9rZW4pID0+IHtcbiAgICAgICAgICAgIC8vIFRPRE86IHBlcmhhcHMgYXZvaWQgdGhpcyBlcnJvciBpbiB0aGUgZWRnZSBjYXNlIHRoZXJlIGlzIG5vIG1vcmUgaW5wdXQ/XG4gICAgICAgICAgICBpZiAobW9kZVN0YWNrLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICAgICAgICAgIC8vIGlmIHdlIGhhdmUgYm90aCBhIFBPUF9NT0RFIGFuZCBhIFBVU0hfTU9ERSB0aGlzIGlzIGluLWZhY3QgYSBcInRyYW5zaXRpb25cIlxuICAgICAgICAgICAgICAgIC8vIFNvIG5vIGVycm9yIHNob3VsZCBvY2N1ci5cbiAgICAgICAgICAgICAgICBwb3BUb2tlbi50b2tlblR5cGUuUFVTSF9NT0RFID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSB0cnkgdG8gcG9wIHRoZSBsYXN0IG1vZGUgdGhlcmUgbGV4ZXIgd2lsbCBubyBsb25nZXIgaGF2ZSBBTlkgbW9kZS5cbiAgICAgICAgICAgICAgICAvLyB0aHVzIHRoZSBwb3AgaXMgaWdub3JlZCwgYW4gZXJyb3Igd2lsbCBiZSBjcmVhdGVkIGFuZCB0aGUgbGV4ZXIgd2lsbCBjb250aW51ZSBwYXJzaW5nIGluIHRoZSBwcmV2aW91cyBtb2RlLlxuICAgICAgICAgICAgICAgIGNvbnN0IG1zZyA9IHRoaXMuY29uZmlnLmVycm9yTWVzc2FnZVByb3ZpZGVyLmJ1aWxkVW5hYmxlVG9Qb3BMZXhlck1vZGVNZXNzYWdlKHBvcFRva2VuKTtcbiAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDogcG9wVG9rZW4uc3RhcnRPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgIGxpbmU6IHBvcFRva2VuLnN0YXJ0TGluZSxcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiBwb3BUb2tlbi5zdGFydENvbHVtbixcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoOiBwb3BUb2tlbi5pbWFnZS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1zZyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vZGVTdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdNb2RlID0gbGFzdChtb2RlU3RhY2spO1xuICAgICAgICAgICAgICAgIHBhdHRlcm5JZHhUb0NvbmZpZyA9IHRoaXMucGF0dGVybklkeFRvQ29uZmlnW25ld01vZGVdO1xuICAgICAgICAgICAgICAgIGN1cnJDaGFyQ29kZVRvUGF0dGVybklkeFRvQ29uZmlnID1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyQ29kZVRvUGF0dGVybklkeFRvQ29uZmlnW25ld01vZGVdO1xuICAgICAgICAgICAgICAgIGN1cnJNb2RlUGF0dGVybnNMZW5ndGggPSBwYXR0ZXJuSWR4VG9Db25maWcubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGVDYW5CZU9wdGltaXplZCA9IHRoaXMuY2FuTW9kZUJlT3B0aW1pemVkW25ld01vZGVdICYmIHRoaXMuY29uZmlnLnNhZmVNb2RlID09PSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoY3VyckNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWcgJiYgbW9kZUNhbkJlT3B0aW1pemVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGdldFBvc3NpYmxlUGF0dGVybnMgPSBnZXRQb3NzaWJsZVBhdHRlcm5zT3B0aW1pemVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0UG9zc2libGVQYXR0ZXJucyA9IGdldFBvc3NpYmxlUGF0dGVybnNTbG93O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gcHVzaF9tb2RlKG5ld01vZGUpIHtcbiAgICAgICAgICAgIG1vZGVTdGFjay5wdXNoKG5ld01vZGUpO1xuICAgICAgICAgICAgY3VyckNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWcgPVxuICAgICAgICAgICAgICAgIHRoaXMuY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZ1tuZXdNb2RlXTtcbiAgICAgICAgICAgIHBhdHRlcm5JZHhUb0NvbmZpZyA9IHRoaXMucGF0dGVybklkeFRvQ29uZmlnW25ld01vZGVdO1xuICAgICAgICAgICAgY3Vyck1vZGVQYXR0ZXJuc0xlbmd0aCA9IHBhdHRlcm5JZHhUb0NvbmZpZy5sZW5ndGg7XG4gICAgICAgICAgICBjdXJyTW9kZVBhdHRlcm5zTGVuZ3RoID0gcGF0dGVybklkeFRvQ29uZmlnLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IG1vZGVDYW5CZU9wdGltaXplZCA9IHRoaXMuY2FuTW9kZUJlT3B0aW1pemVkW25ld01vZGVdICYmIHRoaXMuY29uZmlnLnNhZmVNb2RlID09PSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChjdXJyQ2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZyAmJiBtb2RlQ2FuQmVPcHRpbWl6ZWQpIHtcbiAgICAgICAgICAgICAgICBnZXRQb3NzaWJsZVBhdHRlcm5zID0gZ2V0UG9zc2libGVQYXR0ZXJuc09wdGltaXplZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdldFBvc3NpYmxlUGF0dGVybnMgPSBnZXRQb3NzaWJsZVBhdHRlcm5zU2xvdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB0aGlzIHBhdHRlcm4gc2VlbXMgdG8gYXZvaWQgYSBWOCBkZS1vcHRpbWl6YXRpb24sIGFsdGhvdWdoIHRoYXQgZGUtb3B0aW1pemF0aW9uIGRvZXMgbm90XG4gICAgICAgIC8vIHNlZW0gdG8gbWF0dGVyIHBlcmZvcm1hbmNlIHdpc2UuXG4gICAgICAgIHB1c2hfbW9kZS5jYWxsKHRoaXMsIGluaXRpYWxNb2RlKTtcbiAgICAgICAgbGV0IGN1cnJDb25maWc7XG4gICAgICAgIGNvbnN0IHJlY292ZXJ5RW5hYmxlZCA9IHRoaXMuY29uZmlnLnJlY292ZXJ5RW5hYmxlZDtcbiAgICAgICAgd2hpbGUgKG9mZnNldCA8IG9yZ0xlbmd0aCkge1xuICAgICAgICAgICAgbWF0Y2hlZEltYWdlID0gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IG5leHRDaGFyQ29kZSA9IG9yZ1RleHQuY2hhckNvZGVBdChvZmZzZXQpO1xuICAgICAgICAgICAgY29uc3QgY2hvc2VuUGF0dGVybklkeFRvQ29uZmlnID0gZ2V0UG9zc2libGVQYXR0ZXJucyhuZXh0Q2hhckNvZGUpO1xuICAgICAgICAgICAgY29uc3QgY2hvc2VuUGF0dGVybnNMZW5ndGggPSBjaG9zZW5QYXR0ZXJuSWR4VG9Db25maWcubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGNob3NlblBhdHRlcm5zTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjdXJyQ29uZmlnID0gY2hvc2VuUGF0dGVybklkeFRvQ29uZmlnW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJQYXR0ZXJuID0gY3VyckNvbmZpZy5wYXR0ZXJuO1xuICAgICAgICAgICAgICAgIHBheWxvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIC8vIG1hbnVhbGx5IGluLWxpbmVkIGJlY2F1c2UgPiA2MDAgY2hhcnMgd29uJ3QgYmUgaW4tbGluZWQgaW4gVjhcbiAgICAgICAgICAgICAgICBjb25zdCBzaW5nbGVDaGFyQ29kZSA9IGN1cnJDb25maWcuc2hvcnQ7XG4gICAgICAgICAgICAgICAgaWYgKHNpbmdsZUNoYXJDb2RlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dENoYXJDb2RlID09PSBzaW5nbGVDaGFyQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2luZ2xlIGNoYXJhY3RlciBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWRJbWFnZSA9IGN1cnJQYXR0ZXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJDb25maWcuaXNDdXN0b20gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBjdXJyUGF0dGVybi5leGVjKG9yZ1RleHQsIG9mZnNldCwgbWF0Y2hlZFRva2VucywgZ3JvdXBzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkSW1hZ2UgPSBtYXRjaFswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaC5wYXlsb2FkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkID0gbWF0Y2gucGF5bG9hZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWRJbWFnZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTGFzdEluZGV4KGN1cnJQYXR0ZXJuLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICBtYXRjaGVkSW1hZ2UgPSB0aGlzLm1hdGNoKGN1cnJQYXR0ZXJuLCB0ZXh0LCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlZEltYWdlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV2ZW4gdGhvdWdoIHRoaXMgcGF0dGVybiBtYXRjaGVkIHdlIG11c3QgdHJ5IGEgYW5vdGhlciBsb25nZXIgYWx0ZXJuYXRpdmUuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgY2FuIGJlIHVzZWQgdG8gcHJpb3JpdGl6ZSBrZXl3b3JkcyBvdmVyIGlkZW50aWZpZXJzXG4gICAgICAgICAgICAgICAgICAgIGxvbmdlckFsdCA9IGN1cnJDb25maWcubG9uZ2VyQWx0O1xuICAgICAgICAgICAgICAgICAgICBpZiAobG9uZ2VyQWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IG1pY3JvIG9wdGltaXplLCBhdm9pZCBleHRyYSBwcm9wIGFjY2Vzc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnkgc2F2aW5nL2xpbmtpbmcgbG9uZ2VyQWx0IG9uIHRoZSBvcmlnaW5hbCBjb25maWc/XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsb25nZXJBbHRMZW5ndGggPSBsb25nZXJBbHQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IGxvbmdlckFsdExlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9uZ2VyQWx0Q29uZmlnID0gcGF0dGVybklkeFRvQ29uZmlnW2xvbmdlckFsdFtrXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9uZ2VyQWx0UGF0dGVybiA9IGxvbmdlckFsdENvbmZpZy5wYXR0ZXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdFBheWxvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNpbmdsZSBDaGFyIGNhbiBuZXZlciBiZSBhIGxvbmdlciBhbHQgc28gbm8gbmVlZCB0byB0ZXN0IGl0LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1hbnVhbGx5IGluLWxpbmVkIGJlY2F1c2UgPiA2MDAgY2hhcnMgd29uJ3QgYmUgaW4tbGluZWQgaW4gVjhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobG9uZ2VyQWx0Q29uZmlnLmlzQ3VzdG9tID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoID0gbG9uZ2VyQWx0UGF0dGVybi5leGVjKG9yZ1RleHQsIG9mZnNldCwgbWF0Y2hlZFRva2VucywgZ3JvdXBzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEFsdEltYWdlID0gbWF0Y2hbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2gucGF5bG9hZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0UGF5bG9hZCA9IG1hdGNoLnBheWxvYWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEFsdEltYWdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVMYXN0SW5kZXgobG9uZ2VyQWx0UGF0dGVybiwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hBbHRJbWFnZSA9IHRoaXMubWF0Y2gobG9uZ2VyQWx0UGF0dGVybiwgdGV4dCwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoQWx0SW1hZ2UgJiYgbWF0Y2hBbHRJbWFnZS5sZW5ndGggPiBtYXRjaGVkSW1hZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWRJbWFnZSA9IG1hdGNoQWx0SW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQgPSBhbHRQYXlsb2FkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyQ29uZmlnID0gbG9uZ2VyQWx0Q29uZmlnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFeGl0IHRoZSBsb29wIGVhcmx5IGFmdGVyIG1hdGNoaW5nIG9uZSBvZiB0aGUgbG9uZ2VyIGFsdGVybmF0aXZlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZmlyc3QgbWF0Y2hlZCBhbHRlcm5hdGl2ZSB0YWtlcyBwcmVjZWRlbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBzdWNjZXNzZnVsIG1hdGNoXG4gICAgICAgICAgICBpZiAobWF0Y2hlZEltYWdlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaW1hZ2VMZW5ndGggPSBtYXRjaGVkSW1hZ2UubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGdyb3VwID0gY3VyckNvbmZpZy5ncm91cDtcbiAgICAgICAgICAgICAgICBpZiAoZ3JvdXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0b2tUeXBlID0gY3VyckNvbmZpZy50b2tlblR5cGVJZHg7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IFwib2Zmc2V0ICsgaW1hZ2VMZW5ndGhcIiBhbmQgdGhlIG5ldyBjb2x1bW4gbWF5IGJlIGNvbXB1dGVkIHR3aWNlIGluIGNhc2Ugb2YgXCJmdWxsXCIgbG9jYXRpb24gaW5mb3JtYXRpb24gaW5zaWRlXG4gICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZUZ1bGxUb2tlbiBtZXRob2RcbiAgICAgICAgICAgICAgICAgICAgbmV3VG9rZW4gPSB0aGlzLmNyZWF0ZVRva2VuSW5zdGFuY2UobWF0Y2hlZEltYWdlLCBvZmZzZXQsIHRva1R5cGUsIGN1cnJDb25maWcudG9rZW5UeXBlLCBsaW5lLCBjb2x1bW4sIGltYWdlTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVQYXlsb2FkKG5ld1Rva2VuLCBwYXlsb2FkKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogb3B0aW1pemUgTk9PUCBpbiBjYXNlIHRoZXJlIGFyZSBubyBzcGVjaWFsIGdyb3Vwcz9cbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyb3VwID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZFRva2Vuc0luZGV4ID0gdGhpcy5hZGRUb2tlbihtYXRjaGVkVG9rZW5zLCBtYXRjaGVkVG9rZW5zSW5kZXgsIG5ld1Rva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3Vwc1tncm91cF0ucHVzaChuZXdUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGV4dCA9IHRoaXMuY2hvcElucHV0KHRleHQsIGltYWdlTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBvZmZzZXQgKyBpbWFnZUxlbmd0aDtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiB3aXRoIG5ld2xpbmVzIHRoZSBjb2x1bW4gbWF5IGJlIGFzc2lnbmVkIHR3aWNlXG4gICAgICAgICAgICAgICAgY29sdW1uID0gdGhpcy5jb21wdXRlTmV3Q29sdW1uKGNvbHVtbiwgaW1hZ2VMZW5ndGgpO1xuICAgICAgICAgICAgICAgIGlmICh0cmFja0xpbmVzID09PSB0cnVlICYmIGN1cnJDb25maWcuY2FuTGluZVRlcm1pbmF0b3IgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG51bU9mTFRzSW5NYXRjaCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmb3VuZFRlcm1pbmF0b3I7XG4gICAgICAgICAgICAgICAgICAgIGxldCBsYXN0TFRFbmRPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVUZXJtaW5hdG9yUGF0dGVybi5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZFRlcm1pbmF0b3IgPSBsaW5lVGVybWluYXRvclBhdHRlcm4udGVzdChtYXRjaGVkSW1hZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kVGVybWluYXRvciA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RMVEVuZE9mZnNldCA9IGxpbmVUZXJtaW5hdG9yUGF0dGVybi5sYXN0SW5kZXggLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bU9mTFRzSW5NYXRjaCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IHdoaWxlIChmb3VuZFRlcm1pbmF0b3IgPT09IHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobnVtT2ZMVHNJbk1hdGNoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lID0gbGluZSArIG51bU9mTFRzSW5NYXRjaDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IGltYWdlTGVuZ3RoIC0gbGFzdExURW5kT2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUb2tlbkVuZExpbmVDb2x1bW5Mb2NhdGlvbihuZXdUb2tlbiwgZ3JvdXAsIGxhc3RMVEVuZE9mZnNldCwgbnVtT2ZMVHNJbk1hdGNoLCBsaW5lLCBjb2x1bW4sIGltYWdlTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB3aWxsIGJlIE5PT1AgaWYgbm8gbW9kZXMgcHJlc2VudFxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTW9kZXMoY3VyckNvbmZpZywgcG9wX21vZGUsIHB1c2hfbW9kZSwgbmV3VG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZXJyb3IgcmVjb3ZlcnksIGRyb3AgY2hhcmFjdGVycyB1bnRpbCB3ZSBpZGVudGlmeSBhIHZhbGlkIHRva2VuJ3Mgc3RhcnQgcG9pbnRcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvclN0YXJ0T2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yTGluZSA9IGxpbmU7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JDb2x1bW4gPSBjb2x1bW47XG4gICAgICAgICAgICAgICAgbGV0IGZvdW5kUmVzeW5jUG9pbnQgPSByZWNvdmVyeUVuYWJsZWQgPT09IGZhbHNlO1xuICAgICAgICAgICAgICAgIHdoaWxlIChmb3VuZFJlc3luY1BvaW50ID09PSBmYWxzZSAmJiBvZmZzZXQgPCBvcmdMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWRlbnRpdHkgRnVuYyAod2hlbiBzdGlja3kgZmxhZyBpcyBlbmFibGVkKVxuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdGhpcy5jaG9wSW5wdXQodGV4dCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCsrO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgY3Vyck1vZGVQYXR0ZXJuc0xlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyQ29uZmlnID0gcGF0dGVybklkeFRvQ29uZmlnW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VyclBhdHRlcm4gPSBjdXJyQ29uZmlnLnBhdHRlcm47XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtYW51YWxseSBpbi1saW5lZCBiZWNhdXNlID4gNjAwIGNoYXJzIHdvbid0IGJlIGluLWxpbmVkIGluIFY4XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaW5nbGVDaGFyQ29kZSA9IGN1cnJDb25maWcuc2hvcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2luZ2xlQ2hhckNvZGUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9yZ1RleHQuY2hhckNvZGVBdChvZmZzZXQpID09PSBzaW5nbGVDaGFyQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaW5nbGUgY2hhcmFjdGVyIHN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3VuZFJlc3luY1BvaW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjdXJyQ29uZmlnLmlzQ3VzdG9tID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRSZXN5bmNQb2ludCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJQYXR0ZXJuLmV4ZWMob3JnVGV4dCwgb2Zmc2V0LCBtYXRjaGVkVG9rZW5zLCBncm91cHMpICE9PSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVMYXN0SW5kZXgoY3VyclBhdHRlcm4sIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRSZXN5bmNQb2ludCA9IGN1cnJQYXR0ZXJuLmV4ZWModGV4dCkgIT09IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm91bmRSZXN5bmNQb2ludCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVyckxlbmd0aCA9IG9mZnNldCAtIGVycm9yU3RhcnRPZmZzZXQ7XG4gICAgICAgICAgICAgICAgY29sdW1uID0gdGhpcy5jb21wdXRlTmV3Q29sdW1uKGNvbHVtbiwgZXJyTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAvLyBhdCB0aGlzIHBvaW50IHdlIGVpdGhlciByZS1zeW5jZWQgb3IgcmVhY2hlZCB0aGUgZW5kIG9mIHRoZSBpbnB1dCB0ZXh0XG4gICAgICAgICAgICAgICAgbXNnID0gdGhpcy5jb25maWcuZXJyb3JNZXNzYWdlUHJvdmlkZXIuYnVpbGRVbmV4cGVjdGVkQ2hhcmFjdGVyc01lc3NhZ2Uob3JnVGV4dCwgZXJyb3JTdGFydE9mZnNldCwgZXJyTGVuZ3RoLCBlcnJvckxpbmUsIGVycm9yQ29sdW1uKTtcbiAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDogZXJyb3JTdGFydE9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgbGluZTogZXJyb3JMaW5lLFxuICAgICAgICAgICAgICAgICAgICBjb2x1bW46IGVycm9yQ29sdW1uLFxuICAgICAgICAgICAgICAgICAgICBsZW5ndGg6IGVyckxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbXNnLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChyZWNvdmVyeUVuYWJsZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB3ZSBkbyBoYXZlIGN1c3RvbSBwYXR0ZXJucyB3aGljaCBwdXNoIGRpcmVjdGx5IGludG8gdGhlXG4gICAgICAgIC8vIFRPRE86IGN1c3RvbSB0b2tlbnMgc2hvdWxkIG5vdCBwdXNoIGRpcmVjdGx5Pz9cbiAgICAgICAgaWYgKCF0aGlzLmhhc0N1c3RvbSkge1xuICAgICAgICAgICAgLy8gaWYgd2UgZ3Vlc3NlZCBhIHRvbyBsYXJnZSBzaXplIGZvciB0aGUgdG9rZW5zIGFycmF5IHRoaXMgd2lsbCBzaHJpbmsgaXQgdG8gdGhlIHJpZ2h0IHNpemUuXG4gICAgICAgICAgICBtYXRjaGVkVG9rZW5zLmxlbmd0aCA9IG1hdGNoZWRUb2tlbnNJbmRleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9rZW5zOiBtYXRjaGVkVG9rZW5zLFxuICAgICAgICAgICAgZ3JvdXBzOiBncm91cHMsXG4gICAgICAgICAgICBlcnJvcnM6IGVycm9ycyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaGFuZGxlTW9kZXMoY29uZmlnLCBwb3BfbW9kZSwgcHVzaF9tb2RlLCBuZXdUb2tlbikge1xuICAgICAgICBpZiAoY29uZmlnLnBvcCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgLy8gbmVlZCB0byBzYXZlIHRoZSBQVVNIX01PREUgcHJvcGVydHkgYXMgaWYgdGhlIG1vZGUgaXMgcG9wcGVkXG4gICAgICAgICAgICAvLyBwYXR0ZXJuSWR4VG9Qb3BNb2RlIGlzIHVwZGF0ZWQgdG8gcmVmbGVjdCB0aGUgbmV3IG1vZGUgYWZ0ZXIgcG9wcGluZyB0aGUgc3RhY2tcbiAgICAgICAgICAgIGNvbnN0IHB1c2hNb2RlID0gY29uZmlnLnB1c2g7XG4gICAgICAgICAgICBwb3BfbW9kZShuZXdUb2tlbik7XG4gICAgICAgICAgICBpZiAocHVzaE1vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHB1c2hfbW9kZS5jYWxsKHRoaXMsIHB1c2hNb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb25maWcucHVzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwdXNoX21vZGUuY2FsbCh0aGlzLCBjb25maWcucHVzaCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2hvcElucHV0KHRleHQsIGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdGV4dC5zdWJzdHJpbmcobGVuZ3RoKTtcbiAgICB9XG4gICAgdXBkYXRlTGFzdEluZGV4KHJlZ0V4cCwgbmV3TGFzdEluZGV4KSB7XG4gICAgICAgIHJlZ0V4cC5sYXN0SW5kZXggPSBuZXdMYXN0SW5kZXg7XG4gICAgfVxuICAgIC8vIFRPRE86IGRlY3JlYXNlIHRoaXMgdW5kZXIgNjAwIGNoYXJhY3RlcnM/IGluc3BlY3Qgc3RyaXBwaW5nIGNvbW1lbnRzIG9wdGlvbiBpbiBUU0MgY29tcGlsZXJcbiAgICB1cGRhdGVUb2tlbkVuZExpbmVDb2x1bW5Mb2NhdGlvbihuZXdUb2tlbiwgZ3JvdXAsIGxhc3RMVElkeCwgbnVtT2ZMVHNJbk1hdGNoLCBsaW5lLCBjb2x1bW4sIGltYWdlTGVuZ3RoKSB7XG4gICAgICAgIGxldCBsYXN0Q2hhcklzTFQsIGZpeEZvckVuZGluZ0luTFQ7XG4gICAgICAgIGlmIChncm91cCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBhIG5vbmUgc2tpcHBlZCBtdWx0aSBsaW5lIFRva2VuLCBuZWVkIHRvIHVwZGF0ZSBlbmRMaW5lL2VuZENvbHVtblxuICAgICAgICAgICAgbGFzdENoYXJJc0xUID0gbGFzdExUSWR4ID09PSBpbWFnZUxlbmd0aCAtIDE7XG4gICAgICAgICAgICBmaXhGb3JFbmRpbmdJbkxUID0gbGFzdENoYXJJc0xUID8gLTEgOiAwO1xuICAgICAgICAgICAgaWYgKCEobnVtT2ZMVHNJbk1hdGNoID09PSAxICYmIGxhc3RDaGFySXNMVCA9PT0gdHJ1ZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBhIHRva2VuIGVuZHMgaW4gYSBMVCB0aGF0IGxhc3QgTFQgb25seSBhZmZlY3RzIHRoZSBsaW5lIG51bWJlcmluZyBvZiBmb2xsb3dpbmcgVG9rZW5zXG4gICAgICAgICAgICAgICAgbmV3VG9rZW4uZW5kTGluZSA9IGxpbmUgKyBmaXhGb3JFbmRpbmdJbkxUO1xuICAgICAgICAgICAgICAgIC8vIHRoZSBsYXN0IExUIGluIGEgdG9rZW4gZG9lcyBub3QgYWZmZWN0IHRoZSBlbmRDb2x1bW4gZWl0aGVyIGFzIHRoZSBbY29sdW1uU3RhcnQgLi4uIGNvbHVtbkVuZClcbiAgICAgICAgICAgICAgICAvLyBpbmNsdXNpdmUgdG8gZXhjbHVzaXZlIHJhbmdlLlxuICAgICAgICAgICAgICAgIG5ld1Rva2VuLmVuZENvbHVtbiA9IGNvbHVtbiAtIDEgKyAtZml4Rm9yRW5kaW5nSW5MVDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVsc2Ugc2luZ2xlIExUIGluIHRoZSBsYXN0IGNoYXJhY3RlciBvZiBhIHRva2VuLCBubyBuZWVkIHRvIG1vZGlmeSB0aGUgZW5kTGluZS9FbmRDb2x1bW5cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wdXRlTmV3Q29sdW1uKG9sZENvbHVtbiwgaW1hZ2VMZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG9sZENvbHVtbiArIGltYWdlTGVuZ3RoO1xuICAgIH1cbiAgICBjcmVhdGVPZmZzZXRPbmx5VG9rZW4oaW1hZ2UsIHN0YXJ0T2Zmc2V0LCB0b2tlblR5cGVJZHgsIHRva2VuVHlwZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW1hZ2UsXG4gICAgICAgICAgICBzdGFydE9mZnNldCxcbiAgICAgICAgICAgIHRva2VuVHlwZUlkeCxcbiAgICAgICAgICAgIHRva2VuVHlwZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY3JlYXRlU3RhcnRPbmx5VG9rZW4oaW1hZ2UsIHN0YXJ0T2Zmc2V0LCB0b2tlblR5cGVJZHgsIHRva2VuVHlwZSwgc3RhcnRMaW5lLCBzdGFydENvbHVtbikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW1hZ2UsXG4gICAgICAgICAgICBzdGFydE9mZnNldCxcbiAgICAgICAgICAgIHN0YXJ0TGluZSxcbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uLFxuICAgICAgICAgICAgdG9rZW5UeXBlSWR4LFxuICAgICAgICAgICAgdG9rZW5UeXBlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjcmVhdGVGdWxsVG9rZW4oaW1hZ2UsIHN0YXJ0T2Zmc2V0LCB0b2tlblR5cGVJZHgsIHRva2VuVHlwZSwgc3RhcnRMaW5lLCBzdGFydENvbHVtbiwgaW1hZ2VMZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGltYWdlLFxuICAgICAgICAgICAgc3RhcnRPZmZzZXQsXG4gICAgICAgICAgICBlbmRPZmZzZXQ6IHN0YXJ0T2Zmc2V0ICsgaW1hZ2VMZW5ndGggLSAxLFxuICAgICAgICAgICAgc3RhcnRMaW5lLFxuICAgICAgICAgICAgZW5kTGluZTogc3RhcnRMaW5lLFxuICAgICAgICAgICAgc3RhcnRDb2x1bW4sXG4gICAgICAgICAgICBlbmRDb2x1bW46IHN0YXJ0Q29sdW1uICsgaW1hZ2VMZW5ndGggLSAxLFxuICAgICAgICAgICAgdG9rZW5UeXBlSWR4LFxuICAgICAgICAgICAgdG9rZW5UeXBlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBhZGRUb2tlblVzaW5nUHVzaCh0b2tlblZlY3RvciwgaW5kZXgsIHRva2VuVG9BZGQpIHtcbiAgICAgICAgdG9rZW5WZWN0b3IucHVzaCh0b2tlblRvQWRkKTtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgICBhZGRUb2tlblVzaW5nTWVtYmVyQWNjZXNzKHRva2VuVmVjdG9yLCBpbmRleCwgdG9rZW5Ub0FkZCkge1xuICAgICAgICB0b2tlblZlY3RvcltpbmRleF0gPSB0b2tlblRvQWRkO1xuICAgICAgICBpbmRleCsrO1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuICAgIGhhbmRsZVBheWxvYWROb0N1c3RvbSh0b2tlbiwgcGF5bG9hZCkgeyB9XG4gICAgaGFuZGxlUGF5bG9hZFdpdGhDdXN0b20odG9rZW4sIHBheWxvYWQpIHtcbiAgICAgICAgaWYgKHBheWxvYWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRva2VuLnBheWxvYWQgPSBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1hdGNoV2l0aFRlc3QocGF0dGVybiwgdGV4dCwgb2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IGZvdW5kID0gcGF0dGVybi50ZXN0KHRleHQpO1xuICAgICAgICBpZiAoZm91bmQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0ZXh0LnN1YnN0cmluZyhvZmZzZXQsIHBhdHRlcm4ubGFzdEluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgbWF0Y2hXaXRoRXhlYyhwYXR0ZXJuLCB0ZXh0KSB7XG4gICAgICAgIGNvbnN0IHJlZ0V4cEFycmF5ID0gcGF0dGVybi5leGVjKHRleHQpO1xuICAgICAgICByZXR1cm4gcmVnRXhwQXJyYXkgIT09IG51bGwgPyByZWdFeHBBcnJheVswXSA6IG51bGw7XG4gICAgfVxufVxuTGV4ZXIuU0tJUFBFRCA9IFwiVGhpcyBtYXJrcyBhIHNraXBwZWQgVG9rZW4gcGF0dGVybiwgdGhpcyBtZWFucyBlYWNoIHRva2VuIGlkZW50aWZpZWQgYnkgaXQgd2lsbFwiICtcbiAgICBcImJlIGNvbnN1bWVkIGFuZCB0aGVuIHRocm93biBpbnRvIG9ibGl2aW9uLCB0aGlzIGNhbiBiZSB1c2VkIHRvIGZvciBleGFtcGxlIHRvIGNvbXBsZXRlbHkgaWdub3JlIHdoaXRlc3BhY2UuXCI7XG5MZXhlci5OQSA9IC9OT1RfQVBQTElDQUJMRS87XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sZXhlcl9wdWJsaWMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/scan/lexer_public.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/scan/reg_exp.js":
/*!*********************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/scan/reg_exp.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   canMatchCharCode: () => (/* binding */ canMatchCharCode),\n/* harmony export */   failedOptimizationPrefixMsg: () => (/* binding */ failedOptimizationPrefixMsg),\n/* harmony export */   firstCharOptimizedIndices: () => (/* binding */ firstCharOptimizedIndices),\n/* harmony export */   getOptimizedStartCodesIndices: () => (/* binding */ getOptimizedStartCodesIndices)\n/* harmony export */ });\n/* harmony import */ var _chevrotain_regexp_to_ast__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @chevrotain/regexp-to-ast */ \"(ssr)/./node_modules/@chevrotain/regexp-to-ast/lib/src/api.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/forEach.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/values.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/find.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/includes.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isArray.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/every.js\");\n/* harmony import */ var _chevrotain_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chevrotain/utils */ \"(ssr)/./node_modules/@chevrotain/utils/lib/src/api.js\");\n/* harmony import */ var _reg_exp_parser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./reg_exp_parser.js */ \"(ssr)/./node_modules/chevrotain/lib/src/scan/reg_exp_parser.js\");\n/* harmony import */ var _lexer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lexer.js */ \"(ssr)/./node_modules/chevrotain/lib/src/scan/lexer.js\");\n\n\n\n\n\nconst complementErrorMessage = \"Complement Sets are not supported for first char optimization\";\nconst failedOptimizationPrefixMsg = 'Unable to use \"first char\" lexer optimizations:\\n';\nfunction getOptimizedStartCodesIndices(regExp, ensureOptimizations = false) {\n    try {\n        const ast = (0,_reg_exp_parser_js__WEBPACK_IMPORTED_MODULE_2__.getRegExpAst)(regExp);\n        const firstChars = firstCharOptimizedIndices(ast.value, {}, ast.flags.ignoreCase);\n        return firstChars;\n    }\n    catch (e) {\n        /* istanbul ignore next */\n        // Testing this relies on the regexp-to-ast library having a bug... */\n        // TODO: only the else branch needs to be ignored, try to fix with newer prettier / tsc\n        if (e.message === complementErrorMessage) {\n            if (ensureOptimizations) {\n                (0,_chevrotain_utils__WEBPACK_IMPORTED_MODULE_1__.PRINT_WARNING)(`${failedOptimizationPrefixMsg}` +\n                    `\\tUnable to optimize: < ${regExp.toString()} >\\n` +\n                    \"\\tComplement Sets cannot be automatically optimized.\\n\" +\n                    \"\\tThis will disable the lexer's first char optimizations.\\n\" +\n                    \"\\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.\");\n            }\n        }\n        else {\n            let msgSuffix = \"\";\n            if (ensureOptimizations) {\n                msgSuffix =\n                    \"\\n\\tThis will disable the lexer's first char optimizations.\\n\" +\n                        \"\\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.\";\n            }\n            (0,_chevrotain_utils__WEBPACK_IMPORTED_MODULE_1__.PRINT_ERROR)(`${failedOptimizationPrefixMsg}\\n` +\n                `\\tFailed parsing: < ${regExp.toString()} >\\n` +\n                `\\tUsing the @chevrotain/regexp-to-ast library\\n` +\n                \"\\tPlease open an issue at: https://github.com/chevrotain/chevrotain/issues\" +\n                msgSuffix);\n        }\n    }\n    return [];\n}\nfunction firstCharOptimizedIndices(ast, result, ignoreCase) {\n    switch (ast.type) {\n        case \"Disjunction\":\n            for (let i = 0; i < ast.value.length; i++) {\n                firstCharOptimizedIndices(ast.value[i], result, ignoreCase);\n            }\n            break;\n        case \"Alternative\":\n            const terms = ast.value;\n            for (let i = 0; i < terms.length; i++) {\n                const term = terms[i];\n                // skip terms that cannot effect the first char results\n                switch (term.type) {\n                    case \"EndAnchor\":\n                    // A group back reference cannot affect potential starting char.\n                    // because if a back reference is the first production than automatically\n                    // the group being referenced has had to come BEFORE so its codes have already been added\n                    case \"GroupBackReference\":\n                    // assertions do not affect potential starting codes\n                    case \"Lookahead\":\n                    case \"NegativeLookahead\":\n                    case \"StartAnchor\":\n                    case \"WordBoundary\":\n                    case \"NonWordBoundary\":\n                        continue;\n                }\n                const atom = term;\n                switch (atom.type) {\n                    case \"Character\":\n                        addOptimizedIdxToResult(atom.value, result, ignoreCase);\n                        break;\n                    case \"Set\":\n                        if (atom.complement === true) {\n                            throw Error(complementErrorMessage);\n                        }\n                        (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(atom.value, (code) => {\n                            if (typeof code === \"number\") {\n                                addOptimizedIdxToResult(code, result, ignoreCase);\n                            }\n                            else {\n                                // range\n                                const range = code;\n                                // cannot optimize when ignoreCase is\n                                if (ignoreCase === true) {\n                                    for (let rangeCode = range.from; rangeCode <= range.to; rangeCode++) {\n                                        addOptimizedIdxToResult(rangeCode, result, ignoreCase);\n                                    }\n                                }\n                                // Optimization (2 orders of magnitude less work for very large ranges)\n                                else {\n                                    // handle unoptimized values\n                                    for (let rangeCode = range.from; rangeCode <= range.to && rangeCode < _lexer_js__WEBPACK_IMPORTED_MODULE_3__.minOptimizationVal; rangeCode++) {\n                                        addOptimizedIdxToResult(rangeCode, result, ignoreCase);\n                                    }\n                                    // Less common charCode where we optimize for faster init time, by using larger \"buckets\"\n                                    if (range.to >= _lexer_js__WEBPACK_IMPORTED_MODULE_3__.minOptimizationVal) {\n                                        const minUnOptVal = range.from >= _lexer_js__WEBPACK_IMPORTED_MODULE_3__.minOptimizationVal\n                                            ? range.from\n                                            : _lexer_js__WEBPACK_IMPORTED_MODULE_3__.minOptimizationVal;\n                                        const maxUnOptVal = range.to;\n                                        const minOptIdx = (0,_lexer_js__WEBPACK_IMPORTED_MODULE_3__.charCodeToOptimizedIndex)(minUnOptVal);\n                                        const maxOptIdx = (0,_lexer_js__WEBPACK_IMPORTED_MODULE_3__.charCodeToOptimizedIndex)(maxUnOptVal);\n                                        for (let currOptIdx = minOptIdx; currOptIdx <= maxOptIdx; currOptIdx++) {\n                                            result[currOptIdx] = currOptIdx;\n                                        }\n                                    }\n                                }\n                            }\n                        });\n                        break;\n                    case \"Group\":\n                        firstCharOptimizedIndices(atom.value, result, ignoreCase);\n                        break;\n                    /* istanbul ignore next */\n                    default:\n                        throw Error(\"Non Exhaustive Match\");\n                }\n                // reached a mandatory production, no more **start** codes can be found on this alternative\n                const isOptionalQuantifier = atom.quantifier !== undefined && atom.quantifier.atLeast === 0;\n                if (\n                // A group may be optional due to empty contents /(?:)/\n                // or if everything inside it is optional /((a)?)/\n                (atom.type === \"Group\" && isWholeOptional(atom) === false) ||\n                    // If this term is not a group it may only be optional if it has an optional quantifier\n                    (atom.type !== \"Group\" && isOptionalQuantifier === false)) {\n                    break;\n                }\n            }\n            break;\n        /* istanbul ignore next */\n        default:\n            throw Error(\"non exhaustive match!\");\n    }\n    // console.log(Object.keys(result).length)\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(result);\n}\nfunction addOptimizedIdxToResult(code, result, ignoreCase) {\n    const optimizedCharIdx = (0,_lexer_js__WEBPACK_IMPORTED_MODULE_3__.charCodeToOptimizedIndex)(code);\n    result[optimizedCharIdx] = optimizedCharIdx;\n    if (ignoreCase === true) {\n        handleIgnoreCase(code, result);\n    }\n}\nfunction handleIgnoreCase(code, result) {\n    const char = String.fromCharCode(code);\n    const upperChar = char.toUpperCase();\n    /* istanbul ignore else */\n    if (upperChar !== char) {\n        const optimizedCharIdx = (0,_lexer_js__WEBPACK_IMPORTED_MODULE_3__.charCodeToOptimizedIndex)(upperChar.charCodeAt(0));\n        result[optimizedCharIdx] = optimizedCharIdx;\n    }\n    else {\n        const lowerChar = char.toLowerCase();\n        if (lowerChar !== char) {\n            const optimizedCharIdx = (0,_lexer_js__WEBPACK_IMPORTED_MODULE_3__.charCodeToOptimizedIndex)(lowerChar.charCodeAt(0));\n            result[optimizedCharIdx] = optimizedCharIdx;\n        }\n    }\n}\nfunction findCode(setNode, targetCharCodes) {\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(setNode.value, (codeOrRange) => {\n        if (typeof codeOrRange === \"number\") {\n            return (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(targetCharCodes, codeOrRange);\n        }\n        else {\n            // range\n            const range = codeOrRange;\n            return ((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(targetCharCodes, (targetCode) => range.from <= targetCode && targetCode <= range.to) !== undefined);\n        }\n    });\n}\nfunction isWholeOptional(ast) {\n    const quantifier = ast.quantifier;\n    if (quantifier && quantifier.atLeast === 0) {\n        return true;\n    }\n    if (!ast.value) {\n        return false;\n    }\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(ast.value)\n        ? (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(ast.value, isWholeOptional)\n        : isWholeOptional(ast.value);\n}\nclass CharCodeFinder extends _chevrotain_regexp_to_ast__WEBPACK_IMPORTED_MODULE_0__.BaseRegExpVisitor {\n    constructor(targetCharCodes) {\n        super();\n        this.targetCharCodes = targetCharCodes;\n        this.found = false;\n    }\n    visitChildren(node) {\n        // No need to keep looking...\n        if (this.found === true) {\n            return;\n        }\n        // switch lookaheads as they do not actually consume any characters thus\n        // finding a charCode at lookahead context does not mean that regexp can actually contain it in a match.\n        switch (node.type) {\n            case \"Lookahead\":\n                this.visitLookahead(node);\n                return;\n            case \"NegativeLookahead\":\n                this.visitNegativeLookahead(node);\n                return;\n        }\n        super.visitChildren(node);\n    }\n    visitCharacter(node) {\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(this.targetCharCodes, node.value)) {\n            this.found = true;\n        }\n    }\n    visitSet(node) {\n        if (node.complement) {\n            if (findCode(node, this.targetCharCodes) === undefined) {\n                this.found = true;\n            }\n        }\n        else {\n            if (findCode(node, this.targetCharCodes) !== undefined) {\n                this.found = true;\n            }\n        }\n    }\n}\nfunction canMatchCharCode(charCodes, pattern) {\n    if (pattern instanceof RegExp) {\n        const ast = (0,_reg_exp_parser_js__WEBPACK_IMPORTED_MODULE_2__.getRegExpAst)(pattern);\n        const charCodeFinder = new CharCodeFinder(charCodes);\n        charCodeFinder.visit(ast);\n        return charCodeFinder.found;\n    }\n    else {\n        return ((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(pattern, (char) => {\n            return (0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(charCodes, char.charCodeAt(0));\n        }) !== undefined);\n    }\n}\n//# sourceMappingURL=reg_exp.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3NjYW4vcmVnX2V4cC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUErRDtBQUNhO0FBQ2I7QUFDWjtBQUN1QjtBQUMxRTtBQUNPO0FBQ0E7QUFDUDtBQUNBLG9CQUFvQixnRUFBWTtBQUNoQyxrRUFBa0U7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixnRUFBYSxJQUFJLDRCQUE0QjtBQUM3RCwrQ0FBK0MsbUJBQW1CO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksOERBQVcsSUFBSSw0QkFBNEI7QUFDdkQsdUNBQXVDLG1CQUFtQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLDRCQUE0QixzQkFBc0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixrQkFBa0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IscURBQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSx1QkFBdUI7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLHFDQUFxQyx5REFBa0IsRUFBRTtBQUM5SDtBQUNBO0FBQ0E7QUFDQSxvREFBb0QseURBQWtCO0FBQ3RFLDBFQUEwRSx5REFBa0I7QUFDNUY7QUFDQSw4Q0FBOEMseURBQWtCO0FBQ2hFO0FBQ0EsMERBQTBELG1FQUF3QjtBQUNsRiwwREFBMEQsbUVBQXdCO0FBQ2xGLHlFQUF5RSx5QkFBeUI7QUFDbEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcscURBQU07QUFDakI7QUFDQTtBQUNBLDZCQUE2QixtRUFBd0I7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsbUVBQXdCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsbUVBQXdCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHFEQUFJO0FBQ2Y7QUFDQSxtQkFBbUIscURBQVE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscURBQUk7QUFDeEI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxxREFBTztBQUNsQixVQUFVLHFEQUFLO0FBQ2Y7QUFDQTtBQUNBLDZCQUE2Qix3RUFBaUI7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkscURBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0Esb0JBQW9CLGdFQUFZO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscURBQUk7QUFDcEIsbUJBQW1CLHFEQUFRO0FBQzNCLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXJtYWlkLWRpYWdyYW0tZWRpdG9yLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy9zY2FuL3JlZ19leHAuanM/MWJkNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlUmVnRXhwVmlzaXRvciwgfSBmcm9tIFwiQGNoZXZyb3RhaW4vcmVnZXhwLXRvLWFzdFwiO1xuaW1wb3J0IHsgZXZlcnksIGZpbmQsIGZvckVhY2gsIGluY2x1ZGVzLCBpc0FycmF5LCB2YWx1ZXMgfSBmcm9tIFwibG9kYXNoLWVzXCI7XG5pbXBvcnQgeyBQUklOVF9FUlJPUiwgUFJJTlRfV0FSTklORyB9IGZyb20gXCJAY2hldnJvdGFpbi91dGlsc1wiO1xuaW1wb3J0IHsgZ2V0UmVnRXhwQXN0IH0gZnJvbSBcIi4vcmVnX2V4cF9wYXJzZXIuanNcIjtcbmltcG9ydCB7IGNoYXJDb2RlVG9PcHRpbWl6ZWRJbmRleCwgbWluT3B0aW1pemF0aW9uVmFsIH0gZnJvbSBcIi4vbGV4ZXIuanNcIjtcbmNvbnN0IGNvbXBsZW1lbnRFcnJvck1lc3NhZ2UgPSBcIkNvbXBsZW1lbnQgU2V0cyBhcmUgbm90IHN1cHBvcnRlZCBmb3IgZmlyc3QgY2hhciBvcHRpbWl6YXRpb25cIjtcbmV4cG9ydCBjb25zdCBmYWlsZWRPcHRpbWl6YXRpb25QcmVmaXhNc2cgPSAnVW5hYmxlIHRvIHVzZSBcImZpcnN0IGNoYXJcIiBsZXhlciBvcHRpbWl6YXRpb25zOlxcbic7XG5leHBvcnQgZnVuY3Rpb24gZ2V0T3B0aW1pemVkU3RhcnRDb2Rlc0luZGljZXMocmVnRXhwLCBlbnN1cmVPcHRpbWl6YXRpb25zID0gZmFsc2UpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBhc3QgPSBnZXRSZWdFeHBBc3QocmVnRXhwKTtcbiAgICAgICAgY29uc3QgZmlyc3RDaGFycyA9IGZpcnN0Q2hhck9wdGltaXplZEluZGljZXMoYXN0LnZhbHVlLCB7fSwgYXN0LmZsYWdzLmlnbm9yZUNhc2UpO1xuICAgICAgICByZXR1cm4gZmlyc3RDaGFycztcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgLy8gVGVzdGluZyB0aGlzIHJlbGllcyBvbiB0aGUgcmVnZXhwLXRvLWFzdCBsaWJyYXJ5IGhhdmluZyBhIGJ1Zy4uLiAqL1xuICAgICAgICAvLyBUT0RPOiBvbmx5IHRoZSBlbHNlIGJyYW5jaCBuZWVkcyB0byBiZSBpZ25vcmVkLCB0cnkgdG8gZml4IHdpdGggbmV3ZXIgcHJldHRpZXIgLyB0c2NcbiAgICAgICAgaWYgKGUubWVzc2FnZSA9PT0gY29tcGxlbWVudEVycm9yTWVzc2FnZSkge1xuICAgICAgICAgICAgaWYgKGVuc3VyZU9wdGltaXphdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBQUklOVF9XQVJOSU5HKGAke2ZhaWxlZE9wdGltaXphdGlvblByZWZpeE1zZ31gICtcbiAgICAgICAgICAgICAgICAgICAgYFxcdFVuYWJsZSB0byBvcHRpbWl6ZTogPCAke3JlZ0V4cC50b1N0cmluZygpfSA+XFxuYCArXG4gICAgICAgICAgICAgICAgICAgIFwiXFx0Q29tcGxlbWVudCBTZXRzIGNhbm5vdCBiZSBhdXRvbWF0aWNhbGx5IG9wdGltaXplZC5cXG5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiXFx0VGhpcyB3aWxsIGRpc2FibGUgdGhlIGxleGVyJ3MgZmlyc3QgY2hhciBvcHRpbWl6YXRpb25zLlxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJcXHRTZWU6IGh0dHBzOi8vY2hldnJvdGFpbi5pby9kb2NzL2d1aWRlL3Jlc29sdmluZ19sZXhlcl9lcnJvcnMuaHRtbCNDT01QTEVNRU5UIGZvciBkZXRhaWxzLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBtc2dTdWZmaXggPSBcIlwiO1xuICAgICAgICAgICAgaWYgKGVuc3VyZU9wdGltaXphdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBtc2dTdWZmaXggPVxuICAgICAgICAgICAgICAgICAgICBcIlxcblxcdFRoaXMgd2lsbCBkaXNhYmxlIHRoZSBsZXhlcidzIGZpcnN0IGNoYXIgb3B0aW1pemF0aW9ucy5cXG5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlxcdFNlZTogaHR0cHM6Ly9jaGV2cm90YWluLmlvL2RvY3MvZ3VpZGUvcmVzb2x2aW5nX2xleGVyX2Vycm9ycy5odG1sI1JFR0VYUF9QQVJTSU5HIGZvciBkZXRhaWxzLlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgUFJJTlRfRVJST1IoYCR7ZmFpbGVkT3B0aW1pemF0aW9uUHJlZml4TXNnfVxcbmAgK1xuICAgICAgICAgICAgICAgIGBcXHRGYWlsZWQgcGFyc2luZzogPCAke3JlZ0V4cC50b1N0cmluZygpfSA+XFxuYCArXG4gICAgICAgICAgICAgICAgYFxcdFVzaW5nIHRoZSBAY2hldnJvdGFpbi9yZWdleHAtdG8tYXN0IGxpYnJhcnlcXG5gICtcbiAgICAgICAgICAgICAgICBcIlxcdFBsZWFzZSBvcGVuIGFuIGlzc3VlIGF0OiBodHRwczovL2dpdGh1Yi5jb20vY2hldnJvdGFpbi9jaGV2cm90YWluL2lzc3Vlc1wiICtcbiAgICAgICAgICAgICAgICBtc2dTdWZmaXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBbXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaXJzdENoYXJPcHRpbWl6ZWRJbmRpY2VzKGFzdCwgcmVzdWx0LCBpZ25vcmVDYXNlKSB7XG4gICAgc3dpdGNoIChhc3QudHlwZSkge1xuICAgICAgICBjYXNlIFwiRGlzanVuY3Rpb25cIjpcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXN0LnZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZmlyc3RDaGFyT3B0aW1pemVkSW5kaWNlcyhhc3QudmFsdWVbaV0sIHJlc3VsdCwgaWdub3JlQ2FzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIkFsdGVybmF0aXZlXCI6XG4gICAgICAgICAgICBjb25zdCB0ZXJtcyA9IGFzdC52YWx1ZTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGVybXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXJtID0gdGVybXNbaV07XG4gICAgICAgICAgICAgICAgLy8gc2tpcCB0ZXJtcyB0aGF0IGNhbm5vdCBlZmZlY3QgdGhlIGZpcnN0IGNoYXIgcmVzdWx0c1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodGVybS50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJFbmRBbmNob3JcIjpcbiAgICAgICAgICAgICAgICAgICAgLy8gQSBncm91cCBiYWNrIHJlZmVyZW5jZSBjYW5ub3QgYWZmZWN0IHBvdGVudGlhbCBzdGFydGluZyBjaGFyLlxuICAgICAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIGlmIGEgYmFjayByZWZlcmVuY2UgaXMgdGhlIGZpcnN0IHByb2R1Y3Rpb24gdGhhbiBhdXRvbWF0aWNhbGx5XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBncm91cCBiZWluZyByZWZlcmVuY2VkIGhhcyBoYWQgdG8gY29tZSBCRUZPUkUgc28gaXRzIGNvZGVzIGhhdmUgYWxyZWFkeSBiZWVuIGFkZGVkXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHcm91cEJhY2tSZWZlcmVuY2VcIjpcbiAgICAgICAgICAgICAgICAgICAgLy8gYXNzZXJ0aW9ucyBkbyBub3QgYWZmZWN0IHBvdGVudGlhbCBzdGFydGluZyBjb2Rlc1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTG9va2FoZWFkXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOZWdhdGl2ZUxvb2thaGVhZFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU3RhcnRBbmNob3JcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIldvcmRCb3VuZGFyeVwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTm9uV29yZEJvdW5kYXJ5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgYXRvbSA9IHRlcm07XG4gICAgICAgICAgICAgICAgc3dpdGNoIChhdG9tLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkNoYXJhY3RlclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkT3B0aW1pemVkSWR4VG9SZXN1bHQoYXRvbS52YWx1ZSwgcmVzdWx0LCBpZ25vcmVDYXNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU2V0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXRvbS5jb21wbGVtZW50ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoY29tcGxlbWVudEVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JFYWNoKGF0b20udmFsdWUsIChjb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb2RlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZE9wdGltaXplZElkeFRvUmVzdWx0KGNvZGUsIHJlc3VsdCwgaWdub3JlQ2FzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByYW5nZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYW5nZSA9IGNvZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbm5vdCBvcHRpbWl6ZSB3aGVuIGlnbm9yZUNhc2UgaXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlnbm9yZUNhc2UgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHJhbmdlQ29kZSA9IHJhbmdlLmZyb207IHJhbmdlQ29kZSA8PSByYW5nZS50bzsgcmFuZ2VDb2RlKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRPcHRpbWl6ZWRJZHhUb1Jlc3VsdChyYW5nZUNvZGUsIHJlc3VsdCwgaWdub3JlQ2FzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3B0aW1pemF0aW9uICgyIG9yZGVycyBvZiBtYWduaXR1ZGUgbGVzcyB3b3JrIGZvciB2ZXJ5IGxhcmdlIHJhbmdlcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgdW5vcHRpbWl6ZWQgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCByYW5nZUNvZGUgPSByYW5nZS5mcm9tOyByYW5nZUNvZGUgPD0gcmFuZ2UudG8gJiYgcmFuZ2VDb2RlIDwgbWluT3B0aW1pemF0aW9uVmFsOyByYW5nZUNvZGUrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZE9wdGltaXplZElkeFRvUmVzdWx0KHJhbmdlQ29kZSwgcmVzdWx0LCBpZ25vcmVDYXNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExlc3MgY29tbW9uIGNoYXJDb2RlIHdoZXJlIHdlIG9wdGltaXplIGZvciBmYXN0ZXIgaW5pdCB0aW1lLCBieSB1c2luZyBsYXJnZXIgXCJidWNrZXRzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYW5nZS50byA+PSBtaW5PcHRpbWl6YXRpb25WYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtaW5Vbk9wdFZhbCA9IHJhbmdlLmZyb20gPj0gbWluT3B0aW1pemF0aW9uVmFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcmFuZ2UuZnJvbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1pbk9wdGltaXphdGlvblZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXhVbk9wdFZhbCA9IHJhbmdlLnRvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pbk9wdElkeCA9IGNoYXJDb2RlVG9PcHRpbWl6ZWRJbmRleChtaW5Vbk9wdFZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4T3B0SWR4ID0gY2hhckNvZGVUb09wdGltaXplZEluZGV4KG1heFVuT3B0VmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBjdXJyT3B0SWR4ID0gbWluT3B0SWR4OyBjdXJyT3B0SWR4IDw9IG1heE9wdElkeDsgY3Vyck9wdElkeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtjdXJyT3B0SWR4XSA9IGN1cnJPcHRJZHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdyb3VwXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdENoYXJPcHRpbWl6ZWRJbmRpY2VzKGF0b20udmFsdWUsIHJlc3VsdCwgaWdub3JlQ2FzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiTm9uIEV4aGF1c3RpdmUgTWF0Y2hcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJlYWNoZWQgYSBtYW5kYXRvcnkgcHJvZHVjdGlvbiwgbm8gbW9yZSAqKnN0YXJ0KiogY29kZXMgY2FuIGJlIGZvdW5kIG9uIHRoaXMgYWx0ZXJuYXRpdmVcbiAgICAgICAgICAgICAgICBjb25zdCBpc09wdGlvbmFsUXVhbnRpZmllciA9IGF0b20ucXVhbnRpZmllciAhPT0gdW5kZWZpbmVkICYmIGF0b20ucXVhbnRpZmllci5hdExlYXN0ID09PSAwO1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAvLyBBIGdyb3VwIG1heSBiZSBvcHRpb25hbCBkdWUgdG8gZW1wdHkgY29udGVudHMgLyg/OikvXG4gICAgICAgICAgICAgICAgLy8gb3IgaWYgZXZlcnl0aGluZyBpbnNpZGUgaXQgaXMgb3B0aW9uYWwgLygoYSk/KS9cbiAgICAgICAgICAgICAgICAoYXRvbS50eXBlID09PSBcIkdyb3VwXCIgJiYgaXNXaG9sZU9wdGlvbmFsKGF0b20pID09PSBmYWxzZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhpcyB0ZXJtIGlzIG5vdCBhIGdyb3VwIGl0IG1heSBvbmx5IGJlIG9wdGlvbmFsIGlmIGl0IGhhcyBhbiBvcHRpb25hbCBxdWFudGlmaWVyXG4gICAgICAgICAgICAgICAgICAgIChhdG9tLnR5cGUgIT09IFwiR3JvdXBcIiAmJiBpc09wdGlvbmFsUXVhbnRpZmllciA9PT0gZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaCFcIik7XG4gICAgfVxuICAgIC8vIGNvbnNvbGUubG9nKE9iamVjdC5rZXlzKHJlc3VsdCkubGVuZ3RoKVxuICAgIHJldHVybiB2YWx1ZXMocmVzdWx0KTtcbn1cbmZ1bmN0aW9uIGFkZE9wdGltaXplZElkeFRvUmVzdWx0KGNvZGUsIHJlc3VsdCwgaWdub3JlQ2FzZSkge1xuICAgIGNvbnN0IG9wdGltaXplZENoYXJJZHggPSBjaGFyQ29kZVRvT3B0aW1pemVkSW5kZXgoY29kZSk7XG4gICAgcmVzdWx0W29wdGltaXplZENoYXJJZHhdID0gb3B0aW1pemVkQ2hhcklkeDtcbiAgICBpZiAoaWdub3JlQ2FzZSA9PT0gdHJ1ZSkge1xuICAgICAgICBoYW5kbGVJZ25vcmVDYXNlKGNvZGUsIHJlc3VsdCk7XG4gICAgfVxufVxuZnVuY3Rpb24gaGFuZGxlSWdub3JlQ2FzZShjb2RlLCByZXN1bHQpIHtcbiAgICBjb25zdCBjaGFyID0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcbiAgICBjb25zdCB1cHBlckNoYXIgPSBjaGFyLnRvVXBwZXJDYXNlKCk7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAodXBwZXJDaGFyICE9PSBjaGFyKSB7XG4gICAgICAgIGNvbnN0IG9wdGltaXplZENoYXJJZHggPSBjaGFyQ29kZVRvT3B0aW1pemVkSW5kZXgodXBwZXJDaGFyLmNoYXJDb2RlQXQoMCkpO1xuICAgICAgICByZXN1bHRbb3B0aW1pemVkQ2hhcklkeF0gPSBvcHRpbWl6ZWRDaGFySWR4O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgbG93ZXJDaGFyID0gY2hhci50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAobG93ZXJDaGFyICE9PSBjaGFyKSB7XG4gICAgICAgICAgICBjb25zdCBvcHRpbWl6ZWRDaGFySWR4ID0gY2hhckNvZGVUb09wdGltaXplZEluZGV4KGxvd2VyQ2hhci5jaGFyQ29kZUF0KDApKTtcbiAgICAgICAgICAgIHJlc3VsdFtvcHRpbWl6ZWRDaGFySWR4XSA9IG9wdGltaXplZENoYXJJZHg7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBmaW5kQ29kZShzZXROb2RlLCB0YXJnZXRDaGFyQ29kZXMpIHtcbiAgICByZXR1cm4gZmluZChzZXROb2RlLnZhbHVlLCAoY29kZU9yUmFuZ2UpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjb2RlT3JSYW5nZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgcmV0dXJuIGluY2x1ZGVzKHRhcmdldENoYXJDb2RlcywgY29kZU9yUmFuZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gcmFuZ2VcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gY29kZU9yUmFuZ2U7XG4gICAgICAgICAgICByZXR1cm4gKGZpbmQodGFyZ2V0Q2hhckNvZGVzLCAodGFyZ2V0Q29kZSkgPT4gcmFuZ2UuZnJvbSA8PSB0YXJnZXRDb2RlICYmIHRhcmdldENvZGUgPD0gcmFuZ2UudG8pICE9PSB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5mdW5jdGlvbiBpc1dob2xlT3B0aW9uYWwoYXN0KSB7XG4gICAgY29uc3QgcXVhbnRpZmllciA9IGFzdC5xdWFudGlmaWVyO1xuICAgIGlmIChxdWFudGlmaWVyICYmIHF1YW50aWZpZXIuYXRMZWFzdCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFhc3QudmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gaXNBcnJheShhc3QudmFsdWUpXG4gICAgICAgID8gZXZlcnkoYXN0LnZhbHVlLCBpc1dob2xlT3B0aW9uYWwpXG4gICAgICAgIDogaXNXaG9sZU9wdGlvbmFsKGFzdC52YWx1ZSk7XG59XG5jbGFzcyBDaGFyQ29kZUZpbmRlciBleHRlbmRzIEJhc2VSZWdFeHBWaXNpdG9yIHtcbiAgICBjb25zdHJ1Y3Rvcih0YXJnZXRDaGFyQ29kZXMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50YXJnZXRDaGFyQ29kZXMgPSB0YXJnZXRDaGFyQ29kZXM7XG4gICAgICAgIHRoaXMuZm91bmQgPSBmYWxzZTtcbiAgICB9XG4gICAgdmlzaXRDaGlsZHJlbihub2RlKSB7XG4gICAgICAgIC8vIE5vIG5lZWQgdG8ga2VlcCBsb29raW5nLi4uXG4gICAgICAgIGlmICh0aGlzLmZvdW5kID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3dpdGNoIGxvb2thaGVhZHMgYXMgdGhleSBkbyBub3QgYWN0dWFsbHkgY29uc3VtZSBhbnkgY2hhcmFjdGVycyB0aHVzXG4gICAgICAgIC8vIGZpbmRpbmcgYSBjaGFyQ29kZSBhdCBsb29rYWhlYWQgY29udGV4dCBkb2VzIG5vdCBtZWFuIHRoYXQgcmVnZXhwIGNhbiBhY3R1YWxseSBjb250YWluIGl0IGluIGEgbWF0Y2guXG4gICAgICAgIHN3aXRjaCAobm9kZS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwiTG9va2FoZWFkXCI6XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpdExvb2thaGVhZChub2RlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjYXNlIFwiTmVnYXRpdmVMb29rYWhlYWRcIjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2l0TmVnYXRpdmVMb29rYWhlYWQobm9kZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLnZpc2l0Q2hpbGRyZW4obm9kZSk7XG4gICAgfVxuICAgIHZpc2l0Q2hhcmFjdGVyKG5vZGUpIHtcbiAgICAgICAgaWYgKGluY2x1ZGVzKHRoaXMudGFyZ2V0Q2hhckNvZGVzLCBub2RlLnZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5mb3VuZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmlzaXRTZXQobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5jb21wbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAoZmluZENvZGUobm9kZSwgdGhpcy50YXJnZXRDaGFyQ29kZXMpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChmaW5kQ29kZShub2RlLCB0aGlzLnRhcmdldENoYXJDb2RlcykgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGNhbk1hdGNoQ2hhckNvZGUoY2hhckNvZGVzLCBwYXR0ZXJuKSB7XG4gICAgaWYgKHBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgY29uc3QgYXN0ID0gZ2V0UmVnRXhwQXN0KHBhdHRlcm4pO1xuICAgICAgICBjb25zdCBjaGFyQ29kZUZpbmRlciA9IG5ldyBDaGFyQ29kZUZpbmRlcihjaGFyQ29kZXMpO1xuICAgICAgICBjaGFyQ29kZUZpbmRlci52aXNpdChhc3QpO1xuICAgICAgICByZXR1cm4gY2hhckNvZGVGaW5kZXIuZm91bmQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gKGZpbmQocGF0dGVybiwgKGNoYXIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBpbmNsdWRlcyhjaGFyQ29kZXMsIGNoYXIuY2hhckNvZGVBdCgwKSk7XG4gICAgICAgIH0pICE9PSB1bmRlZmluZWQpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlZ19leHAuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/scan/reg_exp.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/scan/reg_exp_parser.js":
/*!****************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/scan/reg_exp_parser.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearRegExpParserCache: () => (/* binding */ clearRegExpParserCache),\n/* harmony export */   getRegExpAst: () => (/* binding */ getRegExpAst)\n/* harmony export */ });\n/* harmony import */ var _chevrotain_regexp_to_ast__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @chevrotain/regexp-to-ast */ \"(ssr)/./node_modules/@chevrotain/regexp-to-ast/lib/src/api.js\");\n\nlet regExpAstCache = {};\nconst regExpParser = new _chevrotain_regexp_to_ast__WEBPACK_IMPORTED_MODULE_0__.RegExpParser();\nfunction getRegExpAst(regExp) {\n    const regExpStr = regExp.toString();\n    if (regExpAstCache.hasOwnProperty(regExpStr)) {\n        return regExpAstCache[regExpStr];\n    }\n    else {\n        const regExpAst = regExpParser.pattern(regExpStr);\n        regExpAstCache[regExpStr] = regExpAst;\n        return regExpAst;\n    }\n}\nfunction clearRegExpParserCache() {\n    regExpAstCache = {};\n}\n//# sourceMappingURL=reg_exp_parser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3NjYW4vcmVnX2V4cF9wYXJzZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTBEO0FBQzFEO0FBQ0EseUJBQXlCLG1FQUFZO0FBQzlCO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL21lcm1haWQtZGlhZ3JhbS1lZGl0b3IvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3NjYW4vcmVnX2V4cF9wYXJzZXIuanM/NTVhMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWdFeHBQYXJzZXIsIH0gZnJvbSBcIkBjaGV2cm90YWluL3JlZ2V4cC10by1hc3RcIjtcbmxldCByZWdFeHBBc3RDYWNoZSA9IHt9O1xuY29uc3QgcmVnRXhwUGFyc2VyID0gbmV3IFJlZ0V4cFBhcnNlcigpO1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJlZ0V4cEFzdChyZWdFeHApIHtcbiAgICBjb25zdCByZWdFeHBTdHIgPSByZWdFeHAudG9TdHJpbmcoKTtcbiAgICBpZiAocmVnRXhwQXN0Q2FjaGUuaGFzT3duUHJvcGVydHkocmVnRXhwU3RyKSkge1xuICAgICAgICByZXR1cm4gcmVnRXhwQXN0Q2FjaGVbcmVnRXhwU3RyXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHJlZ0V4cEFzdCA9IHJlZ0V4cFBhcnNlci5wYXR0ZXJuKHJlZ0V4cFN0cik7XG4gICAgICAgIHJlZ0V4cEFzdENhY2hlW3JlZ0V4cFN0cl0gPSByZWdFeHBBc3Q7XG4gICAgICAgIHJldHVybiByZWdFeHBBc3Q7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyUmVnRXhwUGFyc2VyQ2FjaGUoKSB7XG4gICAgcmVnRXhwQXN0Q2FjaGUgPSB7fTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlZ19leHBfcGFyc2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/scan/reg_exp_parser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/scan/tokens.js":
/*!********************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/scan/tokens.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assignCategoriesMapProp: () => (/* binding */ assignCategoriesMapProp),\n/* harmony export */   assignCategoriesTokensProp: () => (/* binding */ assignCategoriesTokensProp),\n/* harmony export */   assignTokenDefaultProps: () => (/* binding */ assignTokenDefaultProps),\n/* harmony export */   augmentTokenTypes: () => (/* binding */ augmentTokenTypes),\n/* harmony export */   expandCategories: () => (/* binding */ expandCategories),\n/* harmony export */   hasCategoriesProperty: () => (/* binding */ hasCategoriesProperty),\n/* harmony export */   hasExtendingTokensTypesMapProperty: () => (/* binding */ hasExtendingTokensTypesMapProperty),\n/* harmony export */   hasExtendingTokensTypesProperty: () => (/* binding */ hasExtendingTokensTypesProperty),\n/* harmony export */   hasShortKeyProperty: () => (/* binding */ hasShortKeyProperty),\n/* harmony export */   isTokenType: () => (/* binding */ isTokenType),\n/* harmony export */   singleAssignCategoriesToksMap: () => (/* binding */ singleAssignCategoriesToksMap),\n/* harmony export */   tokenIdxToClass: () => (/* binding */ tokenIdxToClass),\n/* harmony export */   tokenShortNameIdx: () => (/* binding */ tokenShortNameIdx),\n/* harmony export */   tokenStructuredMatcher: () => (/* binding */ tokenStructuredMatcher),\n/* harmony export */   tokenStructuredMatcherNoCategories: () => (/* binding */ tokenStructuredMatcherNoCategories)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/forEach.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/clone.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/compact.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/flatten.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/map.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/difference.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isEmpty.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isArray.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/includes.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/has.js\");\n\nfunction tokenStructuredMatcher(tokInstance, tokConstructor) {\n    const instanceType = tokInstance.tokenTypeIdx;\n    if (instanceType === tokConstructor.tokenTypeIdx) {\n        return true;\n    }\n    else {\n        return (tokConstructor.isParent === true &&\n            tokConstructor.categoryMatchesMap[instanceType] === true);\n    }\n}\n// Optimized tokenMatcher in case our grammar does not use token categories\n// Being so tiny it is much more likely to be in-lined and this avoid the function call overhead\nfunction tokenStructuredMatcherNoCategories(token, tokType) {\n    return token.tokenTypeIdx === tokType.tokenTypeIdx;\n}\nlet tokenShortNameIdx = 1;\nconst tokenIdxToClass = {};\nfunction augmentTokenTypes(tokenTypes) {\n    // collect the parent Token Types as well.\n    const tokenTypesAndParents = expandCategories(tokenTypes);\n    // add required tokenType and categoryMatches properties\n    assignTokenDefaultProps(tokenTypesAndParents);\n    // fill up the categoryMatches\n    assignCategoriesMapProp(tokenTypesAndParents);\n    assignCategoriesTokensProp(tokenTypesAndParents);\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(tokenTypesAndParents, (tokType) => {\n        tokType.isParent = tokType.categoryMatches.length > 0;\n    });\n}\nfunction expandCategories(tokenTypes) {\n    let result = (0,lodash_es__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(tokenTypes);\n    let categories = tokenTypes;\n    let searching = true;\n    while (searching) {\n        categories = (0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(categories, (currTokType) => currTokType.CATEGORIES)));\n        const newCategories = (0,lodash_es__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(categories, result);\n        result = result.concat(newCategories);\n        if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(newCategories)) {\n            searching = false;\n        }\n        else {\n            categories = newCategories;\n        }\n    }\n    return result;\n}\nfunction assignTokenDefaultProps(tokenTypes) {\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(tokenTypes, (currTokType) => {\n        if (!hasShortKeyProperty(currTokType)) {\n            tokenIdxToClass[tokenShortNameIdx] = currTokType;\n            currTokType.tokenTypeIdx = tokenShortNameIdx++;\n        }\n        // CATEGORIES? : TokenType | TokenType[]\n        if (hasCategoriesProperty(currTokType) &&\n            !(0,lodash_es__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(currTokType.CATEGORIES)\n        // &&\n        // !isUndefined(currTokType.CATEGORIES.PATTERN)\n        ) {\n            currTokType.CATEGORIES = [currTokType.CATEGORIES];\n        }\n        if (!hasCategoriesProperty(currTokType)) {\n            currTokType.CATEGORIES = [];\n        }\n        if (!hasExtendingTokensTypesProperty(currTokType)) {\n            currTokType.categoryMatches = [];\n        }\n        if (!hasExtendingTokensTypesMapProperty(currTokType)) {\n            currTokType.categoryMatchesMap = {};\n        }\n    });\n}\nfunction assignCategoriesTokensProp(tokenTypes) {\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(tokenTypes, (currTokType) => {\n        // avoid duplications\n        currTokType.categoryMatches = [];\n        (0,lodash_es__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(currTokType.categoryMatchesMap, (val, key) => {\n            currTokType.categoryMatches.push(tokenIdxToClass[key].tokenTypeIdx);\n        });\n    });\n}\nfunction assignCategoriesMapProp(tokenTypes) {\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(tokenTypes, (currTokType) => {\n        singleAssignCategoriesToksMap([], currTokType);\n    });\n}\nfunction singleAssignCategoriesToksMap(path, nextNode) {\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(path, (pathNode) => {\n        nextNode.categoryMatchesMap[pathNode.tokenTypeIdx] = true;\n    });\n    (0,lodash_es__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextNode.CATEGORIES, (nextCategory) => {\n        const newPath = path.concat(nextNode);\n        // avoids infinite loops due to cyclic categories.\n        if (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(newPath, nextCategory)) {\n            singleAssignCategoriesToksMap(newPath, nextCategory);\n        }\n    });\n}\nfunction hasShortKeyProperty(tokType) {\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(tokType, \"tokenTypeIdx\");\n}\nfunction hasCategoriesProperty(tokType) {\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(tokType, \"CATEGORIES\");\n}\nfunction hasExtendingTokensTypesProperty(tokType) {\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(tokType, \"categoryMatches\");\n}\nfunction hasExtendingTokensTypesMapProperty(tokType) {\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(tokType, \"categoryMatchesMap\");\n}\nfunction isTokenType(tokType) {\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(tokType, \"tokenTypeIdx\");\n}\n//# sourceMappingURL=tokens.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3NjYW4vdG9rZW5zLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ0g7QUFDekc7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDQTtBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHFEQUFPO0FBQ1g7QUFDQSxLQUFLO0FBQ0w7QUFDTztBQUNQLGlCQUFpQixxREFBSztBQUN0QjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIscURBQU8sQ0FBQyxxREFBTyxDQUFDLHFEQUFHO0FBQ3hDLDhCQUE4QixxREFBVTtBQUN4QztBQUNBLFlBQVkscURBQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsSUFBSSxxREFBTztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEscURBQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNPO0FBQ1AsSUFBSSxxREFBTztBQUNYO0FBQ0E7QUFDQSxRQUFRLHFEQUFPO0FBQ2Y7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ087QUFDUCxJQUFJLHFEQUFPO0FBQ1g7QUFDQSxLQUFLO0FBQ0w7QUFDTztBQUNQLElBQUkscURBQU87QUFDWDtBQUNBLEtBQUs7QUFDTCxJQUFJLHFEQUFPO0FBQ1g7QUFDQTtBQUNBLGFBQWEscURBQVE7QUFDckI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNPO0FBQ1AsV0FBVyxxREFBRztBQUNkO0FBQ087QUFDUCxXQUFXLHFEQUFHO0FBQ2Q7QUFDTztBQUNQLFdBQVcscURBQUc7QUFDZDtBQUNPO0FBQ1AsV0FBVyxxREFBRztBQUNkO0FBQ087QUFDUCxXQUFXLHFEQUFHO0FBQ2Q7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL21lcm1haWQtZGlhZ3JhbS1lZGl0b3IvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3NjYW4vdG9rZW5zLmpzPzVjOGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2xvbmUsIGNvbXBhY3QsIGRpZmZlcmVuY2UsIGZsYXR0ZW4sIGZvckVhY2gsIGhhcywgaW5jbHVkZXMsIGlzQXJyYXksIGlzRW1wdHksIG1hcCwgfSBmcm9tIFwibG9kYXNoLWVzXCI7XG5leHBvcnQgZnVuY3Rpb24gdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlcih0b2tJbnN0YW5jZSwgdG9rQ29uc3RydWN0b3IpIHtcbiAgICBjb25zdCBpbnN0YW5jZVR5cGUgPSB0b2tJbnN0YW5jZS50b2tlblR5cGVJZHg7XG4gICAgaWYgKGluc3RhbmNlVHlwZSA9PT0gdG9rQ29uc3RydWN0b3IudG9rZW5UeXBlSWR4KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuICh0b2tDb25zdHJ1Y3Rvci5pc1BhcmVudCA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgdG9rQ29uc3RydWN0b3IuY2F0ZWdvcnlNYXRjaGVzTWFwW2luc3RhbmNlVHlwZV0gPT09IHRydWUpO1xuICAgIH1cbn1cbi8vIE9wdGltaXplZCB0b2tlbk1hdGNoZXIgaW4gY2FzZSBvdXIgZ3JhbW1hciBkb2VzIG5vdCB1c2UgdG9rZW4gY2F0ZWdvcmllc1xuLy8gQmVpbmcgc28gdGlueSBpdCBpcyBtdWNoIG1vcmUgbGlrZWx5IHRvIGJlIGluLWxpbmVkIGFuZCB0aGlzIGF2b2lkIHRoZSBmdW5jdGlvbiBjYWxsIG92ZXJoZWFkXG5leHBvcnQgZnVuY3Rpb24gdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlck5vQ2F0ZWdvcmllcyh0b2tlbiwgdG9rVHlwZSkge1xuICAgIHJldHVybiB0b2tlbi50b2tlblR5cGVJZHggPT09IHRva1R5cGUudG9rZW5UeXBlSWR4O1xufVxuZXhwb3J0IGxldCB0b2tlblNob3J0TmFtZUlkeCA9IDE7XG5leHBvcnQgY29uc3QgdG9rZW5JZHhUb0NsYXNzID0ge307XG5leHBvcnQgZnVuY3Rpb24gYXVnbWVudFRva2VuVHlwZXModG9rZW5UeXBlcykge1xuICAgIC8vIGNvbGxlY3QgdGhlIHBhcmVudCBUb2tlbiBUeXBlcyBhcyB3ZWxsLlxuICAgIGNvbnN0IHRva2VuVHlwZXNBbmRQYXJlbnRzID0gZXhwYW5kQ2F0ZWdvcmllcyh0b2tlblR5cGVzKTtcbiAgICAvLyBhZGQgcmVxdWlyZWQgdG9rZW5UeXBlIGFuZCBjYXRlZ29yeU1hdGNoZXMgcHJvcGVydGllc1xuICAgIGFzc2lnblRva2VuRGVmYXVsdFByb3BzKHRva2VuVHlwZXNBbmRQYXJlbnRzKTtcbiAgICAvLyBmaWxsIHVwIHRoZSBjYXRlZ29yeU1hdGNoZXNcbiAgICBhc3NpZ25DYXRlZ29yaWVzTWFwUHJvcCh0b2tlblR5cGVzQW5kUGFyZW50cyk7XG4gICAgYXNzaWduQ2F0ZWdvcmllc1Rva2Vuc1Byb3AodG9rZW5UeXBlc0FuZFBhcmVudHMpO1xuICAgIGZvckVhY2godG9rZW5UeXBlc0FuZFBhcmVudHMsICh0b2tUeXBlKSA9PiB7XG4gICAgICAgIHRva1R5cGUuaXNQYXJlbnQgPSB0b2tUeXBlLmNhdGVnb3J5TWF0Y2hlcy5sZW5ndGggPiAwO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGV4cGFuZENhdGVnb3JpZXModG9rZW5UeXBlcykge1xuICAgIGxldCByZXN1bHQgPSBjbG9uZSh0b2tlblR5cGVzKTtcbiAgICBsZXQgY2F0ZWdvcmllcyA9IHRva2VuVHlwZXM7XG4gICAgbGV0IHNlYXJjaGluZyA9IHRydWU7XG4gICAgd2hpbGUgKHNlYXJjaGluZykge1xuICAgICAgICBjYXRlZ29yaWVzID0gY29tcGFjdChmbGF0dGVuKG1hcChjYXRlZ29yaWVzLCAoY3VyclRva1R5cGUpID0+IGN1cnJUb2tUeXBlLkNBVEVHT1JJRVMpKSk7XG4gICAgICAgIGNvbnN0IG5ld0NhdGVnb3JpZXMgPSBkaWZmZXJlbmNlKGNhdGVnb3JpZXMsIHJlc3VsdCk7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQobmV3Q2F0ZWdvcmllcyk7XG4gICAgICAgIGlmIChpc0VtcHR5KG5ld0NhdGVnb3JpZXMpKSB7XG4gICAgICAgICAgICBzZWFyY2hpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNhdGVnb3JpZXMgPSBuZXdDYXRlZ29yaWVzO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gYXNzaWduVG9rZW5EZWZhdWx0UHJvcHModG9rZW5UeXBlcykge1xuICAgIGZvckVhY2godG9rZW5UeXBlcywgKGN1cnJUb2tUeXBlKSA9PiB7XG4gICAgICAgIGlmICghaGFzU2hvcnRLZXlQcm9wZXJ0eShjdXJyVG9rVHlwZSkpIHtcbiAgICAgICAgICAgIHRva2VuSWR4VG9DbGFzc1t0b2tlblNob3J0TmFtZUlkeF0gPSBjdXJyVG9rVHlwZTtcbiAgICAgICAgICAgIGN1cnJUb2tUeXBlLnRva2VuVHlwZUlkeCA9IHRva2VuU2hvcnROYW1lSWR4Kys7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ0FURUdPUklFUz8gOiBUb2tlblR5cGUgfCBUb2tlblR5cGVbXVxuICAgICAgICBpZiAoaGFzQ2F0ZWdvcmllc1Byb3BlcnR5KGN1cnJUb2tUeXBlKSAmJlxuICAgICAgICAgICAgIWlzQXJyYXkoY3VyclRva1R5cGUuQ0FURUdPUklFUylcbiAgICAgICAgLy8gJiZcbiAgICAgICAgLy8gIWlzVW5kZWZpbmVkKGN1cnJUb2tUeXBlLkNBVEVHT1JJRVMuUEFUVEVSTilcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBjdXJyVG9rVHlwZS5DQVRFR09SSUVTID0gW2N1cnJUb2tUeXBlLkNBVEVHT1JJRVNdO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaGFzQ2F0ZWdvcmllc1Byb3BlcnR5KGN1cnJUb2tUeXBlKSkge1xuICAgICAgICAgICAgY3VyclRva1R5cGUuQ0FURUdPUklFUyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaGFzRXh0ZW5kaW5nVG9rZW5zVHlwZXNQcm9wZXJ0eShjdXJyVG9rVHlwZSkpIHtcbiAgICAgICAgICAgIGN1cnJUb2tUeXBlLmNhdGVnb3J5TWF0Y2hlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaGFzRXh0ZW5kaW5nVG9rZW5zVHlwZXNNYXBQcm9wZXJ0eShjdXJyVG9rVHlwZSkpIHtcbiAgICAgICAgICAgIGN1cnJUb2tUeXBlLmNhdGVnb3J5TWF0Y2hlc01hcCA9IHt9O1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gYXNzaWduQ2F0ZWdvcmllc1Rva2Vuc1Byb3AodG9rZW5UeXBlcykge1xuICAgIGZvckVhY2godG9rZW5UeXBlcywgKGN1cnJUb2tUeXBlKSA9PiB7XG4gICAgICAgIC8vIGF2b2lkIGR1cGxpY2F0aW9uc1xuICAgICAgICBjdXJyVG9rVHlwZS5jYXRlZ29yeU1hdGNoZXMgPSBbXTtcbiAgICAgICAgZm9yRWFjaChjdXJyVG9rVHlwZS5jYXRlZ29yeU1hdGNoZXNNYXAsICh2YWwsIGtleSkgPT4ge1xuICAgICAgICAgICAgY3VyclRva1R5cGUuY2F0ZWdvcnlNYXRjaGVzLnB1c2godG9rZW5JZHhUb0NsYXNzW2tleV0udG9rZW5UeXBlSWR4KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gYXNzaWduQ2F0ZWdvcmllc01hcFByb3AodG9rZW5UeXBlcykge1xuICAgIGZvckVhY2godG9rZW5UeXBlcywgKGN1cnJUb2tUeXBlKSA9PiB7XG4gICAgICAgIHNpbmdsZUFzc2lnbkNhdGVnb3JpZXNUb2tzTWFwKFtdLCBjdXJyVG9rVHlwZSk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gc2luZ2xlQXNzaWduQ2F0ZWdvcmllc1Rva3NNYXAocGF0aCwgbmV4dE5vZGUpIHtcbiAgICBmb3JFYWNoKHBhdGgsIChwYXRoTm9kZSkgPT4ge1xuICAgICAgICBuZXh0Tm9kZS5jYXRlZ29yeU1hdGNoZXNNYXBbcGF0aE5vZGUudG9rZW5UeXBlSWR4XSA9IHRydWU7XG4gICAgfSk7XG4gICAgZm9yRWFjaChuZXh0Tm9kZS5DQVRFR09SSUVTLCAobmV4dENhdGVnb3J5KSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1BhdGggPSBwYXRoLmNvbmNhdChuZXh0Tm9kZSk7XG4gICAgICAgIC8vIGF2b2lkcyBpbmZpbml0ZSBsb29wcyBkdWUgdG8gY3ljbGljIGNhdGVnb3JpZXMuXG4gICAgICAgIGlmICghaW5jbHVkZXMobmV3UGF0aCwgbmV4dENhdGVnb3J5KSkge1xuICAgICAgICAgICAgc2luZ2xlQXNzaWduQ2F0ZWdvcmllc1Rva3NNYXAobmV3UGF0aCwgbmV4dENhdGVnb3J5KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhc1Nob3J0S2V5UHJvcGVydHkodG9rVHlwZSkge1xuICAgIHJldHVybiBoYXModG9rVHlwZSwgXCJ0b2tlblR5cGVJZHhcIik7XG59XG5leHBvcnQgZnVuY3Rpb24gaGFzQ2F0ZWdvcmllc1Byb3BlcnR5KHRva1R5cGUpIHtcbiAgICByZXR1cm4gaGFzKHRva1R5cGUsIFwiQ0FURUdPUklFU1wiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYXNFeHRlbmRpbmdUb2tlbnNUeXBlc1Byb3BlcnR5KHRva1R5cGUpIHtcbiAgICByZXR1cm4gaGFzKHRva1R5cGUsIFwiY2F0ZWdvcnlNYXRjaGVzXCIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhc0V4dGVuZGluZ1Rva2Vuc1R5cGVzTWFwUHJvcGVydHkodG9rVHlwZSkge1xuICAgIHJldHVybiBoYXModG9rVHlwZSwgXCJjYXRlZ29yeU1hdGNoZXNNYXBcIik7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNUb2tlblR5cGUodG9rVHlwZSkge1xuICAgIHJldHVybiBoYXModG9rVHlwZSwgXCJ0b2tlblR5cGVJZHhcIik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b2tlbnMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/scan/tokens.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/scan/tokens_public.js":
/*!***************************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/scan/tokens_public.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EOF: () => (/* binding */ EOF),\n/* harmony export */   createToken: () => (/* binding */ createToken),\n/* harmony export */   createTokenInstance: () => (/* binding */ createTokenInstance),\n/* harmony export */   hasTokenLabel: () => (/* binding */ hasTokenLabel),\n/* harmony export */   tokenLabel: () => (/* binding */ tokenLabel),\n/* harmony export */   tokenMatcher: () => (/* binding */ tokenMatcher),\n/* harmony export */   tokenName: () => (/* binding */ tokenName)\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isString.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/isUndefined.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"(ssr)/./node_modules/lodash-es/has.js\");\n/* harmony import */ var _lexer_public_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lexer_public.js */ \"(ssr)/./node_modules/chevrotain/lib/src/scan/lexer_public.js\");\n/* harmony import */ var _tokens_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tokens.js */ \"(ssr)/./node_modules/chevrotain/lib/src/scan/tokens.js\");\n\n\n\nfunction tokenLabel(tokType) {\n    if (hasTokenLabel(tokType)) {\n        return tokType.LABEL;\n    }\n    else {\n        return tokType.name;\n    }\n}\nfunction tokenName(tokType) {\n    return tokType.name;\n}\nfunction hasTokenLabel(obj) {\n    return (0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(obj.LABEL) && obj.LABEL !== \"\";\n}\nconst PARENT = \"parent\";\nconst CATEGORIES = \"categories\";\nconst LABEL = \"label\";\nconst GROUP = \"group\";\nconst PUSH_MODE = \"push_mode\";\nconst POP_MODE = \"pop_mode\";\nconst LONGER_ALT = \"longer_alt\";\nconst LINE_BREAKS = \"line_breaks\";\nconst START_CHARS_HINT = \"start_chars_hint\";\nfunction createToken(config) {\n    return createTokenInternal(config);\n}\nfunction createTokenInternal(config) {\n    const pattern = config.pattern;\n    const tokenType = {};\n    tokenType.name = config.name;\n    if (!(0,lodash_es__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(pattern)) {\n        tokenType.PATTERN = pattern;\n    }\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config, PARENT)) {\n        throw (\"The parent property is no longer supported.\\n\" +\n            \"See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.\");\n    }\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config, CATEGORIES)) {\n        // casting to ANY as this will be fixed inside `augmentTokenTypes``\n        tokenType.CATEGORIES = config[CATEGORIES];\n    }\n    (0,_tokens_js__WEBPACK_IMPORTED_MODULE_1__.augmentTokenTypes)([tokenType]);\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config, LABEL)) {\n        tokenType.LABEL = config[LABEL];\n    }\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config, GROUP)) {\n        tokenType.GROUP = config[GROUP];\n    }\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config, POP_MODE)) {\n        tokenType.POP_MODE = config[POP_MODE];\n    }\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config, PUSH_MODE)) {\n        tokenType.PUSH_MODE = config[PUSH_MODE];\n    }\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config, LONGER_ALT)) {\n        tokenType.LONGER_ALT = config[LONGER_ALT];\n    }\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config, LINE_BREAKS)) {\n        tokenType.LINE_BREAKS = config[LINE_BREAKS];\n    }\n    if ((0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config, START_CHARS_HINT)) {\n        tokenType.START_CHARS_HINT = config[START_CHARS_HINT];\n    }\n    return tokenType;\n}\nconst EOF = createToken({ name: \"EOF\", pattern: _lexer_public_js__WEBPACK_IMPORTED_MODULE_0__.Lexer.NA });\n(0,_tokens_js__WEBPACK_IMPORTED_MODULE_1__.augmentTokenTypes)([EOF]);\nfunction createTokenInstance(tokType, image, startOffset, endOffset, startLine, endLine, startColumn, endColumn) {\n    return {\n        image,\n        startOffset,\n        endOffset,\n        startLine,\n        endLine,\n        startColumn,\n        endColumn,\n        tokenTypeIdx: tokType.tokenTypeIdx,\n        tokenType: tokType,\n    };\n}\nfunction tokenMatcher(token, tokType) {\n    return (0,_tokens_js__WEBPACK_IMPORTED_MODULE_1__.tokenStructuredMatcher)(token, tokType);\n}\n//# sourceMappingURL=tokens_public.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3NjYW4vdG9rZW5zX3B1YmxpYy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBdUQ7QUFDYjtBQUM4QjtBQUNqRTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUCxXQUFXLHFEQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHFEQUFXO0FBQ3BCO0FBQ0E7QUFDQSxRQUFRLHFEQUFHO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxREFBRztBQUNYO0FBQ0E7QUFDQTtBQUNBLElBQUksNkRBQWlCO0FBQ3JCLFFBQVEscURBQUc7QUFDWDtBQUNBO0FBQ0EsUUFBUSxxREFBRztBQUNYO0FBQ0E7QUFDQSxRQUFRLHFEQUFHO0FBQ1g7QUFDQTtBQUNBLFFBQVEscURBQUc7QUFDWDtBQUNBO0FBQ0EsUUFBUSxxREFBRztBQUNYO0FBQ0E7QUFDQSxRQUFRLHFEQUFHO0FBQ1g7QUFDQTtBQUNBLFFBQVEscURBQUc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNPLDBCQUEwQixzQkFBc0IsbURBQUssS0FBSztBQUNqRSw2REFBaUI7QUFDVjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsV0FBVyxrRUFBc0I7QUFDakM7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL21lcm1haWQtZGlhZ3JhbS1lZGl0b3IvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3NjYW4vdG9rZW5zX3B1YmxpYy5qcz85MzJiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGhhcywgaXNTdHJpbmcsIGlzVW5kZWZpbmVkIH0gZnJvbSBcImxvZGFzaC1lc1wiO1xuaW1wb3J0IHsgTGV4ZXIgfSBmcm9tIFwiLi9sZXhlcl9wdWJsaWMuanNcIjtcbmltcG9ydCB7IGF1Z21lbnRUb2tlblR5cGVzLCB0b2tlblN0cnVjdHVyZWRNYXRjaGVyIH0gZnJvbSBcIi4vdG9rZW5zLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gdG9rZW5MYWJlbCh0b2tUeXBlKSB7XG4gICAgaWYgKGhhc1Rva2VuTGFiZWwodG9rVHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIHRva1R5cGUuTEFCRUw7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdG9rVHlwZS5uYW1lO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiB0b2tlbk5hbWUodG9rVHlwZSkge1xuICAgIHJldHVybiB0b2tUeXBlLm5hbWU7XG59XG5leHBvcnQgZnVuY3Rpb24gaGFzVG9rZW5MYWJlbChvYmopIHtcbiAgICByZXR1cm4gaXNTdHJpbmcob2JqLkxBQkVMKSAmJiBvYmouTEFCRUwgIT09IFwiXCI7XG59XG5jb25zdCBQQVJFTlQgPSBcInBhcmVudFwiO1xuY29uc3QgQ0FURUdPUklFUyA9IFwiY2F0ZWdvcmllc1wiO1xuY29uc3QgTEFCRUwgPSBcImxhYmVsXCI7XG5jb25zdCBHUk9VUCA9IFwiZ3JvdXBcIjtcbmNvbnN0IFBVU0hfTU9ERSA9IFwicHVzaF9tb2RlXCI7XG5jb25zdCBQT1BfTU9ERSA9IFwicG9wX21vZGVcIjtcbmNvbnN0IExPTkdFUl9BTFQgPSBcImxvbmdlcl9hbHRcIjtcbmNvbnN0IExJTkVfQlJFQUtTID0gXCJsaW5lX2JyZWFrc1wiO1xuY29uc3QgU1RBUlRfQ0hBUlNfSElOVCA9IFwic3RhcnRfY2hhcnNfaGludFwiO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRva2VuKGNvbmZpZykge1xuICAgIHJldHVybiBjcmVhdGVUb2tlbkludGVybmFsKGNvbmZpZyk7XG59XG5mdW5jdGlvbiBjcmVhdGVUb2tlbkludGVybmFsKGNvbmZpZykge1xuICAgIGNvbnN0IHBhdHRlcm4gPSBjb25maWcucGF0dGVybjtcbiAgICBjb25zdCB0b2tlblR5cGUgPSB7fTtcbiAgICB0b2tlblR5cGUubmFtZSA9IGNvbmZpZy5uYW1lO1xuICAgIGlmICghaXNVbmRlZmluZWQocGF0dGVybikpIHtcbiAgICAgICAgdG9rZW5UeXBlLlBBVFRFUk4gPSBwYXR0ZXJuO1xuICAgIH1cbiAgICBpZiAoaGFzKGNvbmZpZywgUEFSRU5UKSkge1xuICAgICAgICB0aHJvdyAoXCJUaGUgcGFyZW50IHByb3BlcnR5IGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQuXFxuXCIgK1xuICAgICAgICAgICAgXCJTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9jaGV2cm90YWluL2NoZXZyb3RhaW4vaXNzdWVzLzU2NCNpc3N1ZWNvbW1lbnQtMzQ5MDYyMzQ2IGZvciBkZXRhaWxzLlwiKTtcbiAgICB9XG4gICAgaWYgKGhhcyhjb25maWcsIENBVEVHT1JJRVMpKSB7XG4gICAgICAgIC8vIGNhc3RpbmcgdG8gQU5ZIGFzIHRoaXMgd2lsbCBiZSBmaXhlZCBpbnNpZGUgYGF1Z21lbnRUb2tlblR5cGVzYGBcbiAgICAgICAgdG9rZW5UeXBlLkNBVEVHT1JJRVMgPSBjb25maWdbQ0FURUdPUklFU107XG4gICAgfVxuICAgIGF1Z21lbnRUb2tlblR5cGVzKFt0b2tlblR5cGVdKTtcbiAgICBpZiAoaGFzKGNvbmZpZywgTEFCRUwpKSB7XG4gICAgICAgIHRva2VuVHlwZS5MQUJFTCA9IGNvbmZpZ1tMQUJFTF07XG4gICAgfVxuICAgIGlmIChoYXMoY29uZmlnLCBHUk9VUCkpIHtcbiAgICAgICAgdG9rZW5UeXBlLkdST1VQID0gY29uZmlnW0dST1VQXTtcbiAgICB9XG4gICAgaWYgKGhhcyhjb25maWcsIFBPUF9NT0RFKSkge1xuICAgICAgICB0b2tlblR5cGUuUE9QX01PREUgPSBjb25maWdbUE9QX01PREVdO1xuICAgIH1cbiAgICBpZiAoaGFzKGNvbmZpZywgUFVTSF9NT0RFKSkge1xuICAgICAgICB0b2tlblR5cGUuUFVTSF9NT0RFID0gY29uZmlnW1BVU0hfTU9ERV07XG4gICAgfVxuICAgIGlmIChoYXMoY29uZmlnLCBMT05HRVJfQUxUKSkge1xuICAgICAgICB0b2tlblR5cGUuTE9OR0VSX0FMVCA9IGNvbmZpZ1tMT05HRVJfQUxUXTtcbiAgICB9XG4gICAgaWYgKGhhcyhjb25maWcsIExJTkVfQlJFQUtTKSkge1xuICAgICAgICB0b2tlblR5cGUuTElORV9CUkVBS1MgPSBjb25maWdbTElORV9CUkVBS1NdO1xuICAgIH1cbiAgICBpZiAoaGFzKGNvbmZpZywgU1RBUlRfQ0hBUlNfSElOVCkpIHtcbiAgICAgICAgdG9rZW5UeXBlLlNUQVJUX0NIQVJTX0hJTlQgPSBjb25maWdbU1RBUlRfQ0hBUlNfSElOVF07XG4gICAgfVxuICAgIHJldHVybiB0b2tlblR5cGU7XG59XG5leHBvcnQgY29uc3QgRU9GID0gY3JlYXRlVG9rZW4oeyBuYW1lOiBcIkVPRlwiLCBwYXR0ZXJuOiBMZXhlci5OQSB9KTtcbmF1Z21lbnRUb2tlblR5cGVzKFtFT0ZdKTtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUb2tlbkluc3RhbmNlKHRva1R5cGUsIGltYWdlLCBzdGFydE9mZnNldCwgZW5kT2Zmc2V0LCBzdGFydExpbmUsIGVuZExpbmUsIHN0YXJ0Q29sdW1uLCBlbmRDb2x1bW4pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpbWFnZSxcbiAgICAgICAgc3RhcnRPZmZzZXQsXG4gICAgICAgIGVuZE9mZnNldCxcbiAgICAgICAgc3RhcnRMaW5lLFxuICAgICAgICBlbmRMaW5lLFxuICAgICAgICBzdGFydENvbHVtbixcbiAgICAgICAgZW5kQ29sdW1uLFxuICAgICAgICB0b2tlblR5cGVJZHg6IHRva1R5cGUudG9rZW5UeXBlSWR4LFxuICAgICAgICB0b2tlblR5cGU6IHRva1R5cGUsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b2tlbk1hdGNoZXIodG9rZW4sIHRva1R5cGUpIHtcbiAgICByZXR1cm4gdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlcih0b2tlbiwgdG9rVHlwZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b2tlbnNfcHVibGljLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/scan/tokens_public.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/chevrotain/lib/src/version.js":
/*!****************************************************!*\
  !*** ./node_modules/chevrotain/lib/src/version.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VERSION: () => (/* binding */ VERSION)\n/* harmony export */ });\n// needs a separate module as this is required inside chevrotain productive code\n// and also in the entry point for webpack(api.ts).\n// A separate file avoids cyclic dependencies and webpack errors.\nconst VERSION = \"11.0.3\";\n//# sourceMappingURL=version.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWIvc3JjL3ZlcnNpb24uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXJtYWlkLWRpYWdyYW0tZWRpdG9yLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliL3NyYy92ZXJzaW9uLmpzPzQ0ZTIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gbmVlZHMgYSBzZXBhcmF0ZSBtb2R1bGUgYXMgdGhpcyBpcyByZXF1aXJlZCBpbnNpZGUgY2hldnJvdGFpbiBwcm9kdWN0aXZlIGNvZGVcbi8vIGFuZCBhbHNvIGluIHRoZSBlbnRyeSBwb2ludCBmb3Igd2VicGFjayhhcGkudHMpLlxuLy8gQSBzZXBhcmF0ZSBmaWxlIGF2b2lkcyBjeWNsaWMgZGVwZW5kZW5jaWVzIGFuZCB3ZWJwYWNrIGVycm9ycy5cbmV4cG9ydCBjb25zdCBWRVJTSU9OID0gXCIxMS4wLjNcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlcnNpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/chevrotain/lib/src/version.js\n");

/***/ })

};
;